(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Jd={exports:{}},Nl={};var sv;function mA(){if(sv)return Nl;sv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Nl.Fragment=t,Nl.jsx=n,Nl.jsxs=n,Nl}var rv;function gA(){return rv||(rv=1,Jd.exports=mA()),Jd.exports}var w=gA(),Zd={exports:{}},Tt={};var av;function pA(){if(av)return Tt;av=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function tt(V,$,it){this.props=V,this.context=$,this.refs=J,this.updater=it||Y}tt.prototype.isReactComponent={},tt.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},tt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function at(){}at.prototype=tt.prototype;function st(V,$,it){this.props=V,this.context=$,this.refs=J,this.updater=it||Y}var ct=st.prototype=new at;ct.constructor=st,W(ct,tt.prototype),ct.isPureReactComponent=!0;var It=Array.isArray;function At(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(V,$,it){var lt=it.ref;return{$$typeof:s,type:V,key:$,ref:lt!==void 0?lt:null,props:it}}function O(V,$){return R(V.type,$,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function L(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(it){return $[it]})}var C=/\/+/g;function Xt(V,$){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):$.toString(36)}function ce(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(At,At):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,$,it,lt,vt){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var Lt=!1;if(V===null)Lt=!0;else switch(Rt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(V.$$typeof){case s:case t:Lt=!0;break;case T:return Lt=V._init,F(Lt(V._payload),$,it,lt,vt)}}if(Lt)return vt=vt(V),Lt=lt===""?"."+Xt(V,0):lt,It(vt)?(it="",Lt!=null&&(it=Lt.replace(C,"$&/")+"/"),F(vt,$,it,"",function(mr){return mr})):vt!=null&&(D(vt)&&(vt=O(vt,it+(vt.key==null||V&&V.key===vt.key?"":(""+vt.key).replace(C,"$&/")+"/")+Lt)),$.push(vt)),1;Lt=0;var Me=lt===""?".":lt+":";if(It(V))for(var re=0;re<V.length;re++)lt=V[re],Rt=Me+Xt(lt,re),Lt+=F(lt,$,it,Rt,vt);else if(re=k(V),typeof re=="function")for(V=re.call(V),re=0;!(lt=V.next()).done;)lt=lt.value,Rt=Me+Xt(lt,re++),Lt+=F(lt,$,it,Rt,vt);else if(Rt==="object"){if(typeof V.then=="function")return F(ce(V),$,it,lt,vt);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function et(V,$,it){if(V==null)return V;var lt=[],vt=0;return F(V,lt,"","",function(Rt){return $.call(it,Rt,vt++)}),lt}function gt(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(it){(V._status===0||V._status===-1)&&(V._status=1,V._result=it)},function(it){(V._status===0||V._status===-1)&&(V._status=2,V._result=it)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var zt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:et,forEach:function(V,$,it){et(V,function(){$.apply(this,arguments)},it)},count:function(V){var $=0;return et(V,function(){$++}),$},toArray:function(V){return et(V,function($){return $})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Tt.Activity=S,Tt.Children=Gt,Tt.Component=tt,Tt.Fragment=n,Tt.Profiler=l,Tt.PureComponent=st,Tt.StrictMode=r,Tt.Suspense=y,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(V,$,it){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var lt=W({},V.props),vt=V.key;if($!=null)for(Rt in $.key!==void 0&&(vt=""+$.key),$)!A.call($,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&$.ref===void 0||(lt[Rt]=$[Rt]);var Rt=arguments.length-2;if(Rt===1)lt.children=it;else if(1<Rt){for(var Lt=Array(Rt),Me=0;Me<Rt;Me++)Lt[Me]=arguments[Me+2];lt.children=Lt}return R(V.type,vt,lt)},Tt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Tt.createElement=function(V,$,it){var lt,vt={},Rt=null;if($!=null)for(lt in $.key!==void 0&&(Rt=""+$.key),$)A.call($,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(vt[lt]=$[lt]);var Lt=arguments.length-2;if(Lt===1)vt.children=it;else if(1<Lt){for(var Me=Array(Lt),re=0;re<Lt;re++)Me[re]=arguments[re+2];vt.children=Me}if(V&&V.defaultProps)for(lt in Lt=V.defaultProps,Lt)vt[lt]===void 0&&(vt[lt]=Lt[lt]);return R(V,Rt,vt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:g,render:V}},Tt.isValidElement=D,Tt.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:gt}},Tt.memo=function(V,$){return{$$typeof:p,type:V,compare:$===void 0?null:$}},Tt.startTransition=function(V){var $=N.T,it={};N.T=it;try{var lt=V(),vt=N.S;vt!==null&&vt(it,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(At,zt)}catch(Rt){zt(Rt)}finally{$!==null&&it.types!==null&&($.types=it.types),N.T=$}},Tt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Tt.use=function(V){return N.H.use(V)},Tt.useActionState=function(V,$,it){return N.H.useActionState(V,$,it)},Tt.useCallback=function(V,$){return N.H.useCallback(V,$)},Tt.useContext=function(V){return N.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,$){return N.H.useDeferredValue(V,$)},Tt.useEffect=function(V,$){return N.H.useEffect(V,$)},Tt.useEffectEvent=function(V){return N.H.useEffectEvent(V)},Tt.useId=function(){return N.H.useId()},Tt.useImperativeHandle=function(V,$,it){return N.H.useImperativeHandle(V,$,it)},Tt.useInsertionEffect=function(V,$){return N.H.useInsertionEffect(V,$)},Tt.useLayoutEffect=function(V,$){return N.H.useLayoutEffect(V,$)},Tt.useMemo=function(V,$){return N.H.useMemo(V,$)},Tt.useOptimistic=function(V,$){return N.H.useOptimistic(V,$)},Tt.useReducer=function(V,$,it){return N.H.useReducer(V,$,it)},Tt.useRef=function(V){return N.H.useRef(V)},Tt.useState=function(V){return N.H.useState(V)},Tt.useSyncExternalStore=function(V,$,it){return N.H.useSyncExternalStore(V,$,it)},Tt.useTransition=function(){return N.H.useTransition()},Tt.version="19.2.4",Tt}var ov;function Fm(){return ov||(ov=1,Zd.exports=pA()),Zd.exports}var dt=Fm(),Wd={exports:{}},xl={},tm={exports:{}},em={};var lv;function yA(){return lv||(lv=1,(function(s){function t(F,et){var gt=F.length;F.push(et);t:for(;0<gt;){var zt=gt-1>>>1,Gt=F[zt];if(0<l(Gt,et))F[zt]=et,F[gt]=Gt,gt=zt;else break t}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var et=F[0],gt=F.pop();if(gt!==et){F[0]=gt;t:for(var zt=0,Gt=F.length,V=Gt>>>1;zt<V;){var $=2*(zt+1)-1,it=F[$],lt=$+1,vt=F[lt];if(0>l(it,gt))lt<Gt&&0>l(vt,it)?(F[zt]=vt,F[lt]=gt,zt=lt):(F[zt]=it,F[$]=gt,zt=$);else if(lt<Gt&&0>l(vt,gt))F[zt]=vt,F[lt]=gt,zt=lt;else break t}}return et}function l(F,et){var gt=F.sortIndex-et.sortIndex;return gt!==0?gt:F.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],p=[],T=1,S=null,x=3,k=!1,Y=!1,W=!1,J=!1,tt=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function ct(F){for(var et=n(p);et!==null;){if(et.callback===null)r(p);else if(et.startTime<=F)r(p),et.sortIndex=et.expirationTime,t(y,et);else break;et=n(p)}}function It(F){if(W=!1,ct(F),!Y)if(n(y)!==null)Y=!0,At||(At=!0,L());else{var et=n(p);et!==null&&ce(It,et.startTime-F)}}var At=!1,N=-1,A=5,R=-1;function O(){return J?!0:!(s.unstable_now()-R<A)}function D(){if(J=!1,At){var F=s.unstable_now();R=F;var et=!0;try{t:{Y=!1,W&&(W=!1,at(N),N=-1),k=!0;var gt=x;try{e:{for(ct(F),S=n(y);S!==null&&!(S.expirationTime>F&&O());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,x=S.priorityLevel;var Gt=zt(S.expirationTime<=F);if(F=s.unstable_now(),typeof Gt=="function"){S.callback=Gt,ct(F),et=!0;break e}S===n(y)&&r(y),ct(F)}else r(y);S=n(y)}if(S!==null)et=!0;else{var V=n(p);V!==null&&ce(It,V.startTime-F),et=!1}}break t}finally{S=null,x=gt,k=!1}et=void 0}}finally{et?L():At=!1}}}var L;if(typeof st=="function")L=function(){st(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Xt=C.port2;C.port1.onmessage=D,L=function(){Xt.postMessage(null)}}else L=function(){tt(D,0)};function ce(F,et){N=tt(function(){F(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(F){switch(x){case 1:case 2:case 3:var et=3;break;default:et=x}var gt=x;x=et;try{return F()}finally{x=gt}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var gt=x;x=F;try{return et()}finally{x=gt}},s.unstable_scheduleCallback=function(F,et,gt){var zt=s.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?zt+gt:zt):gt=zt,F){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=gt+Gt,F={id:T++,callback:et,priorityLevel:F,startTime:gt,expirationTime:Gt,sortIndex:-1},gt>zt?(F.sortIndex=gt,t(p,F),n(y)===null&&F===n(p)&&(W?(at(N),N=-1):W=!0,ce(It,gt-zt))):(F.sortIndex=Gt,t(y,F),Y||k||(Y=!0,At||(At=!0,L()))),F},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(F){var et=x;return function(){var gt=x;x=et;try{return F.apply(this,arguments)}finally{x=gt}}}})(em)),em}var uv;function _A(){return uv||(uv=1,tm.exports=yA()),tm.exports}var nm={exports:{}},$e={};var cv;function vA(){if(cv)return $e;cv=1;var s=Fm();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:p,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$e.createPortal=function(y,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(y,p,null,T)},$e.flushSync=function(y){var p=d.T,T=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=p,r.p=T,r.d.f()}},$e.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},$e.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},$e.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:k}):T==="script"&&r.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$e.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},$e.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin);r.d.L(y,T,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$e.preloadModule=function(y,p){if(typeof y=="string")if(p){var T=g(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},$e.requestFormReset=function(y){r.d.r(y)},$e.unstable_batchedUpdates=function(y,p){return y(p)},$e.useFormState=function(y,p,T){return d.H.useFormState(y,p,T)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.4",$e}var hv;function EA(){if(hv)return nm.exports;hv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),nm.exports=vA(),nm.exports}var fv;function TA(){if(fv)return xl;fv=1;var s=_A(),t=Fm(),n=EA();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(r(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),st=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case tt:return"Profiler";case J:return"StrictMode";case It:return"Suspense";case At:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case st:return e.displayName||"Context";case at:return(e._context.displayName||"Context")+".Consumer";case ct:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:Xt(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return Xt(e(i))}catch{}}return null}var ce=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function V(e){return{current:e}}function $(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function it(e,i){Gt++,zt[Gt]=e.current,e.current=i}var lt=V(null),vt=V(null),Rt=V(null),Lt=V(null);function Me(e,i){switch(it(Rt,i),it(vt,e),it(lt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?C_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=C_(i),e=I_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(lt),it(lt,e)}function re(){$(lt),$(vt),$(Rt)}function mr(e){e.memoizedState!==null&&it(Lt,e);var i=lt.current,a=I_(i,e.type);i!==a&&(it(vt,e),it(lt,a))}function ia(e){vt.current===e&&($(lt),$(vt)),Lt.current===e&&($(Lt),wl._currentValue=gt)}var sa,ra;function si(e){if(sa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);sa=i&&i[1]||"",ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sa+e+ra}var wo=!1;function gr(e,i){if(!e||wo)return"";wo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var I=_.split(`
`),j=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===j.length)for(o=I.length-1,h=j.length-1;1<=o&&0<=h&&I[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==j[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{wo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?si(a):""}function Ro(e,i){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return gr(e.type,!1);case 11:return gr(e.type.render,!1);case 1:return gr(e.type,!0);case 31:return si("Activity");default:return""}}function Co(e){try{var i="",a=null;do i+=Ro(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Te=Object.prototype.hasOwnProperty,Ve=s.unstable_scheduleCallback,us=s.unstable_cancelCallback,Zh=s.unstable_shouldYield,gu=s.unstable_requestPaint,en=s.unstable_now,pr=s.unstable_getCurrentPriorityLevel,Io=s.unstable_ImmediatePriority,No=s.unstable_UserBlockingPriority,cs=s.unstable_NormalPriority,Wh=s.unstable_LowPriority,pu=s.unstable_IdlePriority,yu=s.log,_u=s.unstable_setDisableYieldValue,qn=null,Be=null;function In(e){if(typeof yu=="function"&&_u(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(qn,e)}catch{}}var ge=Math.clz32?Math.clz32:Eu,vu=Math.log,aa=Math.LN2;function Eu(e){return e>>>=0,e===0?32:31-(vu(e)/aa|0)|0}var ri=256,yr=262144,be=4194304;function ai(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ai(o):(_&=E,_!==0?h=ai(_):a||(a=E&~e,a!==0&&(h=ai(a))))):(E=o&~f,E!==0?h=ai(E):_!==0?h=ai(_):a||(a=o&~e,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Hn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function tf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tu(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function li(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function _r(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ef(e,i,a,o,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-ge(a),X=1<<G;E[G]=0,I[G]=-1;var B=j[G];if(B!==null)for(j[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&vr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~i))}function vr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-ge(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function xo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-ge(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Do(e,i){var a=i&-i;return a=(a&42)!==0?1:Er(a),(a&(e.suspendedLanes|i))!==0?0:a}function Er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:J_(e.type))}function Fn(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var Gn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Gn,Le="__reactProps$"+Gn,ui="__reactContainer$"+Gn,oa="__reactEvents$"+Gn,nf="__reactListeners$"+Gn,Au="__reactHandles$"+Gn,Su="__reactResources$"+Gn,ci="__reactMarker$"+Gn;function la(e){delete e[Ae],delete e[Le],delete e[oa],delete e[nf],delete e[Au]}function hi(e){var i=e[Ae];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ui]||a[Ae]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=k_(e);e!==null;){if(a=e[Ae])return a;e=k_(e)}return i}e=a,a=e.parentNode}return null}function Nn(e){if(e=e[Ae]||e[ui]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function gn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function fi(e){var i=e[Su];return i||(i=e[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Se(e){e[ci]=!0}var Oo=new Set,Mo={};function di(e,i){mi(e,i),mi(e+"Capture",i)}function mi(e,i){for(Mo[e]=i,e=0;e<i.length;e++)Oo.add(i[e])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Uo={};function wu(e){return Te.call(Uo,e)?!0:Te.call(ko,e)?!1:Vo.test(e)?Uo[e]=!0:(ko[e]=!0,!1)}function ua(e,i,a){if(wu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function pn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function we(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hs(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lo(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Yt(e){if(!e._valueTracker){var i=hs(e)?"checked":"value";e._valueTracker=Lo(e,i,""+e[i])}}function Tr(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=hs(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var br=/[\n"\\]/g;function an(e){return e.replace(br,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ca(e,i,a,o,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Po(e,_,Pe(i)):a!=null?Po(e,_,Pe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Pe(E):e.removeAttribute("name")}function Ru(e,i,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Yt(e);return}a=a!=null?""+Pe(a):"",i=i!=null?""+Pe(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Yt(e)}function Po(e,i,a){i==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function fs(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Cu(e,i,a){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Pe(a):""}function ds(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(ce(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pe(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Yt(e)}function on(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Iu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function jo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&zo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&zo(e,f,i[f])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return ms.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Bo=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gs=null,pi=null;function Ar(e){var i=Nn(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(ca(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Le]||null;if(!h)throw Error(r(90));ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&Tr(o)}break t;case"textarea":Cu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&fs(e,!!a.multiple,i,!1)}}}var da=!1;function ps(e,i,a){if(da)return e(i,a);da=!0;try{var o=e(i);return o}finally{if(da=!1,(gs!==null||pi!==null)&&(bc(),gs&&(i=gs,e=pi,pi=gs=null,Ar(i),e)))for(i=0;i<e.length;i++)Ar(e[i])}}function Kn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Le]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(Dn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Sr=!1}var yi=null,qo=null,wr=null;function Ho(){if(wr)return wr;var e,i=qo,a=i.length,o,h="value"in yi?yi.value:yi.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return wr=h.slice(e,1<o?1-o:void 0)}function Rr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Qn(){return!1}function qe(e){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Qn,this.isPropagationStopped=Qn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),i}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=qe(Ui),ys=S({},Ui,{view:0,detail:0}),Fo=qe(ys),_s,ma,vi,ga=S({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(_s=e.screenX-vi.screenX,ma=e.screenY-vi.screenY):ma=_s=0,vi=e),_s)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),Go=qe(ga),Cr=S({},ga,{dataTransfer:0}),xu=qe(Cr),Du=S({},ys,{relatedTarget:0}),Ir=qe(Du),Yo=S({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Ou=qe(Yo),pa=S({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mu=qe(pa),Vu=S({},Ui,{data:0}),Ei=qe(Vu),ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Lu[e])?!!i[e]:!1}function vs(){return Pu}var nn=S({},ys,{key:function(e){if(e.key){var i=ku[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?Rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zu=qe(nn),ju=S({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=qe(ju),c=S({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),m=qe(c),v=S({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=qe(v),P=S({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=qe(P),nt=S({},Ui,{newState:0,oldState:0}),St=qe(nt),pe=[9,13,27,32],qt=Dn&&"CompositionEvent"in window,ae=null;Dn&&"documentMode"in document&&(ae=document.documentMode);var On=Dn&&"TextEvent"in window&&!ae,Ti=Dn&&(!qt||ae&&8<ae&&11>=ae),Xn=" ",$n=!1;function Nr(e,i){switch(e){case"keyup":return pe.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function P1(e,i){switch(e){case"compositionend":return ya(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return e=i.data,e===Xn&&$n?null:e;default:return null}}function z1(e,i){if(_a)return e==="compositionend"||!qt&&Nr(e,i)?(e=Ho(),wr=qo=yi=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var j1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!j1[e.type]:i==="textarea"}function zg(e,i,a,o){gs?pi?pi.push(o):pi=[o]:gs=o,i=Nc(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Ko=null,Qo=null;function B1(e){T_(e,0)}function Bu(e){var i=gn(e);if(Tr(i))return e}function jg(e,i){if(e==="change")return i}var Bg=!1;if(Dn){var sf;if(Dn){var rf="oninput"in document;if(!rf){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),rf=typeof qg.oninput=="function"}sf=rf}else sf=!1;Bg=sf&&(!document.documentMode||9<document.documentMode)}function Hg(){Ko&&(Ko.detachEvent("onpropertychange",Fg),Qo=Ko=null)}function Fg(e){if(e.propertyName==="value"&&Bu(Qo)){var i=[];zg(i,Qo,e,xn(e)),ps(B1,i)}}function q1(e,i,a){e==="focusin"?(Hg(),Ko=i,Qo=a,Ko.attachEvent("onpropertychange",Fg)):e==="focusout"&&Hg()}function H1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bu(Qo)}function F1(e,i){if(e==="click")return Bu(i)}function G1(e,i){if(e==="input"||e==="change")return Bu(i)}function Y1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var yn=typeof Object.is=="function"?Object.is:Y1;function Xo(e,i){if(yn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Te.call(i,h)||!yn(e[h],i[h]))return!1}return!0}function Gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yg(e,i){var a=Gg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gg(a)}}function Kg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Kg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Qg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=gi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=gi(e.document)}return i}function af(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var K1=Dn&&"documentMode"in document&&11>=document.documentMode,va=null,of=null,$o=null,lf=!1;function Xg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||va==null||va!==gi(o)||(o=va,"selectionStart"in o&&af(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),$o&&Xo($o,o)||($o=o,o=Nc(of,"onSelect"),0<o.length&&(i=new _i("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=va)))}function xr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ea={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},uf={},$g={};Dn&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Dr(e){if(uf[e])return uf[e];if(!Ea[e])return e;var i=Ea[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in $g)return uf[e]=i[a];return e}var Jg=Dr("animationend"),Zg=Dr("animationiteration"),Wg=Dr("animationstart"),Q1=Dr("transitionrun"),X1=Dr("transitionstart"),$1=Dr("transitioncancel"),tp=Dr("transitionend"),ep=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function Jn(e,i){ep.set(e,i),di(i,[e])}var qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],Ta=0,hf=0;function Hu(){for(var e=Ta,i=hf=Ta=0;i<e;){var a=Mn[i];Mn[i++]=null;var o=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var f=Mn[i];if(Mn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&np(a,h,f)}}function Fu(e,i,a,o){Mn[Ta++]=e,Mn[Ta++]=i,Mn[Ta++]=a,Mn[Ta++]=o,hf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ff(e,i,a,o){return Fu(e,i,a,o),Gu(e)}function Or(e,i){return Fu(e,null,null,i),Gu(e)}function np(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-ge(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Gu(e){if(50<_l)throw _l=0,Td=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ba={};function J1(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,i,a,o){return new J1(e,i,a,o)}function df(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,i){var a=e.alternate;return a===null?(a=_n(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ip(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Yu(e,i,a,o,h,f){var _=0;if(o=e,typeof e=="function")df(e)&&(_=1);else if(typeof e=="string")_=nA(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=_n(31,a,i,h),e.elementType=R,e.lanes=f,e;case W:return Mr(a.children,h,f,i);case J:_=8,h|=24;break;case tt:return e=_n(12,a,i,h|2),e.elementType=tt,e.lanes=f,e;case It:return e=_n(13,a,i,h),e.elementType=It,e.lanes=f,e;case At:return e=_n(19,a,i,h),e.elementType=At,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:_=10;break t;case at:_=9;break t;case ct:_=11;break t;case N:_=14;break t;case A:_=16,o=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=_n(_,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Mr(e,i,a,o){return e=_n(7,e,o,i),e.lanes=a,e}function mf(e,i,a){return e=_n(6,e,null,i),e.lanes=a,e}function sp(e){var i=_n(18,null,null,0);return i.stateNode=e,i}function gf(e,i,a){return i=_n(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var rp=new WeakMap;function Vn(e,i){if(typeof e=="object"&&e!==null){var a=rp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Co(i)},rp.set(e,i),i)}return{value:e,source:i,stack:Co(i)}}var Aa=[],Sa=0,Ku=null,Jo=0,kn=[],Un=0,Es=null,bi=1,Ai="";function zi(e,i){Aa[Sa++]=Jo,Aa[Sa++]=Ku,Ku=e,Jo=i}function ap(e,i,a){kn[Un++]=bi,kn[Un++]=Ai,kn[Un++]=Es,Es=e;var o=bi;e=Ai;var h=32-ge(o)-1;o&=~(1<<h),a+=1;var f=32-ge(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,bi=1<<32-ge(i)+h|a<<h|o,Ai=f+e}else bi=1<<f|a<<h|o,Ai=e}function pf(e){e.return!==null&&(zi(e,1),ap(e,1,0))}function yf(e){for(;e===Ku;)Ku=Aa[--Sa],Aa[Sa]=null,Jo=Aa[--Sa],Aa[Sa]=null;for(;e===Es;)Es=kn[--Un],kn[Un]=null,Ai=kn[--Un],kn[Un]=null,bi=kn[--Un],kn[Un]=null}function op(e,i){kn[Un++]=bi,kn[Un++]=Ai,kn[Un++]=Es,bi=i.id,Ai=i.overflow,Es=e}var He=null,ne=null,Ut=!1,Ts=null,Ln=!1,_f=Error(r(519));function bs(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(Vn(i,e)),_f}function lp(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ae]=e,i[Le]=o,a){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(a=0;a<El.length;a++)xt(El[a],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),Ru(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),ds(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||w_(i.textContent,a)?(o.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),o.onScroll!=null&&xt("scroll",i),o.onScrollEnd!=null&&xt("scrollend",i),o.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||bs(e,!0)}function up(e){for(He=e.return;He;)switch(He.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:He=He.return}}function wa(e){if(e!==He)return!1;if(!Ut)return up(e),Ut=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ud(e.type,e.memoizedProps)),a=!a),a&&ne&&bs(e),up(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=V_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=V_(e)}else i===27?(i=ne,Us(e.type)?(e=Bd,Bd=null,ne=e):ne=i):ne=He?zn(e.stateNode.nextSibling):null;return!0}function Vr(){ne=He=null,Ut=!1}function vf(){var e=Ts;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Ts=null),e}function Zo(e){Ts===null?Ts=[e]:Ts.push(e)}var Ef=V(null),kr=null,ji=null;function As(e,i,a){it(Ef,i._currentValue),i._currentValue=a}function Bi(e){e._currentValue=Ef.current,$(Ef)}function Tf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function bf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<i.length;I++)if(E.context===i[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Tf(f.return,a,e),o||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Tf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ra(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;yn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(wl):e=[wl])}h=h.return}e!==null&&bf(i,e,a,o),i.flags|=262144}function Qu(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ur(e){kr=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return cp(kr,e)}function Xu(e,i){return kr===null&&Ur(e),cp(e,i)}function cp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ji===null){if(e===null)throw Error(r(308));ji=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ji=ji.next=i;return a}var Z1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},W1=s.unstable_scheduleCallback,tb=s.unstable_NormalPriority,Re={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new Z1,data:new Map,refCount:0}}function Wo(e){e.refCount--,e.refCount===0&&W1(tb,function(){e.controller.abort()})}var tl=null,Sf=0,Ca=0,Ia=null;function eb(e,i){if(tl===null){var a=tl=[];Sf=0,Ca=Cd(),Ia={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Sf++,i.then(hp,hp),i}function hp(){if(--Sf===0&&tl!==null){Ia!==null&&(Ia.status="fulfilled");var e=tl;tl=null,Ca=0,Ia=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function nb(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var fp=F.S;F.S=function(e,i){Xy=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&eb(e,i),fp!==null&&fp(e,i)};var Lr=V(null);function wf(){var e=Lr.current;return e!==null?e:te.pooledCache}function $u(e,i){i===null?it(Lr,Lr.current):it(Lr,i.pool)}function dp(){var e=wf();return e===null?null:{parent:Re._currentValue,pool:e}}var Na=Error(r(460)),Rf=Error(r(474)),Ju=Error(r(542)),Zu={then:function(){}};function mp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,yp(e),e;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,yp(e),e}throw zr=i,Na}}function Pr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zr=a,Na):a}}var zr=null;function pp(){if(zr===null)throw Error(r(459));var e=zr;return zr=null,e}function yp(e){if(e===Na||e===Ju)throw Error(r(483))}var xa=null,el=0;function Wu(e){var i=el;return el+=1,xa===null&&(xa=[]),gp(xa,e,i)}function nl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function tc(e,i){throw i.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function _p(e){function i(U,M){if(e){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function a(U,M){if(!e)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Pi(U,M),U.index=0,U.sibling=null,U}function f(U,M,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=67108866,M):z):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,z,K){return M===null||M.tag!==6?(M=mf(z,U.mode,K),M.return=U,M):(M=h(M,z),M.return=U,M)}function I(U,M,z,K){var ft=z.type;return ft===W?G(U,M,z.props.children,K,z.key):M!==null&&(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Pr(ft)===M.type)?(M=h(M,z.props),nl(M,z),M.return=U,M):(M=Yu(z.type,z.key,z.props,null,U.mode,K),nl(M,z),M.return=U,M)}function j(U,M,z,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=gf(z,U.mode,K),M.return=U,M):(M=h(M,z.children||[]),M.return=U,M)}function G(U,M,z,K,ft){return M===null||M.tag!==7?(M=Mr(z,U.mode,K,ft),M.return=U,M):(M=h(M,z),M.return=U,M)}function X(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=mf(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return z=Yu(M.type,M.key,M.props,null,U.mode,z),nl(z,M),z.return=U,z;case Y:return M=gf(M,U.mode,z),M.return=U,M;case A:return M=Pr(M),X(U,M,z)}if(ce(M)||L(M))return M=Mr(M,U.mode,z,null),M.return=U,M;if(typeof M.then=="function")return X(U,Wu(M),z);if(M.$$typeof===st)return X(U,Xu(U,M),z);tc(U,M)}return null}function B(U,M,z,K){var ft=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ft!==null?null:E(U,M,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===ft?I(U,M,z,K):null;case Y:return z.key===ft?j(U,M,z,K):null;case A:return z=Pr(z),B(U,M,z,K)}if(ce(z)||L(z))return ft!==null?null:G(U,M,z,K,null);if(typeof z.then=="function")return B(U,M,Wu(z),K);if(z.$$typeof===st)return B(U,M,Xu(U,z),K);tc(U,z)}return null}function H(U,M,z,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(z)||null,E(M,U,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case k:return U=U.get(K.key===null?z:K.key)||null,I(M,U,K,ft);case Y:return U=U.get(K.key===null?z:K.key)||null,j(M,U,K,ft);case A:return K=Pr(K),H(U,M,z,K,ft)}if(ce(K)||L(K))return U=U.get(z)||null,G(M,U,K,ft,null);if(typeof K.then=="function")return H(U,M,z,Wu(K),ft);if(K.$$typeof===st)return H(U,M,z,Xu(M,K),ft);tc(M,K)}return null}function ut(U,M,z,K){for(var ft=null,jt=null,ht=M,Ct=M=0,Ot=null;ht!==null&&Ct<z.length;Ct++){ht.index>Ct?(Ot=ht,ht=null):Ot=ht.sibling;var Bt=B(U,ht,z[Ct],K);if(Bt===null){ht===null&&(ht=Ot);break}e&&ht&&Bt.alternate===null&&i(U,ht),M=f(Bt,M,Ct),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt,ht=Ot}if(Ct===z.length)return a(U,ht),Ut&&zi(U,Ct),ft;if(ht===null){for(;Ct<z.length;Ct++)ht=X(U,z[Ct],K),ht!==null&&(M=f(ht,M,Ct),jt===null?ft=ht:jt.sibling=ht,jt=ht);return Ut&&zi(U,Ct),ft}for(ht=o(ht);Ct<z.length;Ct++)Ot=H(ht,U,Ct,z[Ct],K),Ot!==null&&(e&&Ot.alternate!==null&&ht.delete(Ot.key===null?Ct:Ot.key),M=f(Ot,M,Ct),jt===null?ft=Ot:jt.sibling=Ot,jt=Ot);return e&&ht.forEach(function(Bs){return i(U,Bs)}),Ut&&zi(U,Ct),ft}function pt(U,M,z,K){if(z==null)throw Error(r(151));for(var ft=null,jt=null,ht=M,Ct=M=0,Ot=null,Bt=z.next();ht!==null&&!Bt.done;Ct++,Bt=z.next()){ht.index>Ct?(Ot=ht,ht=null):Ot=ht.sibling;var Bs=B(U,ht,Bt.value,K);if(Bs===null){ht===null&&(ht=Ot);break}e&&ht&&Bs.alternate===null&&i(U,ht),M=f(Bs,M,Ct),jt===null?ft=Bs:jt.sibling=Bs,jt=Bs,ht=Ot}if(Bt.done)return a(U,ht),Ut&&zi(U,Ct),ft;if(ht===null){for(;!Bt.done;Ct++,Bt=z.next())Bt=X(U,Bt.value,K),Bt!==null&&(M=f(Bt,M,Ct),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt);return Ut&&zi(U,Ct),ft}for(ht=o(ht);!Bt.done;Ct++,Bt=z.next())Bt=H(ht,U,Ct,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&ht.delete(Bt.key===null?Ct:Bt.key),M=f(Bt,M,Ct),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt);return e&&ht.forEach(function(dA){return i(U,dA)}),Ut&&zi(U,Ct),ft}function Wt(U,M,z,K){if(typeof z=="object"&&z!==null&&z.type===W&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:t:{for(var ft=z.key;M!==null;){if(M.key===ft){if(ft=z.type,ft===W){if(M.tag===7){a(U,M.sibling),K=h(M,z.props.children),K.return=U,U=K;break t}}else if(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Pr(ft)===M.type){a(U,M.sibling),K=h(M,z.props),nl(K,z),K.return=U,U=K;break t}a(U,M);break}else i(U,M);M=M.sibling}z.type===W?(K=Mr(z.props.children,U.mode,K,z.key),K.return=U,U=K):(K=Yu(z.type,z.key,z.props,null,U.mode,K),nl(K,z),K.return=U,U=K)}return _(U);case Y:t:{for(ft=z.key;M!==null;){if(M.key===ft)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(U,M.sibling),K=h(M,z.children||[]),K.return=U,U=K;break t}else{a(U,M);break}else i(U,M);M=M.sibling}K=gf(z,U.mode,K),K.return=U,U=K}return _(U);case A:return z=Pr(z),Wt(U,M,z,K)}if(ce(z))return ut(U,M,z,K);if(L(z)){if(ft=L(z),typeof ft!="function")throw Error(r(150));return z=ft.call(z),pt(U,M,z,K)}if(typeof z.then=="function")return Wt(U,M,Wu(z),K);if(z.$$typeof===st)return Wt(U,M,Xu(U,z),K);tc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(U,M.sibling),K=h(M,z),K.return=U,U=K):(a(U,M),K=mf(z,U.mode,K),K.return=U,U=K),_(U)):a(U,M)}return function(U,M,z,K){try{el=0;var ft=Wt(U,M,z,K);return xa=null,ft}catch(ht){if(ht===Na||ht===Ju)throw ht;var jt=_n(29,ht,null,U.mode);return jt.lanes=K,jt.return=U,jt}}}var jr=_p(!0),vp=_p(!1),Ss=!1;function Cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Gu(e),np(e,null,a),i}return Fu(e,o,i,a),Gu(e)}function il(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,xo(e,a)}}function Nf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var xf=!1;function sl(){if(xf){var e=Ia;if(e!==null)throw e}}function rl(e,i,a,o){xf=!1;var h=e.updateQueue;Ss=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,j=I.next;I.next=null,_===null?f=j:_.next=j,_=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;_=0,G=j=I=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Dt&B)===B:(o&B)===B){B!==0&&B===Ca&&(xf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,pt=E;B=i;var Wt=a;switch(pt.tag){case 1:if(ut=pt.payload,typeof ut=="function"){X=ut.call(Wt,X,B);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=pt.payload,B=typeof ut=="function"?ut.call(Wt,X,B):ut,B==null)break t;X=S({},X,B);break t;case 2:Ss=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=H,I=X):G=G.next=H,_|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=X),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ds|=_,e.lanes=_,e.memoizedState=X}}function Ep(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Tp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ep(a[e],i)}var Da=V(null),ec=V(0);function bp(e,i){e=$i,it(ec,e),it(Da,i),$i=e|i.baseLanes}function Df(){it(ec,$i),it(Da,Da.current)}function Of(){$i=ec.current,$(Da),$(ec)}var vn=V(null),Pn=null;function Cs(e){var i=e.alternate;it(ye,ye.current&1),it(vn,e),Pn===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(Pn=e)}function Mf(e){it(ye,ye.current),it(vn,e),Pn===null&&(Pn=e)}function Ap(e){e.tag===22?(it(ye,ye.current),it(vn,e),Pn===null&&(Pn=e)):Is()}function Is(){it(ye,ye.current),it(vn,vn.current)}function En(e){$(vn),Pn===e&&(Pn=null),$(ye)}var ye=V(0);function nc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zd(a)||jd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qi=0,wt=null,Jt=null,Ce=null,ic=!1,Oa=!1,Br=!1,sc=0,al=0,Ma=null,ib=0;function he(){throw Error(r(321))}function Vf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!yn(e[a],i[a]))return!1;return!0}function kf(e,i,a,o,h,f){return qi=f,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?ay:$f,Br=!1,f=a(o,h),Br=!1,Oa&&(f=wp(i,a,o,h)),Sp(e),f}function Sp(e){F.H=ul;var i=Jt!==null&&Jt.next!==null;if(qi=0,Ce=Jt=wt=null,ic=!1,al=0,Ma=null,i)throw Error(r(300));e===null||Ie||(e=e.dependencies,e!==null&&Qu(e)&&(Ie=!0))}function wp(e,i,a,o){wt=e;var h=0;do{if(Oa&&(Ma=null),al=0,Oa=!1,25<=h)throw Error(r(301));if(h+=1,Ce=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=oy,f=i(a,o)}while(Oa);return f}function sb(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?ol(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(wt.flags|=1024),i}function Uf(){var e=sc!==0;return sc=0,e}function Lf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Pf(e){if(ic){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ic=!1}qi=0,Ce=Jt=wt=null,Oa=!1,al=sc=0,Ma=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?wt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function _e(){if(Jt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=Ce===null?wt.memoizedState:Ce.next;if(i!==null)Ce=i,Jt=e;else{if(e===null)throw wt.alternate===null?Error(r(467)):Error(r(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ce===null?wt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var i=al;return al+=1,Ma===null&&(Ma=[]),e=gp(Ma,e,i),i=wt,(Ce===null?i.memoizedState:Ce.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?ay:$f),e}function ac(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===st)return Fe(e)}throw Error(r(438,String(e)))}function zf(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=rc(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=O;return i.index++,a}function Hi(e,i){return typeof i=="function"?i(e):i}function oc(e){var i=_e();return jf(i,Jt,e)}function jf(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=_=null,I=null,j=i,G=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Dt&X)===X:(qi&X)===X){var B=j.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Ca&&(G=!0);else if((qi&B)===B){j=j.next,B===Ca&&(G=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=X,_=f):I=I.next=X,wt.lanes|=B,Ds|=B;X=j.action,Br&&a(f,X),f=j.hasEagerState?j.eagerState:a(f,X)}else B={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=B,_=f):I=I.next=B,wt.lanes|=X,Ds|=X;j=j.next}while(j!==null&&j!==i);if(I===null?_=f:I.next=E,!yn(f,e.memoizedState)&&(Ie=!0,G&&(a=Ia,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Bf(e){var i=_e(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);yn(f,i.memoizedState)||(Ie=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Rp(e,i,a){var o=wt,h=_e(),f=Ut;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!yn((Jt||h).memoizedState,a);if(_&&(h.memoizedState=a,Ie=!0),h=h.queue,Ff(Np.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||Ce!==null&&Ce.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},Ip.bind(null,o,h,a,i),null),te===null)throw Error(r(349));f||(qi&127)!==0||Cp(o,i,a)}return a}function Cp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=rc(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Ip(e,i,a,o){i.value=a,i.getSnapshot=o,xp(i)&&Dp(e)}function Np(e,i,a){return a(function(){xp(i)&&Dp(e)})}function xp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!yn(e,a)}catch{return!0}}function Dp(e){var i=Or(e,2);i!==null&&fn(i,e,2)}function qf(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),Br){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},i}function Op(e,i,a,o){return e.baseState=a,jf(e,Jt,typeof o=="function"?o:Hi)}function rb(e,i,a,o,h){if(cc(e))throw Error(r(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Mp(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Mp(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=F.T,_={};F.T=_;try{var E=a(h,o),I=F.S;I!==null&&I(_,E),Vp(e,i,E)}catch(j){Hf(e,i,j)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=a(h,o),Vp(e,i,f)}catch(j){Hf(e,i,j)}}function Vp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){kp(e,i,o)},function(o){return Hf(e,i,o)}):kp(e,i,a)}function kp(e,i,a){i.status="fulfilled",i.value=a,Up(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Mp(e,a)))}function Hf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Up(i),i=i.next;while(i!==o)}e.action=null}function Up(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Lp(e,i){return i}function Pp(e,i){if(Ut){var a=te.formState;if(a!==null){t:{var o=wt;if(Ut){if(ne){e:{for(var h=ne,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=zn(h.nextSibling),o=h.data==="F!";break t}}bs(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lp,lastRenderedState:i},a.queue=o,a=iy.bind(null,wt,o),o.dispatch=a,o=qf(!1),f=Xf.bind(null,wt,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=rb.bind(null,wt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function zp(e){var i=_e();return jp(i,Jt,e)}function jp(e,i,a){if(i=jf(e,i,Lp)[0],e=oc(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ol(i)}catch(_){throw _===Na?Ju:_}else o=i;i=_e();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(wt.flags|=2048,Va(9,{destroy:void 0},ab.bind(null,h,a),null)),[o,f,e]}function ab(e,i){e.action=i}function Bp(e){var i=_e(),a=Jt;if(a!==null)return jp(i,a,e);_e(),i=i.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Va(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=wt.updateQueue,i===null&&(i=rc(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function qp(){return _e().memoizedState}function lc(e,i,a,o){var h=sn();wt.flags|=e,h.memoizedState=Va(1|i,{destroy:void 0},a,o===void 0?null:o)}function uc(e,i,a,o){var h=_e();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&Vf(o,Jt.memoizedState.deps)?h.memoizedState=Va(i,f,a,o):(wt.flags|=e,h.memoizedState=Va(1|i,f,a,o))}function Hp(e,i){lc(8390656,8,e,i)}function Ff(e,i){uc(2048,8,e,i)}function ob(e){wt.flags|=4;var i=wt.updateQueue;if(i===null)i=rc(),wt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Fp(e){var i=_e().memoizedState;return ob({ref:i,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Gp(e,i){return uc(4,2,e,i)}function Yp(e,i){return uc(4,4,e,i)}function Kp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Qp(e,i,a){a=a!=null?a.concat([e]):null,uc(4,4,Kp.bind(null,i,e),a)}function Gf(){}function Xp(e,i){var a=_e();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Vf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function $p(e,i){var a=_e();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Vf(i,o[1]))return o[0];if(o=e(),Br){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[o,i],o}function Yf(e,i,a){return a===void 0||(qi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Jy(),wt.lanes|=e,Ds|=e,a)}function Jp(e,i,a,o){return yn(a,i)?a:Da.current!==null?(e=Yf(e,a,o),yn(e,i)||(Ie=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(Dt&261930)===0?(Ie=!0,e.memoizedState=a):(e=Jy(),wt.lanes|=e,Ds|=e,i)}function Zp(e,i,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var _=F.T,E={};F.T=E,Xf(e,!1,i,a);try{var I=h(),j=F.S;if(j!==null&&j(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=nb(I,o);ll(e,i,G,An(e))}else ll(e,i,o,An(e))}catch(X){ll(e,i,{then:function(){},status:"rejected",reason:X},An())}finally{et.p=f,_!==null&&E.types!==null&&(_.types=E.types),F.T=_}}function lb(){}function Kf(e,i,a,o){if(e.tag!==5)throw Error(r(476));var h=Wp(e).queue;Zp(e,h,i,gt,a===null?lb:function(){return ty(e),a(o)})}function Wp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:gt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ty(e){var i=Wp(e);i.next===null&&(i=e.alternate.memoizedState),ll(e,i.next.queue,{},An())}function Qf(){return Fe(wl)}function ey(){return _e().memoizedState}function ny(){return _e().memoizedState}function ub(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();e=ws(a);var o=Rs(i,e,a);o!==null&&(fn(o,i,a),il(o,i,a)),i={cache:Af()},e.payload=i;return}i=i.return}}function cb(e,i,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},cc(e)?sy(i,a):(a=ff(e,i,a,o),a!==null&&(fn(a,e,o),ry(a,i,o)))}function iy(e,i,a){var o=An();ll(e,i,a,o)}function ll(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(cc(e))sy(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,yn(E,_))return Fu(e,i,h,0),te===null&&Hu(),!1}catch{}if(a=ff(e,i,h,o),a!==null)return fn(a,e,o),ry(a,i,o),!0}return!1}function Xf(e,i,a,o){if(o={lane:2,revertLane:Cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},cc(e)){if(i)throw Error(r(479))}else i=ff(e,a,o,2),i!==null&&fn(i,e,2)}function cc(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function sy(e,i){Oa=ic=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ry(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,xo(e,a)}}var ul={readContext:Fe,use:ac,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};ul.useEffectEvent=he;var ay={readContext:Fe,use:ac,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:Hp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,lc(4194308,4,Kp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return lc(4194308,4,e,i)},useInsertionEffect:function(e,i){lc(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var o=e();if(Br){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=sn();if(a!==void 0){var h=a(i);if(Br){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=cb.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=qf(e);var i=e.queue,a=iy.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Gf,useDeferredValue:function(e,i){var a=sn();return Yf(a,e,i)},useTransition:function(){var e=qf(!1);return e=Zp.bind(null,wt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=wt,h=sn();if(Ut){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),te===null)throw Error(r(349));(Dt&127)!==0||Cp(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Hp(Np.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},Ip.bind(null,o,f,a,i),null),a},useId:function(){var e=sn(),i=te.identifierPrefix;if(Ut){var a=Ai,o=bi;a=(o&~(1<<32-ge(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=sc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=ib++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Qf,useFormState:Pp,useActionState:Pp,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Xf.bind(null,wt,!0,a),a.dispatch=i,[e,i]},useMemoCache:zf,useCacheRefresh:function(){return sn().memoizedState=ub.bind(null,wt)},useEffectEvent:function(e){var i=sn(),a={impl:e};return i.memoizedState=a,function(){if((Ht&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},$f={readContext:Fe,use:ac,useCallback:Xp,useContext:Fe,useEffect:Ff,useImperativeHandle:Qp,useInsertionEffect:Gp,useLayoutEffect:Yp,useMemo:$p,useReducer:oc,useRef:qp,useState:function(){return oc(Hi)},useDebugValue:Gf,useDeferredValue:function(e,i){var a=_e();return Jp(a,Jt.memoizedState,e,i)},useTransition:function(){var e=oc(Hi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:ol(e),i]},useSyncExternalStore:Rp,useId:ey,useHostTransitionStatus:Qf,useFormState:zp,useActionState:zp,useOptimistic:function(e,i){var a=_e();return Op(a,Jt,e,i)},useMemoCache:zf,useCacheRefresh:ny};$f.useEffectEvent=Fp;var oy={readContext:Fe,use:ac,useCallback:Xp,useContext:Fe,useEffect:Ff,useImperativeHandle:Qp,useInsertionEffect:Gp,useLayoutEffect:Yp,useMemo:$p,useReducer:Bf,useRef:qp,useState:function(){return Bf(Hi)},useDebugValue:Gf,useDeferredValue:function(e,i){var a=_e();return Jt===null?Yf(a,e,i):Jp(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Bf(Hi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:ol(e),i]},useSyncExternalStore:Rp,useId:ey,useHostTransitionStatus:Qf,useFormState:Bp,useActionState:Bp,useOptimistic:function(e,i){var a=_e();return Jt!==null?Op(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:zf,useCacheRefresh:ny};oy.useEffectEvent=Fp;function Jf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Zf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=An(),h=ws(o);h.payload=i,a!=null&&(h.callback=a),i=Rs(e,h,o),i!==null&&(fn(i,e,o),il(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=An(),h=ws(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Rs(e,h,o),i!==null&&(fn(i,e,o),il(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=An(),o=ws(a);o.tag=2,i!=null&&(o.callback=i),i=Rs(e,o,a),i!==null&&(fn(i,e,a),il(i,e,a))}};function ly(e,i,a,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!Xo(a,o)||!Xo(h,f):!0}function uy(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Zf.enqueueReplaceState(i,i.state,null)}function qr(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function cy(e){qu(e)}function hy(e){console.error(e)}function fy(e){qu(e)}function hc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function dy(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wf(e,i,a){return a=ws(a),a.tag=3,a.payload={element:null},a.callback=function(){hc(e,i)},a}function my(e){return e=ws(e),e.tag=3,e}function gy(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){dy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){dy(i,a,o),typeof h!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function hb(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ra(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?Ac():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Zu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Sd(e,o,h)),!1;case 22:return a.flags|=65536,o===Zu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Sd(e,o,h)),!1}throw Error(r(435,a.tag))}return Sd(e,o,h),Ac(),!1}if(Ut)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==_f&&(e=Error(r(422),{cause:o}),Zo(Vn(e,a)))):(o!==_f&&(i=Error(r(423),{cause:o}),Zo(Vn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,a),h=Wf(e.stateNode,o,h),Nf(e,h),fe!==4&&(fe=2)),!1;var f=Error(r(520),{cause:o});if(f=Vn(f,a),yl===null?yl=[f]:yl.push(f),fe!==4&&(fe=2),i===null)return!0;o=Vn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Wf(a.stateNode,o,e),Nf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Os===null||!Os.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=my(h),gy(h,e,a,o),Nf(a,h),!1}a=a.return}while(a!==null);return!1}var td=Error(r(461)),Ie=!1;function Ge(e,i,a,o){i.child=e===null?vp(i,null,a,o):jr(i,e.child,a,o)}function py(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Ur(i),o=kf(e,i,a,_,f,h),E=Uf(),e!==null&&!Ie?(Lf(e,i,h),Fi(e,i,h)):(Ut&&E&&pf(i),i.flags|=1,Ge(e,i,o,h),i.child)}function yy(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!df(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,_y(e,i,f,o,h)):(e=Yu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!ld(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(_,o)&&e.ref===i.ref)return Fi(e,i,h)}return i.flags|=1,e=Pi(f,o),e.ref=i.ref,e.return=i,i.child=e}function _y(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Xo(f,o)&&e.ref===i.ref)if(Ie=!1,i.pendingProps=o=f,ld(e,h))(e.flags&131072)!==0&&(Ie=!0);else return i.lanes=e.lanes,Fi(e,i,h)}return ed(e,i,a,o,h)}function vy(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Ey(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&$u(i,f!==null?f.cachePool:null),f!==null?bp(i,f):Df(),Ap(i);else return o=i.lanes=536870912,Ey(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?($u(i,f.cachePool),bp(i,f),Is(),i.memoizedState=null):(e!==null&&$u(i,null),Df(),Is());return Ge(e,i,h,a),i.child}function cl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ey(e,i,a,o,h){var f=wf();return f=f===null?null:{parent:Re._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&$u(i,null),Df(),Ap(i),e!==null&&Ra(e,i,o,!0),i.childLanes=h,null}function fc(e,i){return i=mc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Ty(e,i,a){return jr(i,e.child,null,a),e=fc(i,i.pendingProps),e.flags|=2,En(i),i.memoizedState=null,e}function fb(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=fc(i,o),i.lanes=536870912,cl(null,e);if(Mf(i),(e=ne)?(e=M_(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Es!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=sp(e),a.return=i,i.child=a,He=i,ne=null)):e=null,e===null)throw bs(i);return i.lanes=536870912,null}return fc(i,o)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(Mf(i),h)if(i.flags&256)i.flags&=-257,i=Ty(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ie||Ra(e,i,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(o=te,o!==null&&(_=Do(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Or(e,_),fn(o,e,_),td;Ac(),i=Ty(e,i,a)}else e=f.treeContext,ne=zn(_.nextSibling),He=i,Ut=!0,Ts=null,Ln=!1,e!==null&&op(i,e),i=fc(i,o),i.flags|=4096;return i}return e=Pi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function dc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function ed(e,i,a,o,h){return Ur(i),a=kf(e,i,a,o,void 0,h),o=Uf(),e!==null&&!Ie?(Lf(e,i,h),Fi(e,i,h)):(Ut&&o&&pf(i),i.flags|=1,Ge(e,i,a,h),i.child)}function by(e,i,a,o,h,f){return Ur(i),i.updateQueue=null,a=wp(i,o,a,h),Sp(e),o=Uf(),e!==null&&!Ie?(Lf(e,i,f),Fi(e,i,f)):(Ut&&o&&pf(i),i.flags|=1,Ge(e,i,a,f),i.child)}function Ay(e,i,a,o,h){if(Ur(i),i.stateNode===null){var f=ba,_=a.contextType;typeof _=="object"&&_!==null&&(f=Fe(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Zf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Cf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?Fe(_):ba,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jf(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Zf.enqueueReplaceState(f,f.state,null),rl(i,o,f,h),sl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,I=qr(a,E);f.props=I;var j=f.context,G=a.contextType;_=ba,typeof G=="object"&&G!==null&&(_=Fe(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==_)&&uy(i,f,o,_),Ss=!1;var B=i.memoizedState;f.state=B,rl(i,o,f,h),sl(),j=i.memoizedState,E||B!==j||Ss?(typeof X=="function"&&(Jf(i,a,X,o),j=i.memoizedState),(I=Ss||ly(i,a,I,o,B,j,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=_,o=I):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,If(e,i),_=i.memoizedProps,G=qr(a,_),f.props=G,X=i.pendingProps,B=f.context,j=a.contextType,I=ba,typeof j=="object"&&j!==null&&(I=Fe(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==X||B!==I)&&uy(i,f,o,I),Ss=!1,B=i.memoizedState,f.state=B,rl(i,o,f,h),sl();var H=i.memoizedState;_!==X||B!==H||Ss||e!==null&&e.dependencies!==null&&Qu(e.dependencies)?(typeof E=="function"&&(Jf(i,a,E,o),H=i.memoizedState),(G=Ss||ly(i,a,G,o,B,H,I)||e!==null&&e.dependencies!==null&&Qu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),f.props=o,f.state=H,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,dc(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=jr(i,e.child,null,h),i.child=jr(i,null,a,h)):Ge(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Fi(e,i,h),e}function Sy(e,i,a,o){return Vr(),i.flags|=256,Ge(e,i,a,o),i.child}var nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function id(e){return{baseLanes:e,cachePool:dp()}}function sd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=bn),e}function wy(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ut){if(h?Cs(i):Is(),(e=ne)?(e=M_(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Es!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=sp(e),a.return=i,i.child=a,He=i,ne=null)):e=null,e===null)throw bs(i);return jd(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Is(),h=i.mode,E=mc({mode:"hidden",children:E},h),o=Mr(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=id(a),o.childLanes=sd(e,_,a),i.memoizedState=nd,cl(null,o)):(Cs(i),rd(i,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)i.flags&256?(Cs(i),i.flags&=-257,i=ad(e,i,a)):i.memoizedState!==null?(Is(),i.child=e.child,i.flags|=128,i=null):(Is(),E=o.fallback,h=i.mode,o=mc({mode:"visible",children:o.children},h),E=Mr(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,jr(i,e.child,null,a),o=i.child,o.memoizedState=id(a),o.childLanes=sd(e,_,a),i.memoizedState=nd,i=cl(null,o));else if(Cs(i),jd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var j=_.dgst;_=j,o=Error(r(419)),o.stack="",o.digest=_,Zo({value:o,source:null,stack:null}),i=ad(e,i,a)}else if(Ie||Ra(e,i,a,!1),_=(a&e.childLanes)!==0,Ie||_){if(_=te,_!==null&&(o=Do(_,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Or(e,o),fn(_,e,o),td;zd(E)||Ac(),i=ad(e,i,a)}else zd(E)?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,ne=zn(E.nextSibling),He=i,Ut=!0,Ts=null,Ln=!1,e!==null&&op(i,e),i=rd(i,o.children),i.flags|=4096);return i}return h?(Is(),E=o.fallback,h=i.mode,I=e.child,j=I.sibling,o=Pi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?E=Pi(j,E):(E=Mr(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,cl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=id(a):(h=E.cachePool,h!==null?(I=Re._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=dp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=sd(e,_,a),i.memoizedState=nd,cl(e.child,o)):(Cs(i),a=e.child,e=a.sibling,a=Pi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function rd(e,i){return i=mc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function mc(e,i){return e=_n(22,e,null,i),e.lanes=0,e}function ad(e,i,a){return jr(i,e.child,null,a),e=rd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ry(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Tf(e.return,i,a)}function od(e,i,a,o,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Cy(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=ye.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,it(ye,_),Ge(e,i,o,a),o=Ut?Jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ry(e,a,i);else if(e.tag===19)Ry(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&nc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),od(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&nc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}od(i,!0,a,null,f,o);break;case"together":od(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Fi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ds|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ra(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Pi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Pi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function ld(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Qu(e)))}function db(e,i,a){switch(i.tag){case 3:Me(i,i.stateNode.containerInfo),As(i,Re,e.memoizedState.cache),Vr();break;case 27:case 5:mr(i);break;case 4:Me(i,i.stateNode.containerInfo);break;case 10:As(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Mf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Cs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?wy(e,i,a):(Cs(i),e=Fi(e,i,a),e!==null?e.sibling:null);Cs(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ra(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Cy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(ye,ye.current),o)break;return null;case 22:return i.lanes=0,vy(e,i,a,i.pendingProps);case 24:As(i,Re,e.memoizedState.cache)}return Fi(e,i,a)}function Iy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ie=!0;else{if(!ld(e,a)&&(i.flags&128)===0)return Ie=!1,db(e,i,a);Ie=(e.flags&131072)!==0}else Ie=!1,Ut&&(i.flags&1048576)!==0&&ap(i,Jo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Pr(i.elementType),i.type=e,typeof e=="function")df(e)?(o=qr(e,o),i.tag=1,i=Ay(null,i,e,o,a)):(i.tag=0,i=ed(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===ct){i.tag=11,i=py(null,i,e,o,a);break t}else if(h===N){i.tag=14,i=yy(null,i,e,o,a);break t}}throw i=Xt(e)||e,Error(r(306,i,""))}}return i;case 0:return ed(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=qr(o,i.pendingProps),Ay(e,i,o,h,a);case 3:t:{if(Me(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,If(e,i),rl(i,o,null,a);var _=i.memoizedState;if(o=_.cache,As(i,Re,o),o!==f.cache&&bf(i,[Re],a,!0),sl(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Sy(e,i,o,a);break t}else if(o!==h){h=Vn(Error(r(424)),i),Zo(h),i=Sy(e,i,o,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=zn(e.firstChild),He=i,Ut=!0,Ts=null,Ln=!0,a=vp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Vr(),o===h){i=Fi(e,i,a);break t}Ge(e,i,o,a)}i=i.child}return i;case 26:return dc(e,i),e===null?(a=z_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ut||(a=i.type,e=i.pendingProps,o=xc(Rt.current).createElement(a),o[Ae]=i,o[Le]=e,Ye(o,a,e),Se(o),i.stateNode=o):i.memoizedState=z_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return mr(i),e===null&&Ut&&(o=i.stateNode=U_(i.type,i.pendingProps,Rt.current),He=i,Ln=!0,h=ne,Us(i.type)?(Bd=h,ne=zn(o.firstChild)):ne=h),Ge(e,i,i.pendingProps.children,a),dc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ut&&((h=o=ne)&&(o=Hb(o,i.type,i.pendingProps,Ln),o!==null?(i.stateNode=o,He=i,ne=zn(o.firstChild),Ln=!1,h=!0):h=!1),h||bs(i)),mr(i),h=i.type,f=i.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,Ud(h,f)?o=null:_!==null&&Ud(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=kf(e,i,sb,null,null,a),wl._currentValue=h),dc(e,i),Ge(e,i,o,a),i.child;case 6:return e===null&&Ut&&((e=a=ne)&&(a=Fb(a,i.pendingProps,Ln),a!==null?(i.stateNode=a,He=i,ne=null,e=!0):e=!1),e||bs(i)),null;case 13:return wy(e,i,a);case 4:return Me(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=jr(i,null,o,a):Ge(e,i,o,a),i.child;case 11:return py(e,i,i.type,i.pendingProps,a);case 7:return Ge(e,i,i.pendingProps,a),i.child;case 8:return Ge(e,i,i.pendingProps.children,a),i.child;case 12:return Ge(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,As(i,i.type,o.value),Ge(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ur(i),h=Fe(h),o=o(h),i.flags|=1,Ge(e,i,o,a),i.child;case 14:return yy(e,i,i.type,i.pendingProps,a);case 15:return _y(e,i,i.type,i.pendingProps,a);case 19:return Cy(e,i,a);case 31:return fb(e,i,a);case 22:return vy(e,i,a,i.pendingProps);case 24:return Ur(i),o=Fe(Re),e===null?(h=wf(),h===null&&(h=te,f=Af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Cf(i),As(i,Re,h)):((e.lanes&a)!==0&&(If(e,i),rl(i,null,null,a),sl()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),As(i,Re,o)):(o=f.cache,As(i,Re,o),o!==h.cache&&bf(i,[Re],a,!0))),Ge(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Gi(e){e.flags|=4}function ud(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(e_())e.flags|=8192;else throw zr=Zu,Rf}else e.flags&=-16777217}function Ny(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!F_(i))if(e_())e.flags|=8192;else throw zr=Zu,Rf}function gc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Tu():536870912,e.lanes|=i,Pa|=i)}function hl(e,i){if(!Ut)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function mb(e,i,a){var o=i.pendingProps;switch(yf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Bi(Re),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wa(i)?Gi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vf())),ie(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Gi(i),f!==null?(ie(i),Ny(i,f)):(ie(i),ud(i,h,null,o,a))):f?f!==e.memoizedState?(Gi(i),ie(i),Ny(i,f)):(ie(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(i),ie(i),ud(i,h,e,o,a)),null;case 27:if(ia(i),a=Rt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Gi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ie(i),null}e=lt.current,wa(i)?lp(i):(e=U_(h,o,a),i.stateNode=e,Gi(i))}return ie(i),null;case 5:if(ia(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Gi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ie(i),null}if(f=lt.current,wa(i))lp(i);else{var _=xc(Rt.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Ae]=i,f[Le]=o;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;t:switch(Ye(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(i)}}return ie(i),ud(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Gi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=Rt.current,wa(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=He,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||w_(e.nodeValue,a)),e||bs(i,!0)}else e=xc(e).createTextNode(o),e[Ae]=i,i.stateNode=e}return ie(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=wa(i),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ae]=i}else Vr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),e=!1}else a=vf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ie(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wa(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ae]=i}else Vr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=vf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),gc(i,i.updateQueue),ie(i),null);case 4:return re(),e===null&&Dd(i.stateNode.containerInfo),ie(i),null;case 10:return Bi(i.type),ie(i),null;case 19:if($(ye),o=i.memoizedState,o===null)return ie(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)hl(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=nc(e),f!==null){for(i.flags|=128,hl(o,!1),e=f.updateQueue,i.updateQueue=e,gc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ip(a,e),a=a.sibling;return it(ye,ye.current&1|2),Ut&&zi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&en()>Ec&&(i.flags|=128,h=!0,hl(o,!1),i.lanes=4194304)}else{if(!h)if(e=nc(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,gc(i,e),hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(i),null}else 2*en()-o.renderingStartTime>Ec&&a!==536870912&&(i.flags|=128,h=!0,hl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,a=ye.current,it(ye,h?a&1|2:a&1),Ut&&zi(i,o.treeForkCount),e):(ie(i),null);case 22:case 23:return En(i),Of(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&gc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&$(Lr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(Re),ie(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function gb(e,i){switch(yf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Bi(Re),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ia(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));Vr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(En(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Vr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return $(ye),null;case 4:return re(),null;case 10:return Bi(i.type),null;case 22:case 23:return En(i),Of(),e!==null&&$(Lr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Bi(Re),null;case 25:return null;default:return null}}function xy(e,i){switch(yf(i),i.tag){case 3:Bi(Re),re();break;case 26:case 27:case 5:ia(i);break;case 4:re();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:$(ye);break;case 10:Bi(i.type);break;case 22:case 23:En(i),Of(),e!==null&&$(Lr);break;case 24:Bi(Re)}}function fl(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){Qt(i,i.return,E)}}function Ns(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var I=a,j=E;try{j()}catch(G){Qt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Qt(i,i.return,G)}}function Dy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Tp(i,a)}catch(o){Qt(e,e.return,o)}}}function Oy(e,i,a){a.props=qr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Qt(e,i,o)}}function dl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Qt(e,i,h)}}function Si(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qt(e,i,h)}else a.current=null}function My(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Qt(e,e.return,h)}}function cd(e,i,a){try{var o=e.stateNode;Lb(o,e.type,a,i),o[Le]=i}catch(h){Qt(e,e.return,h)}}function Vy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Us(e.type)||e.tag===4}function hd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Us(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fd(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(o!==4&&(o===27&&Us(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(fd(e,i,a),e=e.sibling;e!==null;)fd(e,i,a),e=e.sibling}function pc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Us(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(pc(e,i,a),e=e.sibling;e!==null;)pc(e,i,a),e=e.sibling}function ky(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ye(i,o,a),i[Ae]=e,i[Le]=a}catch(f){Qt(e,e.return,f)}}var Yi=!1,Ne=!1,dd=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,ze=null;function pb(e,i){if(e=e.containerInfo,Vd=Lc,e=Qg(e),af(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,E=-1,I=-1,j=0,G=0,X=e,B=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=_+h),X!==f||o!==0&&X.nodeType!==3||(I=_+o),X.nodeType===3&&(_+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===a&&++j===h&&(E=_),B===f&&++G===o&&(I=_),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(kd={focusedElem:e,selectionRange:a},Lc=!1,ze=i;ze!==null;)if(i=ze,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ze=e;else for(;ze!==null;){switch(i=ze,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ut=qr(a.type,h);e=o.getSnapshotBeforeUpdate(ut,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Qt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Pd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,ze=e;break}ze=i.return}}function Ly(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),o&4&&fl(5,a);break;case 1:if(Qi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Qt(a,a.return,_)}else{var h=qr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Qt(a,a.return,_)}}o&64&&Dy(a),o&512&&dl(a,a.return);break;case 3:if(Qi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Tp(e,i)}catch(_){Qt(a,a.return,_)}}break;case 27:i===null&&o&4&&ky(a);case 26:case 5:Qi(e,a),i===null&&o&4&&My(a),o&512&&dl(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),o&4&&jy(e,a);break;case 13:Qi(e,a),o&4&&By(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=wb.bind(null,a),Gb(e,a))));break;case 22:if(o=a.memoizedState!==null||Yi,!o){i=i!==null&&i.memoizedState!==null||Ne,h=Yi;var f=Ne;Yi=o,(Ne=i)&&!f?Xi(e,a,(a.subtreeFlags&8772)!==0):Qi(e,a),Yi=h,Ne=f}break;case 30:break;default:Qi(e,a)}}function Py(e){var i=e.alternate;i!==null&&(e.alternate=null,Py(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&la(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,ln=!1;function Ki(e,i,a){for(a=a.child;a!==null;)zy(e,i,a),a=a.sibling}function zy(e,i,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ne||Si(a,i),Ki(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||Si(a,i);var o=oe,h=ln;Us(a.type)&&(oe=a.stateNode,ln=!1),Ki(e,i,a),bl(a.stateNode),oe=o,ln=h;break;case 5:Ne||Si(a,i);case 6:if(o=oe,h=ln,oe=null,Ki(e,i,a),oe=o,ln=h,oe!==null)if(ln)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Qt(a,i,f)}else try{oe.removeChild(a.stateNode)}catch(f){Qt(a,i,f)}break;case 18:oe!==null&&(ln?(e=oe,D_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ya(e)):D_(oe,a.stateNode));break;case 4:o=oe,h=ln,oe=a.stateNode.containerInfo,ln=!0,Ki(e,i,a),oe=o,ln=h;break;case 0:case 11:case 14:case 15:Ns(2,a,i),Ne||Ns(4,a,i),Ki(e,i,a);break;case 1:Ne||(Si(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Oy(a,i,o)),Ki(e,i,a);break;case 21:Ki(e,i,a);break;case 22:Ne=(o=Ne)||a.memoizedState!==null,Ki(e,i,a),Ne=o;break;default:Ki(e,i,a)}}function jy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ya(e)}catch(a){Qt(i,i.return,a)}}}function By(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ya(e)}catch(a){Qt(i,i.return,a)}}function yb(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Uy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Uy),i;default:throw Error(r(435,e.tag))}}function yc(e,i){var a=yb(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=Rb.bind(null,e,o);o.then(h,h)}})}function un(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(Us(E.type)){oe=E.stateNode,ln=!1;break t}break;case 5:oe=E.stateNode,ln=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(oe===null)throw Error(r(160));zy(f,_,h),oe=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)qy(i,e),i=i.sibling}var Zn=null;function qy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(i,e),cn(e),o&4&&(Ns(3,e,e.return),fl(3,e),Ns(5,e,e.return));break;case 1:un(i,e),cn(e),o&512&&(Ne||a===null||Si(a,a.return)),o&64&&Yi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(un(i,e),cn(e),o&512&&(Ne||a===null||Si(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ci]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ye(f,o,a),f[Ae]=e,Se(f),o=f;break t;case"link":var _=q_("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(o),Ye(f,o,a),h.head.appendChild(f);break;case"meta":if(_=q_("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}f=h.createElement(o),Ye(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ae]=e,Se(f),o=f}e.stateNode=o}else H_(h,e.type,e.stateNode);else e.stateNode=B_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?H_(h,e.type,e.stateNode):B_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&cd(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(i,e),cn(e),o&512&&(Ne||a===null||Si(a,a.return)),a!==null&&o&4&&cd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(i,e),cn(e),o&512&&(Ne||a===null||Si(a,a.return)),e.flags&32){h=e.stateNode;try{on(h,"")}catch(ut){Qt(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,cd(e,h,a!==null?a.memoizedProps:h)),o&1024&&(dd=!0);break;case 6:if(un(i,e),cn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ut){Qt(e,e.return,ut)}}break;case 3:if(Mc=null,h=Zn,Zn=Dc(i.containerInfo),un(i,e),Zn=h,cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ya(i.containerInfo)}catch(ut){Qt(e,e.return,ut)}dd&&(dd=!1,Hy(e));break;case 4:o=Zn,Zn=Dc(e.stateNode.containerInfo),un(i,e),cn(e),Zn=o;break;case 12:un(i,e),cn(e);break;case 31:un(i,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,yc(e,o)));break;case 13:un(i,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vc=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,yc(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=Yi,G=Ne;if(Yi=j||h,Ne=G||I,un(i,e),Ne=G,Yi=j,cn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Yi||Ne||Hr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(f=I.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ut){Qt(I,I.return,ut)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ut){Qt(I,I.return,ut)}}}else if(i.tag===18){if(a===null){I=i;try{var H=I.stateNode;h?O_(H,!0):O_(I.stateNode,!1)}catch(ut){Qt(I,I.return,ut)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,yc(e,a))));break;case 19:un(i,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,yc(e,o)));break;case 30:break;case 21:break;default:un(i,e),cn(e)}}function cn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Vy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=hd(e);pc(e,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var E=hd(e);pc(e,E,_);break;case 3:case 4:var I=a.stateNode.containerInfo,j=hd(e);fd(e,j,I);break;default:throw Error(r(161))}}catch(G){Qt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Hy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Hy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Qi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ly(e,i.alternate,i),i=i.sibling}function Hr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ns(4,i,i.return),Hr(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Oy(i,i.return,a),Hr(i);break;case 27:bl(i.stateNode);case 26:case 5:Si(i,i.return),Hr(i);break;case 22:i.memoizedState===null&&Hr(i);break;case 30:Hr(i);break;default:Hr(i)}e=e.sibling}}function Xi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,a),fl(4,f);break;case 1:if(Xi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Qt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Ep(I[h],E)}catch(j){Qt(o,o.return,j)}}a&&_&64&&Dy(f),dl(f,f.return);break;case 27:ky(f);case 26:case 5:Xi(h,f,a),a&&o===null&&_&4&&My(f),dl(f,f.return);break;case 12:Xi(h,f,a);break;case 31:Xi(h,f,a),a&&_&4&&jy(h,f);break;case 13:Xi(h,f,a),a&&_&4&&By(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,a),dl(f,f.return);break;case 30:break;default:Xi(h,f,a)}i=i.sibling}}function md(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wo(a))}function gd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e))}function Wn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fy(e,i,a,o),i=i.sibling}function Fy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(e,i,a,o),h&2048&&fl(9,i);break;case 1:Wn(e,i,a,o);break;case 3:Wn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e)));break;case 12:if(h&2048){Wn(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Qt(i,i.return,I)}}else Wn(e,i,a,o);break;case 31:Wn(e,i,a,o);break;case 13:Wn(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?Wn(e,i,a,o):ml(e,i):f._visibility&2?Wn(e,i,a,o):(f._visibility|=2,ka(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&md(_,i);break;case 24:Wn(e,i,a,o),h&2048&&gd(i.alternate,i);break;default:Wn(e,i,a,o)}}function ka(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,_=i,E=a,I=o,j=_.flags;switch(_.tag){case 0:case 11:case 15:ka(f,_,E,I,h),fl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?ka(f,_,E,I,h):ml(f,_):(G._visibility|=2,ka(f,_,E,I,h)),h&&j&2048&&md(_.alternate,_);break;case 24:ka(f,_,E,I,h),h&&j&2048&&gd(_.alternate,_);break;default:ka(f,_,E,I,h)}i=i.sibling}}function ml(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:ml(a,o),h&2048&&md(o.alternate,o);break;case 24:ml(a,o),h&2048&&gd(o.alternate,o);break;default:ml(a,o)}i=i.sibling}}var gl=8192;function Ua(e,i,a){if(e.subtreeFlags&gl)for(e=e.child;e!==null;)Gy(e,i,a),e=e.sibling}function Gy(e,i,a){switch(e.tag){case 26:Ua(e,i,a),e.flags&gl&&e.memoizedState!==null&&iA(a,Zn,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,i,a);break;case 3:case 4:var o=Zn;Zn=Dc(e.stateNode.containerInfo),Ua(e,i,a),Zn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=gl,gl=16777216,Ua(e,i,a),gl=o):Ua(e,i,a));break;default:Ua(e,i,a)}}function Yy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function pl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ze=o,Qy(o,e)}Yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ky(e),e=e.sibling}function Ky(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&Ns(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,_c(e)):pl(e);break;default:pl(e)}}function _c(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ze=o,Qy(o,e)}Yy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ns(8,i,i.return),_c(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,_c(i));break;default:_c(i)}e=e.sibling}}function Qy(e,i){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:Ns(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ze=o;else t:for(a=e;ze!==null;){o=ze;var h=o.sibling,f=o.return;if(Py(o),o===a){ze=null;break t}if(h!==null){h.return=f,ze=h;break t}ze=f}}}var _b={getCacheForType:function(e){var i=Fe(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Fe(Re).controller.signal}},vb=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Nt=null,Dt=0,Kt=0,Tn=null,xs=!1,La=!1,pd=!1,$i=0,fe=0,Ds=0,Fr=0,yd=0,bn=0,Pa=0,yl=null,hn=null,_d=!1,vc=0,Xy=0,Ec=1/0,Tc=null,Os=null,ke=0,Ms=null,za=null,Ji=0,vd=0,Ed=null,$y=null,_l=0,Td=null;function An(){return(Ht&2)!==0&&Dt!==0?Dt&-Dt:F.T!==null?Cd():bu()}function Jy(){if(bn===0)if((Dt&536870912)===0||Ut){var e=yr;yr<<=1,(yr&3932160)===0&&(yr=262144),bn=e}else bn=536870912;return e=vn.current,e!==null&&(e.flags|=32),bn}function fn(e,i,a){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(ja(e,0),Vs(e,Dt,bn,!1)),_r(e,a),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(Fr|=a),fe===4&&Vs(e,Dt,bn,!1)),wi(e))}function Zy(e,i,a){if((Ht&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Hn(e,i),h=o?bb(e,i):Ad(e,i,!0),f=o;do{if(h===0){La&&!o&&Vs(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!Eb(a)){h=Ad(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;h=yl;var I=E.current.memoizedState.isDehydrated;if(I&&(ja(E,_).flags|=256),_=Ad(E,_,!1),_!==2){if(pd&&!I){E.errorRecoveryDisabledLanes|=f,Fr|=f,h=4;break t}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){ja(e,0),Vs(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Vs(o,i,bn,!xs);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=vc+300-en(),10<h)){if(Vs(o,i,bn,!xs),oi(o,0,!0)!==0)break t;Ji=i,o.timeoutHandle=N_(Wy.bind(null,o,a,hn,Tc,_d,i,bn,Fr,Pa,xs,f,"Throttled",-0,0),h);break t}Wy(o,a,hn,Tc,_d,i,bn,Fr,Pa,xs,f,null,-0,0)}}break}while(!0);wi(e)}function Wy(e,i,a,o,h,f,_,E,I,j,G,X,B,H){if(e.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Gy(i,f,X);var ut=(f&62914560)===f?vc-en():(f&4194048)===f?Xy-en():0;if(ut=sA(X,ut),ut!==null){Ji=f,e.cancelPendingCommit=ut(o_.bind(null,e,i,f,a,o,h,_,E,I,G,X,null,B,H)),Vs(e,f,_,!j);return}}o_(e,i,f,a,o,h,_,E,I)}function Eb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vs(e,i,a,o){i&=~yd,i&=~Fr,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-ge(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&vr(e,a,i)}function bc(){return(Ht&6)===0?(vl(0),!1):!0}function bd(){if(Nt!==null){if(Kt===0)var e=Nt.return;else e=Nt,ji=kr=null,Pf(e),xa=null,el=0,e=Nt;for(;e!==null;)xy(e.alternate,e),e=e.return;Nt=null}}function ja(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,jb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ji=0,bd(),te=e,Nt=a=Pi(e.current,null),Dt=i,Kt=0,Tn=null,xs=!1,La=Hn(e,i),pd=!1,Pa=bn=yd=Fr=Ds=fe=0,hn=yl=null,_d=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-ge(o),f=1<<h;i|=e[h],o&=~f}return $i=i,Hu(),a}function t_(e,i){wt=null,F.H=ul,i===Na||i===Ju?(i=pp(),Kt=3):i===Rf?(i=pp(),Kt=4):Kt=i===td?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Nt===null&&(fe=1,hc(e,Vn(i,e.current)))}function e_(){var e=vn.current;return e===null?!0:(Dt&4194048)===Dt?Pn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Pn:!1}function n_(){var e=F.H;return F.H=ul,e===null?ul:e}function i_(){var e=F.A;return F.A=_b,e}function Ac(){fe=4,xs||(Dt&4194048)!==Dt&&vn.current!==null||(La=!0),(Ds&134217727)===0&&(Fr&134217727)===0||te===null||Vs(te,Dt,bn,!1)}function Ad(e,i,a){var o=Ht;Ht|=2;var h=n_(),f=i_();(te!==e||Dt!==i)&&(Tc=null,ja(e,i)),i=!1;var _=fe;t:do try{if(Kt!==0&&Nt!==null){var E=Nt,I=Tn;switch(Kt){case 8:bd(),_=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var j=Kt;if(Kt=0,Tn=null,Ba(e,E,I,j),a&&La){_=0;break t}break;default:j=Kt,Kt=0,Tn=null,Ba(e,E,I,j)}}Tb(),_=fe;break}catch(G){t_(e,G)}while(!0);return i&&e.shellSuspendCounter++,ji=kr=null,Ht=o,F.H=h,F.A=f,Nt===null&&(te=null,Dt=0,Hu()),_}function Tb(){for(;Nt!==null;)s_(Nt)}function bb(e,i){var a=Ht;Ht|=2;var o=n_(),h=i_();te!==e||Dt!==i?(Tc=null,Ec=en()+500,ja(e,i)):La=Hn(e,i);t:do try{if(Kt!==0&&Nt!==null){i=Nt;var f=Tn;e:switch(Kt){case 1:Kt=0,Tn=null,Ba(e,i,f,1);break;case 2:case 9:if(mp(f)){Kt=0,Tn=null,r_(i);break}i=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),wi(e)},f.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:mp(f)?(Kt=0,Tn=null,r_(i)):(Kt=0,Tn=null,Ba(e,i,f,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var E=Nt;if(_?F_(_):E.stateNode.complete){Kt=0,Tn=null;var I=E.sibling;if(I!==null)Nt=I;else{var j=E.return;j!==null?(Nt=j,Sc(j)):Nt=null}break e}}Kt=0,Tn=null,Ba(e,i,f,5);break;case 6:Kt=0,Tn=null,Ba(e,i,f,6);break;case 8:bd(),fe=6;break t;default:throw Error(r(462))}}Ab();break}catch(G){t_(e,G)}while(!0);return ji=kr=null,F.H=o,F.A=h,Ht=a,Nt!==null?0:(te=null,Dt=0,Hu(),fe)}function Ab(){for(;Nt!==null&&!Zh();)s_(Nt)}function s_(e){var i=Iy(e.alternate,e,$i);e.memoizedProps=e.pendingProps,i===null?Sc(e):Nt=i}function r_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=by(a,i,i.pendingProps,i.type,void 0,Dt);break;case 11:i=by(a,i,i.pendingProps,i.type.render,i.ref,Dt);break;case 5:Pf(i);default:xy(a,i),i=Nt=ip(i,$i),i=Iy(a,i,$i)}e.memoizedProps=e.pendingProps,i===null?Sc(e):Nt=i}function Ba(e,i,a,o){ji=kr=null,Pf(i),xa=null,el=0;var h=i.return;try{if(hb(e,h,i,a,Dt)){fe=1,hc(e,Vn(a,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;fe=1,hc(e,Vn(a,e.current)),Nt=null;return}i.flags&32768?(Ut||o===1?e=!0:La||(Dt&536870912)!==0?e=!1:(xs=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),a_(i,e)):Sc(i)}function Sc(e){var i=e;do{if((i.flags&32768)!==0){a_(i,xs);return}e=i.return;var a=mb(i.alternate,i,$i);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);fe===0&&(fe=5)}function a_(e,i){do{var a=gb(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);fe=6,Nt=null}function o_(e,i,a,o,h,f,_,E,I){e.cancelPendingCommit=null;do wc();while(ke!==0);if((Ht&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=hf,ef(e,a,f,_,E,I),e===te&&(Nt=te=null,Dt=0),za=i,Ms=e,Ji=a,vd=f,Ed=h,$y=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Cb(cs,function(){return f_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,_=Ht,Ht|=4;try{pb(e,i,a)}finally{Ht=_,et.p=h,F.T=o}}ke=1,l_(),u_(),c_()}}function l_(){if(ke===1){ke=0;var e=Ms,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=Ht;Ht|=4;try{qy(i,e);var f=kd,_=Qg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Kg(E.ownerDocument.documentElement,E)){if(I!==null&&af(E)){var j=I.start,G=I.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),ut=E.textContent.length,pt=Math.min(I.start,ut),Wt=I.end===void 0?pt:Math.min(I.end,ut);!H.extend&&pt>Wt&&(_=Wt,Wt=pt,pt=_);var U=Yg(E,pt),M=Yg(E,Wt);if(U&&M&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var z=X.createRange();z.setStart(U.node,U.offset),H.removeAllRanges(),pt>Wt?(H.addRange(z),H.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),H.addRange(z))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Lc=!!Vd,kd=Vd=null}finally{Ht=h,et.p=o,F.T=a}}e.current=i,ke=2}}function u_(){if(ke===2){ke=0;var e=Ms,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=Ht;Ht|=4;try{Ly(e,i.alternate,i)}finally{Ht=h,et.p=o,F.T=a}}ke=3}}function c_(){if(ke===4||ke===3){ke=0,gu();var e=Ms,i=za,a=Ji,o=$y;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ke=5:(ke=0,za=Ms=null,h_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Os=null),Vi(a),i=i.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{F.T=i,et.p=h}}(Ji&3)!==0&&wc(),wi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Td?_l++:(_l=0,Td=e):_l=0,vl(0)}}function h_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Wo(i)))}function wc(){return l_(),u_(),c_(),f_()}function f_(){if(ke!==5)return!1;var e=Ms,i=vd;vd=0;var a=Vi(Ji),o=F.T,h=et.p;try{et.p=32>a?32:a,F.T=null,a=Ed,Ed=null;var f=Ms,_=Ji;if(ke=0,za=Ms=null,Ji=0,(Ht&6)!==0)throw Error(r(331));var E=Ht;if(Ht|=4,Ky(f.current),Fy(f,f.current,_,a),Ht=E,vl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{et.p=h,F.T=o,h_(e,i)}}function d_(e,i,a){i=Vn(a,i),i=Wf(e.stateNode,i,2),e=Rs(e,i,2),e!==null&&(_r(e,2),wi(e))}function Qt(e,i,a){if(e.tag===3)d_(e,e,a);else for(;i!==null;){if(i.tag===3){d_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Os===null||!Os.has(o))){e=Vn(a,e),a=my(2),o=Rs(i,a,2),o!==null&&(gy(a,o,i,e),_r(o,2),wi(o));break}}i=i.return}}function Sd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new vb;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(pd=!0,h.add(a),e=Sb.bind(null,e,i,a),i.then(e,e))}function Sb(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Dt&a)===a&&(fe===4||fe===3&&(Dt&62914560)===Dt&&300>en()-vc?(Ht&2)===0&&ja(e,0):yd|=a,Pa===Dt&&(Pa=0)),wi(e)}function m_(e,i){i===0&&(i=Tu()),e=Or(e,i),e!==null&&(_r(e,i),wi(e))}function wb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),m_(e,a)}function Rb(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),m_(e,a)}function Cb(e,i){return Ve(e,i)}var Rc=null,qa=null,wd=!1,Cc=!1,Rd=!1,ks=0;function wi(e){e!==qa&&e.next===null&&(qa===null?Rc=qa=e:qa=qa.next=e),Cc=!0,wd||(wd=!0,Nb())}function vl(e,i){if(!Rd&&Cc){Rd=!0;do for(var a=!1,o=Rc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ge(42|e)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,__(o,f))}else f=Dt,f=oi(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(a=!0,__(o,f));o=o.next}while(a);Rd=!1}}function Ib(){g_()}function g_(){Cc=wd=!1;var e=0;ks!==0&&zb()&&(e=ks);for(var i=en(),a=null,o=Rc;o!==null;){var h=o.next,f=p_(o,i);f===0?(o.next=null,a===null?Rc=h:a.next=h,h===null&&(qa=a)):(a=o,(e!==0||(f&3)!==0)&&(Cc=!0)),o=h}ke!==0&&ke!==5||vl(e),ks!==0&&(ks=0)}function p_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-ge(f),E=1<<_,I=h[_];I===-1?((E&a)===0||(E&o)!==0)&&(h[_]=tf(E,i)):I<=i&&(e.expiredLanes|=E),f&=~E}if(i=te,a=Dt,a=oi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&us(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&us(o),Vi(a)){case 2:case 8:a=No;break;case 32:a=cs;break;case 268435456:a=pu;break;default:a=cs}return o=y_.bind(null,e),a=Ve(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&us(o),e.callbackPriority=2,e.callbackNode=null,2}function y_(e,i){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(wc()&&e.callbackNode!==a)return null;var o=Dt;return o=oi(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Zy(e,o,i),p_(e,en()),e.callbackNode!=null&&e.callbackNode===a?y_.bind(null,e):null)}function __(e,i){if(wc())return null;Zy(e,i,!0)}function Nb(){Bb(function(){(Ht&6)!==0?Ve(Io,Ib):g_()})}function Cd(){if(ks===0){var e=Ca;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),ks=e}return ks}function v_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function E_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function xb(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=v_((h[Le]||null).action),_=o.submitter;_&&(i=(i=_[Le]||null)?v_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var E=new _i("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ks!==0){var I=_?E_(h,_):new FormData(h);Kf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=_?E_(h,_):new FormData(h),Kf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Id=0;Id<cf.length;Id++){var Nd=cf[Id],Db=Nd.toLowerCase(),Ob=Nd[0].toUpperCase()+Nd.slice(1);Jn(Db,"on"+Ob)}Jn(Jg,"onAnimationEnd"),Jn(Zg,"onAnimationIteration"),Jn(Wg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Q1,"onTransitionRun"),Jn(X1,"onTransitionStart"),Jn($1,"onTransitionCancel"),Jn(tp,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function T_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],I=E.instance,j=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){qu(G)}h.currentTarget=null,f=I}else for(_=0;_<o.length;_++){if(E=o[_],I=E.instance,j=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){qu(G)}h.currentTarget=null,f=I}}}}function xt(e,i){var a=i[oa];a===void 0&&(a=i[oa]=new Set);var o=e+"__bubble";a.has(o)||(b_(i,e,2,!1),a.add(o))}function xd(e,i,a){var o=0;i&&(o|=4),b_(a,e,o,i)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Dd(e){if(!e[Ic]){e[Ic]=!0,Oo.forEach(function(a){a!=="selectionchange"&&(Mb.has(a)||xd(a,!1,e),xd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ic]||(i[Ic]=!0,xd("selectionchange",!1,i))}}function b_(e,i,a,o){switch(J_(i)){case 2:var h=oA;break;case 8:h=lA;break;default:h=Yd}a=h.bind(null,i,a,e),h=void 0,!Sr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Od(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=hi(E),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){o=f=_;continue t}E=E.parentNode}}o=o.return}ps(function(){var j=f,G=xn(a),X=[];t:{var B=ep.get(e);if(B!==void 0){var H=_i,ut=e;switch(e){case"keypress":if(Rr(a)===0)break t;case"keydown":case"keyup":H=zu;break;case"focusin":ut="focus",H=Ir;break;case"focusout":ut="blur",H=Ir;break;case"beforeblur":case"afterblur":H=Ir;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Jg:case Zg:case Wg:H=Ou;break;case tp:H=b;break;case"scroll":case"scrollend":H=Fo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Li;break;case"toggle":case"beforetoggle":H=St}var pt=(i&4)!==0,Wt=!pt&&(e==="scroll"||e==="scrollend"),U=pt?B!==null?B+"Capture":null:B;pt=[];for(var M=j,z;M!==null;){var K=M;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||U===null||(K=Kn(M,U),K!=null&&pt.push(Tl(M,K,z))),Wt)break;M=M.return}0<pt.length&&(B=new H(B,ut,null,a,G),X.push({event:B,listeners:pt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Bo&&(ut=a.relatedTarget||a.fromElement)&&(hi(ut)||ut[ui]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ut=a.relatedTarget||a.toElement,H=j,ut=ut?hi(ut):null,ut!==null&&(Wt=u(ut),pt=ut.tag,ut!==Wt||pt!==5&&pt!==27&&pt!==6)&&(ut=null)):(H=null,ut=j),H!==ut)){if(pt=Go,K="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Li,K="onPointerLeave",U="onPointerEnter",M="pointer"),Wt=H==null?B:gn(H),z=ut==null?B:gn(ut),B=new pt(K,M+"leave",H,a,G),B.target=Wt,B.relatedTarget=z,K=null,hi(G)===j&&(pt=new pt(U,M+"enter",ut,a,G),pt.target=z,pt.relatedTarget=Wt,K=pt),Wt=K,H&&ut)e:{for(pt=Vb,U=H,M=ut,z=0,K=U;K;K=pt(K))z++;K=0;for(var ft=M;ft;ft=pt(ft))K++;for(;0<z-K;)U=pt(U),z--;for(;0<K-z;)M=pt(M),K--;for(;z--;){if(U===M||M!==null&&U===M.alternate){pt=U;break e}U=pt(U),M=pt(M)}pt=null}else pt=null;H!==null&&A_(X,B,H,pt,!1),ut!==null&&Wt!==null&&A_(X,Wt,ut,pt,!0)}}t:{if(B=j?gn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var jt=jg;else if(Pg(B))if(Bg)jt=G1;else{jt=H1;var ht=q1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ha(j.elementType)&&(jt=jg):jt=F1;if(jt&&(jt=jt(e,j))){zg(X,jt,a,G);break t}ht&&ht(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Po(B,"number",B.value)}switch(ht=j?gn(j):window,e){case"focusin":(Pg(ht)||ht.contentEditable==="true")&&(va=ht,of=j,$o=null);break;case"focusout":$o=of=va=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,Xg(X,a,G);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":Xg(X,a,G)}var Ct;if(qt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else _a?Nr(e,a)&&(Ot="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(Ti&&a.locale!=="ko"&&(_a||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&_a&&(Ct=Ho()):(yi=G,qo="value"in yi?yi.value:yi.textContent,_a=!0)),ht=Nc(j,Ot),0<ht.length&&(Ot=new Ei(Ot,e,null,a,G),X.push({event:Ot,listeners:ht}),Ct?Ot.data=Ct:(Ct=ya(a),Ct!==null&&(Ot.data=Ct)))),(Ct=On?P1(e,a):z1(e,a))&&(Ot=Nc(j,"onBeforeInput"),0<Ot.length&&(ht=new Ei("onBeforeInput","beforeinput",null,a,G),X.push({event:ht,listeners:Ot}),ht.data=Ct)),xb(X,e,j,a,G)}T_(X,i)})}function Tl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Nc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(e,a),h!=null&&o.unshift(Tl(e,h,f)),h=Kn(e,i),h!=null&&o.push(Tl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Vb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function A_(e,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var E=a,I=E.alternate,j=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||j===null||(I=j,h?(j=Kn(a,f),j!=null&&_.unshift(Tl(a,j,I))):h||(j=Kn(a,f),j!=null&&_.push(Tl(a,j,I)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var kb=/\r\n?/g,Ub=/\u0000|\uFFFD/g;function S_(e){return(typeof e=="string"?e:""+e).replace(kb,`
`).replace(Ub,"")}function w_(e,i){return i=S_(i),S_(e)===i}function Zt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||on(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&on(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,a,o);break;case"style":jo(e,o,f);break;case"data":if(i!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=fa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=fa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=fa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ua(e,"popover",o);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nu.get(a)||a,ua(e,a,o))}}function Md(e,i,a,o,h,f){switch(a){case"style":jo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?on(e,o):(typeof o=="number"||typeof o=="bigint")&&on(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[Le]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ua(e,a,o)}}}function Ye(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Zt(e,i,f,_,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),o&&Zt(e,i,"src",a.src,a,null);return;case"input":xt("invalid",e);var E=f=_=h=null,I=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":_=G;break;case"checked":I=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Zt(e,i,o,G,a,null)}}Ru(e,f,E,I,j,_,h,!1);return;case"select":xt("invalid",e),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Zt(e,i,h,E,a,null)}i=f,a=_,e.multiple=!!o,i!=null?fs(e,!!o,i,!1):a!=null&&fs(e,!!o,a,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(e,i,_,E,a,null)}ds(e,o,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,i,I,o,a,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<El.length;o++)xt(El[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Zt(e,i,j,o,a,null)}return;default:if(ha(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Md(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Zt(e,i,E,o,a,null))}function Lb(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,I=null,j=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(H)||Zt(e,i,H,null,o,X)}}for(var B in o){var H=o[B];if(X=a[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==X&&Zt(e,i,B,H,o,X)}}ca(e,_,E,I,j,G,f,h);return;case"select":H=_=E=B=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||Zt(e,i,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==I&&Zt(e,i,h,f,o,I)}i=E,a=_,o=H,B!=null?fs(e,!!a,B,!1):!!o!=!!a&&(i!=null?fs(e,!!a,i,!0):fs(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,i,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Zt(e,i,_,h,o,f)}Cu(e,B,H);return;case"option":for(var ut in a)B=a[ut],a.hasOwnProperty(ut)&&B!=null&&!o.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:Zt(e,i,ut,null,o,B));for(I in o)B=o[I],H=a[I],o.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Zt(e,i,I,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!o.hasOwnProperty(pt)&&Zt(e,i,pt,null,o,B);for(j in o)if(B=o[j],H=a[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:Zt(e,i,j,B,o,H)}return;default:if(ha(i)){for(var Wt in a)B=a[Wt],a.hasOwnProperty(Wt)&&B!==void 0&&!o.hasOwnProperty(Wt)&&Md(e,i,Wt,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Md(e,i,G,B,o,H);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&Zt(e,i,U,null,o,B);for(X in o)B=o[X],H=a[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||Zt(e,i,X,B,o,H)}function R_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&R_(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],j=I.startTime;if(j>E)break;var G=I.transferSize,X=I.initiatorType;G&&R_(X)&&(I=I.responseEnd,_+=G*(I<E?1:(E-j)/(I-j)))}if(--o,i+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vd=null,kd=null;function xc(e){return e.nodeType===9?e:e.ownerDocument}function C_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Ud(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ld=null;function zb(){var e=window.event;return e&&e.type==="popstate"?e===Ld?!1:(Ld=e,!0):(Ld=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,jb=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,Bb=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(e){return x_.resolve(null).then(e).catch(qb)}:N_;function qb(e){setTimeout(function(){throw e})}function Us(e){return e==="head"}function D_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ya(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")bl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,bl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&bl(e.ownerDocument.body);a=h}while(a);Ya(i)}function O_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Pd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Hb(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ci])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function Fb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function M_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=zn(e.nextSibling),e===null))return null;return e}function zd(e){return e.data==="$?"||e.data==="$~"}function jd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Gb(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function zn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Bd=null;function V_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return zn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function k_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function U_(e,i,a){switch(i=xc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function bl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);la(e)}var jn=new Map,L_=new Set;function Dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=et.d;et.d={f:Yb,r:Kb,D:Qb,C:Xb,L:$b,m:Jb,X:Wb,S:Zb,M:tA};function Yb(){var e=Zi.f(),i=bc();return e||i}function Kb(e){var i=Nn(e);i!==null&&i.tag===5&&i.type==="form"?ty(i):Zi.r(e)}var Ha=typeof document>"u"?null:document;function P_(e,i,a){var o=Ha;if(o&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),L_.has(h)||(L_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ye(i,"link",e),Se(i),o.head.appendChild(i)))}}function Qb(e){Zi.D(e),P_("dns-prefetch",e,null)}function Xb(e,i){Zi.C(e,i),P_("preconnect",e,i)}function $b(e,i,a){Zi.L(e,i,a);var o=Ha;if(o&&e&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(e)+'"]';var f=h;switch(i){case"style":f=Fa(e);break;case"script":f=Ga(e)}jn.has(f)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),jn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Al(f))||i==="script"&&o.querySelector(Sl(f))||(i=o.createElement("link"),Ye(i,"link",e),Se(i),o.head.appendChild(i)))}}function Jb(e,i){Zi.m(e,i);var a=Ha;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ga(e)}if(!jn.has(f)&&(e=S({rel:"modulepreload",href:e},i),jn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(f)))return}o=a.createElement("link"),Ye(o,"link",e),Se(o),a.head.appendChild(o)}}}function Zb(e,i,a){Zi.S(e,i,a);var o=Ha;if(o&&e){var h=fi(o).hoistableStyles,f=Fa(e);i=i||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Al(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=jn.get(f))&&qd(e,a);var I=_=o.createElement("link");Se(I),Ye(I,"link",e),I._p=new Promise(function(j,G){I.onload=j,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Oc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function Wb(e,i){Zi.X(e,i);var a=Ha;if(a&&e){var o=fi(a).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=a.querySelector(Sl(h)),f||(e=S({src:e,async:!0},i),(i=jn.get(h))&&Hd(e,i),f=a.createElement("script"),Se(f),Ye(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function tA(e,i){Zi.M(e,i);var a=Ha;if(a&&e){var o=fi(a).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=a.querySelector(Sl(h)),f||(e=S({src:e,async:!0,type:"module"},i),(i=jn.get(h))&&Hd(e,i),f=a.createElement("script"),Se(f),Ye(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function z_(e,i,a,o){var h=(h=Rt.current)?Dc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=fi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fa(a.href);var f=fi(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Al(e)))&&!f._p&&(_.instance=f,_.state.loading=5),jn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(e,a),f||eA(h,e,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=fi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Fa(e){return'href="'+an(e)+'"'}function Al(e){return'link[rel="stylesheet"]['+e+"]"}function j_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function eA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ye(i,"link",a),Se(i),e.head.appendChild(i))}function Ga(e){return'[src="'+an(e)+'"]'}function Sl(e){return"script[async]"+e}function B_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return i.instance=o,Se(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Se(o),Ye(o,"style",h),Oc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Fa(a.href);var f=e.querySelector(Al(h));if(f)return i.state.loading|=4,i.instance=f,Se(f),f;o=j_(a),(h=jn.get(h))&&qd(o,h),f=(e.ownerDocument||e).createElement("link"),Se(f);var _=f;return _._p=new Promise(function(E,I){_.onload=E,_.onerror=I}),Ye(f,"link",o),i.state.loading|=4,Oc(f,a.precedence,e),i.instance=f;case"script":return f=Ga(a.src),(h=e.querySelector(Sl(f)))?(i.instance=h,Se(h),h):(o=a,(h=jn.get(f))&&(o=S({},a),Hd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ye(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Oc(o,a.precedence,e));return i.instance}function Oc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function qd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Hd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Mc=null;function q_(e,i,a){if(Mc===null){var o=new Map,h=Mc=new Map;h.set(a,o)}else h=Mc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ci]||f[Ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function H_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function nA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function F_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iA(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(o.href),f=i.querySelector(Al(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Vc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,Se(f);return}f=i.ownerDocument||i,o=j_(o),(h=jn.get(h))&&qd(o,h),f=f.createElement("link"),Se(f);var _=f;_._p=new Promise(function(E,I){_.onload=E,_.onerror=I}),Ye(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Vc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Fd=0;function sA(e,i){return e.stylesheets&&e.count===0&&Uc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Uc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Fd===0&&(Fd=62500*Pb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Uc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Fd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var kc=null;function Uc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,kc=new Map,i.forEach(rA,e),kc=null,Vc.call(e))}function rA(e,i){if(!(i.state.loading&4)){var a=kc.get(e);if(a)var o=a.get(null);else{a=new Map,kc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var wl={$$typeof:st,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function aA(e,i,a,o,h,f,_,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function G_(e,i,a,o,h,f,_,E,I,j,G,X){return e=new aA(e,i,a,_,I,j,G,X,E),i=1,f===!0&&(i|=24),f=_n(3,null,null,i),e.current=f,f.stateNode=e,i=Af(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Cf(f),e}function Y_(e){return e?(e=ba,e):ba}function K_(e,i,a,o,h,f){h=Y_(h),o.context===null?o.context=h:o.pendingContext=h,o=ws(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Rs(e,o,i),a!==null&&(fn(a,e,i),il(a,e,i))}function Q_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Gd(e,i){Q_(e,i),(e=e.alternate)&&Q_(e,i)}function X_(e){if(e.tag===13||e.tag===31){var i=Or(e,67108864);i!==null&&fn(i,e,67108864),Gd(e,67108864)}}function $_(e){if(e.tag===13||e.tag===31){var i=An();i=Er(i);var a=Or(e,i);a!==null&&fn(a,e,i),Gd(e,i)}}var Lc=!0;function oA(e,i,a,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,Yd(e,i,a,o)}finally{et.p=f,F.T=h}}function lA(e,i,a,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,Yd(e,i,a,o)}finally{et.p=f,F.T=h}}function Yd(e,i,a,o){if(Lc){var h=Kd(o);if(h===null)Od(e,i,o,Pc,a),Z_(e,o);else if(cA(h,e,i,a,o))o.stopPropagation();else if(Z_(e,o),i&4&&-1<uA.indexOf(e)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ai(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var I=1<<31-ge(_);E.entanglements[1]|=I,_&=~I}wi(f),(Ht&6)===0&&(Ec=en()+500,vl(0))}}break;case 31:case 13:E=Or(f,2),E!==null&&fn(E,f,2),bc(),Gd(f,2)}if(f=Kd(o),f===null&&Od(e,i,o,Pc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Od(e,i,o,null,a)}}function Kd(e){return e=xn(e),Qd(e)}var Pc=null;function Qd(e){if(Pc=null,e=hi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=g(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Pc=e,null}function J_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case Io:return 2;case No:return 8;case cs:case Wh:return 32;case pu:return 268435456;default:return 32}default:return 32}}var Xd=!1,Ls=null,Ps=null,zs=null,Rl=new Map,Cl=new Map,js=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(e,i){switch(e){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Il(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Nn(i),i!==null&&X_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function cA(e,i,a,o,h){switch(i){case"focusin":return Ls=Il(Ls,e,i,a,o,h),!0;case"dragenter":return Ps=Il(Ps,e,i,a,o,h),!0;case"mouseover":return zs=Il(zs,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Rl.set(f,Il(Rl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Cl.set(f,Il(Cl.get(f)||null,e,i,a,o,h)),!0}return!1}function W_(e){var i=hi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){$_(a)});return}}else if(i===31){if(i=g(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){$_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Kd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Bo=o,a.target.dispatchEvent(o),Bo=null}else return i=Nn(a),i!==null&&X_(i),e.blockedOn=a,!1;i.shift()}return!0}function tv(e,i,a){zc(e)&&a.delete(i)}function hA(){Xd=!1,Ls!==null&&zc(Ls)&&(Ls=null),Ps!==null&&zc(Ps)&&(Ps=null),zs!==null&&zc(zs)&&(zs=null),Rl.forEach(tv),Cl.forEach(tv)}function jc(e,i){e.blockedOn===i&&(e.blockedOn=null,Xd||(Xd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,hA)))}var Bc=null;function ev(e){Bc!==e&&(Bc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Bc===e&&(Bc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Qd(o||a)===null)continue;break}var f=Nn(a);f!==null&&(e.splice(i,3),i-=3,Kf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ya(e){function i(I){return jc(I,e)}Ls!==null&&jc(Ls,e),Ps!==null&&jc(Ps,e),zs!==null&&jc(zs,e),Rl.forEach(i),Cl.forEach(i);for(var a=0;a<js.length;a++){var o=js[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<js.length&&(a=js[0],a.blockedOn===null);)W_(a),a.blockedOn===null&&js.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Le]||null;if(typeof f=="function")_||ev(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Le]||null)E=_.formAction;else if(Qd(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),ev(a)}}}function nv(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function $d(e){this._internalRoot=e}qc.prototype.render=$d.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=An();K_(a,o,e,i,null,null)},qc.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;K_(e.current,2,null,e,null,null),bc(),i[ui]=null}};function qc(e){this._internalRoot=e}qc.prototype.unstable_scheduleHydration=function(e){if(e){var i=bu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<js.length&&i!==0&&i<js[a].priority;a++);js.splice(a,0,e),a===0&&W_(e)}};var iv=t.version;if(iv!=="19.2.4")throw Error(r(527,iv,"19.2.4"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var fA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{qn=Hc.inject(fA),Be=Hc}catch{}}return xl.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",h=cy,f=hy,_=fy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=G_(e,1,!1,null,null,a,o,null,h,f,_,nv),e[ui]=i.current,Dd(e),new $d(i)},xl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=cy,_=hy,E=fy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=G_(e,1,!0,i,a??null,o,h,I,f,_,E,nv),i.context=Y_(null),a=i.current,o=An(),o=Er(o),h=ws(o),h.callback=null,Rs(a,h,o),a=o,i.current.lanes=a,_r(i,a),wi(i),e[ui]=i.current,Dd(e),new qc(i)},xl.version="19.2.4",xl}var dv;function bA(){if(dv)return Wd.exports;dv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Wd.exports=TA(),Wd.exports}var AA=bA();const SA=()=>{};var mv={};const Q0=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},wA=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],g=s[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],d=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,p=y?s[l+2]:0,T=u>>2,S=(u&3)<<4|g>>4;let x=(g&15)<<2|p>>6,k=p&63;y||(k=64,d||(x=64)),r.push(n[T],n[S],n[x],n[k])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Q0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):wA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const p=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||g==null||p==null||S==null)throw new RA;const x=u<<2|g>>4;if(r.push(x),p!==64){const k=g<<4&240|p>>2;if(r.push(k),S!==64){const Y=p<<6&192|S;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class RA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CA=function(s){const t=Q0(s);return X0.encodeByteArray(t,!0)},oh=function(s){return CA(s).replace(/\./g,"")},$0=function(s){try{return X0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function IA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const NA=()=>IA().__FIREBASE_DEFAULTS__,xA=()=>{if(typeof process>"u"||typeof mv>"u")return;const s=mv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},DA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&$0(s[1]);return t&&JSON.parse(t)},Ch=()=>{try{return SA()||NA()||xA()||DA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},J0=s=>Ch()?.emulatorHosts?.[s],OA=s=>{const t=J0(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Z0=()=>Ch()?.config,W0=s=>Ch()?.[`_${s}`];class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function go(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tE(s){return(await fetch(s,{credentials:"include"})).ok}function VA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[oh(JSON.stringify(n)),oh(JSON.stringify(d)),""].join(".")}const jl={};function kA(){const s={prod:[],emulator:[]};for(const t of Object.keys(jl))jl[t]?s.emulator.push(t):s.prod.push(t);return s}function UA(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let gv=!1;function eE(s,t){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||jl[s]===t||jl[s]||gv)return;jl[s]=t;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=kA().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,k){x.setAttribute("width","24"),x.setAttribute("id",k),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{gv=!0,d()},x}function T(x,k){x.setAttribute("id",k),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=UA(r),k=n("text"),Y=document.getElementById(k)||document.createElement("span"),W=n("learnmore"),J=document.getElementById(W)||document.createElement("a"),tt=n("preprendIcon"),at=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const st=x.element;g(st),T(J,W);const ct=p();y(at,tt),st.append(at,Y,J,ct),document.body.appendChild(st)}u?(Y.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function PA(){const s=Ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function BA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qA(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function HA(){return!PA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FA(){try{return typeof indexedDB=="object"}catch{return!1}}function GA(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const YA="FirebaseError";class as extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=YA,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?KA(u,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new as(l,g,r)}}function KA(s,t){return s.replace(QA,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const QA=/\{\$([^}]+)}/g;function XA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function er(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const u=s[l],d=t[l];if(pv(u)&&pv(d)){if(!er(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function pv(s){return s!==null&&typeof s=="object"}function iu(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ol(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function Ml(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function $A(s,t){const n=new JA(s,t);return n.subscribe.bind(n)}class JA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let l;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZA(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:r},l.next===void 0&&(l.next=im),l.error===void 0&&(l.error=im),l.complete===void 0&&(l.complete=im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZA(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function im(){}function me(s){return s&&s._delegate?s._delegate:s}class Xr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Gr="[DEFAULT]";class WA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new MA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eS(t))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=Gr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gr){return this.instances.has(t)}getOptions(t=Gr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&d.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&t(u,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Gr){return this.component?this.component.multipleInstances?t:Gr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tS(s){return s===Gr?void 0:s}function eS(s){return s.instantiationMode==="EAGER"}class nS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new WA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const iS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},sS=Mt.INFO,rS={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},aS=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=rS[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Gm{constructor(t){this.name=t,this._logLevel=sS,this._logHandler=aS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const oS=(s,t)=>t.some(n=>s instanceof n);let yv,_v;function lS(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nE=new WeakMap,ym=new WeakMap,iE=new WeakMap,sm=new WeakMap,Ym=new WeakMap;function cS(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Qs(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&nE.set(n,s)}).catch(()=>{}),Ym.set(t,s),t}function hS(s){if(ym.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});ym.set(s,t)}let _m={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return ym.get(s);if(t==="objectStoreNames")return s.objectStoreNames||iE.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function fS(s){_m=s(_m)}function dS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(rm(this),t,...n);return iE.set(r,t.sort?t.sort():[t]),Qs(r)}:uS().includes(s)?function(...t){return s.apply(rm(this),t),Qs(nE.get(this))}:function(...t){return Qs(s.apply(rm(this),t))}}function mS(s){return typeof s=="function"?dS(s):(s instanceof IDBTransaction&&hS(s),oS(s,lS())?new Proxy(s,_m):s)}function Qs(s){if(s instanceof IDBRequest)return cS(s);if(sm.has(s))return sm.get(s);const t=mS(s);return t!==s&&(sm.set(s,t),Ym.set(t,s)),t}const rm=s=>Ym.get(s);function gS(s,t,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,t),g=Qs(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Qs(d.result),y.oldVersion,y.newVersion,Qs(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const pS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],am=new Map;function vv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(am.get(t))return am.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=yS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||pS.includes(n)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),l&&y.done]))[0]};return am.set(t,u),u}fS(s=>({...s,get:(t,n,r)=>vv(t,n)||s.get(t,n,r),has:(t,n)=>!!vv(t,n)||s.has(t,n)}));class _S{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vS(s){return s.getComponent()?.type==="VERSION"}const vm="@firebase/app",Ev="0.14.7";const es=new Gm("@firebase/app"),ES="@firebase/app-compat",TS="@firebase/analytics-compat",bS="@firebase/analytics",AS="@firebase/app-check-compat",SS="@firebase/app-check",wS="@firebase/auth",RS="@firebase/auth-compat",CS="@firebase/database",IS="@firebase/data-connect",NS="@firebase/database-compat",xS="@firebase/functions",DS="@firebase/functions-compat",OS="@firebase/installations",MS="@firebase/installations-compat",VS="@firebase/messaging",kS="@firebase/messaging-compat",US="@firebase/performance",LS="@firebase/performance-compat",PS="@firebase/remote-config",zS="@firebase/remote-config-compat",jS="@firebase/storage",BS="@firebase/storage-compat",qS="@firebase/firestore",HS="@firebase/ai",FS="@firebase/firestore-compat",GS="firebase",YS="12.8.0";const Em="[DEFAULT]",KS={[vm]:"fire-core",[ES]:"fire-core-compat",[bS]:"fire-analytics",[TS]:"fire-analytics-compat",[SS]:"fire-app-check",[AS]:"fire-app-check-compat",[wS]:"fire-auth",[RS]:"fire-auth-compat",[CS]:"fire-rtdb",[IS]:"fire-data-connect",[NS]:"fire-rtdb-compat",[xS]:"fire-fn",[DS]:"fire-fn-compat",[OS]:"fire-iid",[MS]:"fire-iid-compat",[VS]:"fire-fcm",[kS]:"fire-fcm-compat",[US]:"fire-perf",[LS]:"fire-perf-compat",[PS]:"fire-rc",[zS]:"fire-rc-compat",[jS]:"fire-gcs",[BS]:"fire-gcs-compat",[qS]:"fire-fst",[FS]:"fire-fst-compat",[HS]:"fire-vertex","fire-js":"fire-js",[GS]:"fire-js-all"};const lh=new Map,QS=new Map,Tm=new Map;function Tv(s,t){try{s.container.addComponent(t)}catch(n){es.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function so(s){const t=s.name;if(Tm.has(t))return es.debug(`There were multiple attempts to register component ${t}.`),!1;Tm.set(t,s);for(const n of lh.values())Tv(n,s);for(const n of QS.values())Tv(n,s);return!0}function Km(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Sn(s){return s==null?!1:s.settings!==void 0}const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new nu("app","Firebase",XS);class $S{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const po=YS;function sE(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:Em,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Xs.create("bad-app-name",{appName:String(l)});if(n||(n=Z0()),!n)throw Xs.create("no-options");const u=lh.get(l);if(u){if(er(n,u.options)&&er(r,u.config))return u;throw Xs.create("duplicate-app",{appName:l})}const d=new nS(l);for(const y of Tm.values())d.addComponent(y);const g=new $S(n,r,d);return lh.set(l,g),g}function rE(s=Em){const t=lh.get(s);if(!t&&s===Em&&Z0())return sE();if(!t)throw Xs.create("no-app",{appName:s});return t}function $s(s,t,n){let r=KS[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),es.warn(d.join(" "));return}so(new Xr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const JS="firebase-heartbeat-database",ZS=1,Yl="firebase-heartbeat-store";let om=null;function aE(){return om||(om=gS(JS,ZS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Xs.create("idb-open",{originalErrorMessage:s.message})})),om}async function WS(s){try{const n=(await aE()).transaction(Yl),r=await n.objectStore(Yl).get(oE(s));return await n.done,r}catch(t){if(t instanceof as)es.warn(t.message);else{const n=Xs.create("idb-get",{originalErrorMessage:t?.message});es.warn(n.message)}}}async function bv(s,t){try{const r=(await aE()).transaction(Yl,"readwrite");await r.objectStore(Yl).put(t,oE(s)),await r.done}catch(n){if(n instanceof as)es.warn(n.message);else{const r=Xs.create("idb-set",{originalErrorMessage:n?.message});es.warn(r.message)}}}function oE(s){return`${s.name}!${s.options.appId}`}const tw=1024,ew=30;class nw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ew){const l=rw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){es.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Av(),{heartbeatsToSend:n,unsentEntries:r}=iw(this._heartbeatsCache.heartbeats),l=oh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return es.warn(t),""}}}function Av(){return new Date().toISOString().substring(0,10)}function iw(s,t=tw){const n=[];let r=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Sv(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Sv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FA()?GA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Sv(s){return oh(JSON.stringify({version:2,heartbeats:s})).length}function rw(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function aw(s){so(new Xr("platform-logger",t=>new _S(t),"PRIVATE")),so(new Xr("heartbeat",t=>new nw(t),"PRIVATE")),$s(vm,Ev,s),$s(vm,Ev,"esm2020"),$s("fire-js","")}aw("");var ow="firebase",lw="12.8.0";$s(ow,lw,"app");function lE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uw=lE,uE=new nu("auth","Firebase",lE());const uh=new Gm("@firebase/auth");function cw(s,...t){uh.logLevel<=Mt.WARN&&uh.warn(`Auth (${po}): ${s}`,...t)}function Jc(s,...t){uh.logLevel<=Mt.ERROR&&uh.error(`Auth (${po}): ${s}`,...t)}function ni(s,...t){throw Qm(s,...t)}function Ci(s,...t){return Qm(s,...t)}function cE(s,t,n){const r={...uw(),[t]:n};return new nu("auth","Firebase",r).create(t,{appName:s.name})}function Ii(s){return cE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qm(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return uE.create(s,...t)}function yt(s,t,...n){if(!s)throw Qm(t,...n)}function Wi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Jc(t),new Error(t)}function ns(s,t){s||Wi(t)}function bm(){return typeof self<"u"&&self.location?.href||""}function hw(){return wv()==="http:"||wv()==="https:"}function wv(){return typeof self<"u"&&self.location?.protocol||null}function fw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hw()||jA()||"connection"in navigator)?navigator.onLine:!0}function dw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class su{constructor(t,n){this.shortDelay=t,this.longDelay=n,ns(n>t,"Short delay should be less than long delay!"),this.isMobile=LA()||BA()}get(){return fw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xm(s,t){ns(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class hE{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pw=new su(3e4,6e4);function os(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ls(s,t,n,r,l={}){return fE(s,l,async()=>{let u={},d={};r&&(t==="GET"?d=r:u={body:JSON.stringify(r)});const g=iu({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const p={method:t,headers:y,...u};return zA()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&go(s.emulatorConfig.host)&&(p.credentials="include"),hE.fetch()(await dE(s,s.config.apiHost,n,g),p)})}async function fE(s,t,n){s._canInitEmulator=!1;const r={...mw,...t};try{const l=new _w(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Fc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Fc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Fc(s,"user-disabled",d);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw cE(s,T,p);ni(s,T)}}catch(l){if(l instanceof as)throw l;ni(s,"network-request-failed",{message:String(l)})}}async function yo(s,t,n,r,l={}){const u=await ls(s,t,n,r,l);return"mfaPendingCredential"in u&&ni(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function dE(s,t,n,r){const l=`${t}${n}?${r}`,u=s,d=u.config.emulator?Xm(s.config,l):`${s.config.apiScheme}://${l}`;return gw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function yw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _w{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),pw.get())})}}function Fc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ci(s,t,r);return l.customData._tokenResponse=n,l}function Rv(s){return s!==void 0&&s.enterprise!==void 0}class vw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return yw(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ew(s,t){return ls(s,"GET","/v2/recaptchaConfig",os(s,t))}async function Tw(s,t){return ls(s,"POST","/v1/accounts:delete",t)}async function ch(s,t){return ls(s,"POST","/v1/accounts:lookup",t)}function Bl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function bw(s,t=!1){const n=me(s),r=await n.getIdToken(t),l=$m(r);yt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Bl(lm(l.auth_time)),issuedAtTime:Bl(lm(l.iat)),expirationTime:Bl(lm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function lm(s){return Number(s)*1e3}function $m(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=$0(n);return l?JSON.parse(l):(Jc("Failed to decode base64 JWT payload"),null)}catch(l){return Jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Cv(s){const t=$m(s);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ro(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof as&&Aw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Aw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Sw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Am{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(s){const t=s.auth,n=await s.getIdToken(),r=await ro(s,ch(t,{idToken:n}));yt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?mE(l.providerUserInfo):[],d=Rw(s.providerData,u),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,p=g?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Am(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,T)}async function ww(s){const t=me(s);await hh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Rw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function mE(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Cw(s,t){const n=await fE(s,{},async()=>{const r=iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await dE(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&go(s.emulatorConfig.host)&&(y.credentials="include"),hE.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Iw(s,t){return ls(s,"POST","/v2/accounts:revokeToken",os(s,t))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Cv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const n=Cv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await Cw(t,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,d=new Za;return r&&(yt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(yt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function qs(s,t){yt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Sw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await ro(this,this.stsTokenManager.getToken(this.auth,t));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return bw(this,t)}reload(){return ww(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(Ii(this.auth));const t=await this.getIdToken();return await ro(this,Tw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:k,providerData:Y,stsTokenManager:W}=n;yt(S&&W,t,"internal-error");const J=Za.fromJSON(this.name,W);yt(typeof S=="string",t,"internal-error"),qs(r,t.name),qs(l,t.name),yt(typeof x=="boolean",t,"internal-error"),yt(typeof k=="boolean",t,"internal-error"),qs(u,t.name),qs(d,t.name),qs(g,t.name),qs(y,t.name),qs(p,t.name),qs(T,t.name);const tt=new ti({uid:S,auth:t,email:l,emailVerified:x,displayName:r,isAnonymous:k,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:J,createdAt:p,lastLoginAt:T});return Y&&Array.isArray(Y)&&(tt.providerData=Y.map(at=>({...at}))),y&&(tt._redirectEventId=y),tt}static async _fromIdTokenResponse(t,n,r=!1){const l=new Za;l.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await hh(u),u}static async _fromGetAccountInfoResponse(t,n,r){const l=n.users[0];yt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?mE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new Za;g.updateFromIdToken(r);const y=new ti({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const Iv=new Map;function ts(s){ns(s instanceof Function,"Expected a class definition");let t=Iv.get(s);return t?(ns(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Iv.set(s,t),t)}class gE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}gE.type="NONE";const Nv=gE;function Zc(s,t,n){return`firebase:${s}:${t}:${n}`}class Wa{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Zc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ch(this.auth,{idToken:t}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Wa(ts(Nv),t,r);const l=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||ts(Nv);const d=Zc(r,t.config.apiKey,t.name);let g=null;for(const p of n)try{const T=await p._get(d);if(T){let S;if(typeof T=="string"){const x=await ch(t,{idToken:T}).catch(()=>{});if(!x)break;S=await ti._fromGetAccountInfoResponse(t,x,T)}else S=ti._fromJSON(t,T);p!==u&&(g=S),u=p;break}}catch{}const y=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Wa(u,t,r):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new Wa(u,t,r))}}function xv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(TE(t))return"Blackberry";if(bE(t))return"Webos";if(yE(t))return"Safari";if((t.includes("chrome/")||_E(t))&&!t.includes("edge/"))return"Chrome";if(EE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function pE(s=tn()){return/firefox\//i.test(s)}function yE(s=tn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _E(s=tn()){return/crios\//i.test(s)}function vE(s=tn()){return/iemobile/i.test(s)}function EE(s=tn()){return/android/i.test(s)}function TE(s=tn()){return/blackberry/i.test(s)}function bE(s=tn()){return/webos/i.test(s)}function Jm(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Nw(s=tn()){return Jm(s)&&!!window.navigator?.standalone}function xw(){return qA()&&document.documentMode===10}function AE(s=tn()){return Jm(s)||EE(s)||bE(s)||TE(s)||/windows phone/i.test(s)||vE(s)}function SE(s,t=[]){let n;switch(s){case"Browser":n=xv(tn());break;case"Worker":n=`${xv(tn())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${r}`}class Dw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((d,g)=>{try{const y=t(u);d(y)}catch(y){g(y)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Ow(s,t={}){return ls(s,"GET","/v2/passwordPolicy",os(s,t))}const Mw=6;class Vw{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Mw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class kw{constructor(t,n,r,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new Dw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ch(this,{idToken:t}),r=await ti._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Sn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!u||u===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await hh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=dw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Sn(this.app))return Promise.reject(Ii(this));const n=t?me(t):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Sn(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ow(this),n=new Vw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Iw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ts(t)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=SE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&cw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function hr(s){return me(s)}class Dv{constructor(t){this.auth=t,this.observer=null,this.addObserver=$A(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uw(s){Ih=s}function wE(s){return Ih.loadJS(s)}function Lw(){return Ih.recaptchaEnterpriseScript}function Pw(){return Ih.gapiScript}function zw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class jw{constructor(){this.enterprise=new Bw}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Bw{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const qw="recaptcha-enterprise",RE="NO_RECAPTCHA";class Hw{constructor(t){this.type=qw,this.auth=hr(t)}async verify(t="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{Ew(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new vw(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,d(p.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;Rv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(p=>{d(p)}).catch(()=>{d(RE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jw().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(g=>{if(!n&&Rv(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Lw();y.length!==0&&(y+=g),wE(y).then(()=>{l(g,u,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function Ov(s,t,n,r=!1,l=!1){const u=new Hw(s);let d;if(l)d=RE;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Sm(s,t,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Ov(s,t,n,n==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Ov(s,t,n,n==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function Fw(s,t){const n=Km(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(er(u,t??{}))return l;ni(l,"already-initialized")}return n.initialize({options:t})}function Gw(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ts);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Yw(s,t,n){const r=hr(s);yt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,u=CE(t),{host:d,port:g}=Kw(t),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},T=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){yt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),yt(er(p,r.config.emulator)&&er(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,go(d)?(tE(`${u}//${d}${y}`),eE("Auth",!0)):Qw()}function CE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Kw(s){const t=CE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Mv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Mv(d)}}}function Mv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Qw(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Zm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,n){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function Xw(s,t){return ls(s,"POST","/v1/accounts:signUp",t)}async function $w(s,t){return yo(s,"POST","/v1/accounts:signInWithPassword",os(s,t))}async function Jw(s,t){return yo(s,"POST","/v1/accounts:signInWithEmailLink",os(s,t))}async function Zw(s,t){return yo(s,"POST","/v1/accounts:signInWithEmailLink",os(s,t))}class Kl extends Zm{constructor(t,n,r,l=null){super("password",r),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Kl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Kl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(t,n,"signInWithPassword",$w);case"emailLink":return Jw(t,{email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(t,r,"signUpPassword",Xw);case"emailLink":return Zw(t,{idToken:n,email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function to(s,t){return yo(s,"POST","/v1/accounts:signInWithIdp",os(s,t))}const Ww="http://localhost";class $r extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new $r(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const d=new $r(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return to(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,to(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,to(t,n)}buildRequest(){const t={requestUri:Ww,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=iu(n)}return t}}function t2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e2(s){const t=Ol(Ml(s)).link,n=t?Ol(Ml(t)).deep_link_id:null,r=Ol(Ml(s)).deep_link_id;return(r?Ol(Ml(r)).link:null)||r||n||t||s}class Wm{constructor(t){const n=Ol(Ml(t)),r=n.apiKey??null,l=n.oobCode??null,u=t2(n.mode??null);yt(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=e2(t);try{return new Wm(n)}catch{return null}}}class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(t,n){return Kl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Wm.parseLink(n);return yt(r,"argument-error"),Kl._fromEmailAndCode(t,r.code,r.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class IE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ru extends IE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hs extends ru{constructor(){super("facebook.com")}static credential(t){return $r._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";class Fs extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return $r._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";class Gs extends ru{constructor(){super("github.com")}static credential(t){return $r._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Ys extends ru{constructor(){super("twitter.com")}static credential(t,n){return $r._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ys.credential(n,r)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";async function n2(s,t){return yo(s,"POST","/v1/accounts:signUp",os(s,t))}class nr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,l=!1){const u=await ti._fromIdTokenResponse(t,r,l),d=Vv(r);return new nr({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const l=Vv(r);return new nr({user:t,providerId:l,_tokenResponse:r,operationType:n})}}function Vv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class fh extends as{constructor(t,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,l){return new fh(t,n,r,l)}}function NE(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(s,u,t,r):u})}async function i2(s,t,n=!1){const r=await ro(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return nr._forOperation(s,"link",r)}async function s2(s,t,n=!1){const{auth:r}=s;if(Sn(r.app))return Promise.reject(Ii(r));const l="reauthenticate";try{const u=await ro(s,NE(r,l,t,s),n);yt(u.idToken,r,"internal-error");const d=$m(u.idToken);yt(d,r,"internal-error");const{sub:g}=d;return yt(s.uid===g,r,"user-mismatch"),nr._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ni(r,"user-mismatch"),u}}async function xE(s,t,n=!1){if(Sn(s.app))return Promise.reject(Ii(s));const r="signIn",l=await NE(s,r,t),u=await nr._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function r2(s,t){return xE(hr(s),t)}async function a2(s,t){return yo(s,"POST","/v1/accounts:signInWithCustomToken",os(s,t))}async function o2(s,t){if(Sn(s.app))return Promise.reject(Ii(s));const n=hr(s),r=await a2(n,{token:t,returnSecureToken:!0}),l=await nr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(l.user),l}async function DE(s){const t=hr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function l2(s,t,n){if(Sn(s.app))return Promise.reject(Ii(s));const r=hr(s),d=await Sm(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n2).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&DE(s),y}),g=await nr._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function u2(s,t,n){return Sn(s.app)?Promise.reject(Ii(s)):r2(me(s),_o.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DE(s),r})}async function c2(s,t){return ls(s,"POST","/v1/accounts:update",t)}async function OE(s,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=me(s),u={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},d=await ro(r,c2(r.auth,u));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const g=r.providerData.find(({providerId:y})=>y==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function h2(s,t,n,r){return me(s).onIdTokenChanged(t,n,r)}function f2(s,t,n){return me(s).beforeAuthStateChanged(t,n)}function d2(s,t,n,r){return me(s).onAuthStateChanged(t,n,r)}function m2(s){return me(s).signOut()}const dh="__sak";class ME{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const g2=1e3,p2=10;class VE extends ME{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&t(n,l,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);xw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,p2):l()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}VE.type="LOCAL";const y2=VE;class kE extends ME{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}kE.type="SESSION";const UE=kE;function _2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const r=new Nh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async p=>p(n.origin,u)),y=await _2(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function tg(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class v2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=tg("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(x.data.response);break;default:clearTimeout(T),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function E2(s){Ni().location.href=s}function LE(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function T2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function b2(){return navigator?.serviceWorker?.controller||null}function A2(){return LE()?self:null}const PE="firebaseLocalStorageDb",S2=1,mh="firebaseLocalStorage",zE="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(s,t){return s.transaction([mh],t?"readwrite":"readonly").objectStore(mh)}function w2(){const s=indexedDB.deleteDatabase(PE);return new au(s).toPromise()}function wm(){const s=indexedDB.open(PE,S2);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(mh,{keyPath:zE})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(mh)?t(r):(r.close(),await w2(),t(await wm()))})})}async function kv(s,t,n){const r=xh(s,!0).put({[zE]:t,value:n});return new au(r).toPromise()}async function R2(s,t){const n=xh(s,!1).get(t),r=await new au(n).toPromise();return r===void 0?null:r.value}function Uv(s,t){const n=xh(s,!0).delete(t);return new au(n).toPromise()}const C2=800,I2=3;class jE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>I2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(A2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await T2(),!this.activeServiceWorker)return;this.sender=new v2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||b2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wm();return await kv(t,dh,"1"),await Uv(t,dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>R2(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=xh(l,!1).getAll();return new au(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jE.type="LOCAL";const N2=jE;new su(3e4,6e4);function x2(s,t){return t?ts(t):(yt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class eg extends Zm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return to(t,this._buildIdpRequest())}_linkToIdToken(t,n){return to(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return to(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function D2(s){return xE(s.auth,new eg(s),s.bypassAuthState)}function O2(s){const{auth:t,user:n}=s;return yt(n,t,"internal-error"),s2(n,new eg(s),s.bypassAuthState)}async function M2(s){const{auth:t,user:n}=s;return yt(n,t,"internal-error"),i2(n,new eg(s),s.bypassAuthState)}class BE{constructor(t,n,r,l,u=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return D2;case"linkViaPopup":case"linkViaRedirect":return M2;case"reauthViaPopup":case"reauthViaRedirect":return O2;default:ni(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const V2=new su(2e3,1e4);class Ja extends BE{constructor(t,n,r,l,u){super(t,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,V2.get())};t()}}Ja.currentPopupAction=null;const k2="pendingRedirect",Wc=new Map;class U2 extends BE{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Wc.get(this.auth._key());if(!t){try{const r=await L2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Wc.set(this.auth._key(),t)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L2(s,t){const n=j2(t),r=z2(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function P2(s,t){Wc.set(s._key(),t)}function z2(s){return ts(s._redirectPersistence)}function j2(s){return Zc(k2,s.config.apiKey,s.name)}async function B2(s,t,n=!1){if(Sn(s.app))return Promise.reject(Ii(s));const r=hr(s),l=x2(r,t),d=await new U2(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const q2=600*1e3;class H2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!F2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!qE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ci(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lv(t))}saveEventToCache(t){this.cachedEventUids.add(Lv(t)),this.lastProcessedEventTime=Date.now()}}function Lv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function qE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function F2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qE(s);default:return!1}}async function G2(s,t={}){return ls(s,"GET","/v1/projects",t)}const Y2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K2=/^https?/;async function Q2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await G2(s);for(const n of t)try{if(X2(n))return}catch{}ni(s,"unauthorized-domain")}function X2(s){const t=bm(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!K2.test(n))return!1;if(Y2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const $2=new su(3e4,6e4);function Pv(){const s=Ni().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function J2(s){return new Promise((t,n)=>{function r(){Pv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Pv(),n(Ci(s,"network-request-failed"))},timeout:$2.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)r();else{const l=zw("iframefcb");return Ni()[l]=()=>{gapi.load?r():n(Ci(s,"network-request-failed"))},wE(`${Pw()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw th=null,t})}let th=null;function Z2(s){return th=th||J2(s),th}const W2=new su(5e3,15e3),tR="__/auth/iframe",eR="emulator/auth/iframe",nR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sR(s){const t=s.config;yt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Xm(t,eR):`https://${s.config.authDomain}/${tR}`,r={apiKey:t.apiKey,appName:s.name,v:po},l=iR.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${iu(r).slice(1)}`}async function rR(s){const t=await Z2(s),n=Ni().gapi;return yt(n,s,"internal-error"),t.open({where:document.body,url:sR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nR,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ci(s,"network-request-failed"),g=Ni().setTimeout(()=>{u(d)},W2.get());function y(){Ni().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{u(d)})}))}const aR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oR=500,lR=600,uR="_blank",cR="http://localhost";class zv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hR(s,t,n,r=oR,l=lR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...aR,width:r.toString(),height:l.toString(),top:u,left:d},p=tn().toLowerCase();n&&(g=_E(p)?uR:n),pE(p)&&(t=t||cR,y.scrollbars="yes");const T=Object.entries(y).reduce((x,[k,Y])=>`${x}${k}=${Y},`,"");if(Nw(p)&&g!=="_self")return fR(t||"",g),new zv(null);const S=window.open(t||"",g,T);yt(S,s,"popup-blocked");try{S.focus()}catch{}return new zv(S)}function fR(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const dR="__/auth/handler",mR="emulator/auth/handler",gR=encodeURIComponent("fac");async function jv(s,t,n,r,l,u){yt(s.config.authDomain,s,"auth-domain-config-required"),yt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:po,eventId:l};if(t instanceof IE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",XA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof ru){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const y=await s._getAppCheckToken(),p=y?`#${gR}=${encodeURIComponent(y)}`:"";return`${pR(s)}?${iu(g).slice(1)}${p}`}function pR({config:s}){return s.emulator?Xm(s,mR):`https://${s.authDomain}/${dR}`}const um="webStorageSupport";class yR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UE,this._completeRedirectFn=B2,this._overrideRedirectResult=P2}async _openPopup(t,n,r,l){ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await jv(t,n,r,bm(),l);return hR(t,u,tg())}async _openRedirect(t,n,r,l){await this._originValidation(t);const u=await jv(t,n,r,bm(),l);return E2(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(ns(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await rR(t),r=new H2(t);return n.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(um,{type:um},l=>{const u=l?.[0]?.[um];u!==void 0&&n(!!u),ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return AE()||yE()||Jm()}}const _R=yR;var Bv="@firebase/auth",qv="1.12.0";class vR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ER(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TR(s){so(new Xr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SE(s)},p=new kw(r,l,u,y);return Gw(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),so(new Xr("auth-internal",t=>{const n=hr(t.getProvider("auth").getImmediate());return(r=>new vR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(Bv,qv,ER(s)),$s(Bv,qv,"esm2020")}const bR=300,AR=W0("authIdTokenMaxAge")||bR;let Hv=null;const SR=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AR)return;const l=n?.token;Hv!==l&&(Hv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function wR(s=rE()){const t=Km(s,"auth");if(t.isInitialized())return t.getImmediate();const n=Fw(s,{popupRedirectResolver:_R,persistence:[N2,y2,UE]}),r=W0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=SR(u.toString());f2(n,d,()=>d(n.currentUser)),h2(n,g=>d(g))}}const l=J0("auth");return l&&Yw(n,`http://${l}`),n}function RR(){return document.getElementsByTagName("head")?.[0]??document}Uw({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const u=Ci("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",RR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TR("Browser");var Fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,HE;(function(){var s;function t(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(O,D,L){for(var C=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)C[Xt-2]=arguments[Xt];return A.prototype[D].apply(O,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,R){R||(R=0);const O=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)O[D]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(D=0;D<16;++D)O[D]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],D=N.g[2];let L=N.g[3],C;C=A+(L^R&(D^L))+O[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(D^A&(R^D))+O[1]+3905402710&4294967295,L=A+(C<<12&4294967295|C>>>20),C=D+(R^L&(A^R))+O[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(A^D&(L^A))+O[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(L^R&(D^L))+O[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(D^A&(R^D))+O[5]+1200080426&4294967295,L=A+(C<<12&4294967295|C>>>20),C=D+(R^L&(A^R))+O[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(A^D&(L^A))+O[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(L^R&(D^L))+O[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(D^A&(R^D))+O[9]+2336552879&4294967295,L=A+(C<<12&4294967295|C>>>20),C=D+(R^L&(A^R))+O[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(A^D&(L^A))+O[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(L^R&(D^L))+O[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(D^A&(R^D))+O[13]+4254626195&4294967295,L=A+(C<<12&4294967295|C>>>20),C=D+(R^L&(A^R))+O[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(A^D&(L^A))+O[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(D^L&(R^D))+O[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(A^R))+O[6]+3225465664&4294967295,L=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(L^A))+O[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(D^L))+O[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(D^L&(R^D))+O[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(A^R))+O[10]+38016083&4294967295,L=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(L^A))+O[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(D^L))+O[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(D^L&(R^D))+O[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(A^R))+O[14]+3275163606&4294967295,L=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(L^A))+O[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(D^L))+O[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(D^L&(R^D))+O[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(A^R))+O[2]+4243563512&4294967295,L=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(L^A))+O[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(D^L))+O[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(R^D^L)+O[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^D)+O[8]+2272392833&4294967295,L=A+(C<<11&4294967295|C>>>21),C=D+(L^A^R)+O[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^A)+O[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(R^D^L)+O[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^D)+O[4]+1272893353&4294967295,L=A+(C<<11&4294967295|C>>>21),C=D+(L^A^R)+O[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^A)+O[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(R^D^L)+O[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^D)+O[0]+3936430074&4294967295,L=A+(C<<11&4294967295|C>>>21),C=D+(L^A^R)+O[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^A)+O[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(R^D^L)+O[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^D)+O[12]+3873151461&4294967295,L=A+(C<<11&4294967295|C>>>21),C=D+(L^A^R)+O[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^A)+O[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(D^(R|~L))+O[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~D))+O[7]+1126891415&4294967295,L=A+(C<<10&4294967295|C>>>22),C=D+(A^(L|~R))+O[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~A))+O[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=A+(D^(R|~L))+O[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~D))+O[3]+2399980690&4294967295,L=A+(C<<10&4294967295|C>>>22),C=D+(A^(L|~R))+O[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~A))+O[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=A+(D^(R|~L))+O[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~D))+O[15]+4264355552&4294967295,L=A+(C<<10&4294967295|C>>>22),C=D+(A^(L|~R))+O[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~A))+O[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=A+(D^(R|~L))+O[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~D))+O[11]+3174756917&4294967295,L=A+(C<<10&4294967295|C>>>22),C=D+(A^(L|~R))+O[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~A))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,O=this.C;let D=this.h,L=0;for(;L<A;){if(D==0)for(;L<=R;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<A;)if(O[D++]=N.charCodeAt(L++),D==this.blockSize){l(this,O),D=0;break}}else for(;L<A;)if(O[D++]=N[L++],D==this.blockSize){l(this,O),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)N[A++]=this.g[R]>>>O&255;return N};function u(N,A){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function d(N,A){this.h=A;const R=[];let O=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;O&&L==A||(R[D]=L,O=!1)}this.g=R}var g={};function y(N){return-128<=N&&N<128?u(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return J(p(-N));const A=[];let R=1;for(let O=0;N>=R;O++)A[O]=N/R|0,R*=4294967296;return new d(A,0)}function T(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return J(T(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(A,8));let O=S;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const C=parseInt(N.substring(L,L+D),A);D<8?(D=p(Math.pow(A,D)),O=O.j(D).add(p(C))):(O=O.j(R),O=O.add(p(C)))}return O}var S=y(0),x=y(1),k=y(16777216);s=d.prototype,s.m=function(){if(W(this))return-J(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);N+=(O>=0?O:4294967296+O)*A,A*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Y(this))return"0";if(W(this))return"-"+J(this).toString(N);const A=p(Math.pow(N,6));var R=this;let O="";for(;;){const D=ct(R,A).g;R=tt(R,D.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,Y(R))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Y(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function W(N){return N.h==-1}s.l=function(N){return N=tt(this,N),W(N)?-1:Y(N)?0:1};function J(N){const A=N.g.length,R=[];for(let O=0;O<A;O++)R[O]=~N.g[O];return new d(R,~N.h).add(x)}s.abs=function(){return W(this)?J(this):this},s.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let O=0;for(let D=0;D<=A;D++){let L=O+(this.i(D)&65535)+(N.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);O=C>>>16,L&=65535,C&=65535,R[D]=C<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function tt(N,A){return N.add(J(A))}s.j=function(N){if(Y(this)||Y(N))return S;if(W(this))return W(N)?J(this).j(J(N)):J(J(this).j(N));if(W(N))return J(this.j(J(N)));if(this.l(k)<0&&N.l(k)<0)return p(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<N.g.length;D++){const L=this.i(O)>>>16,C=this.i(O)&65535,Xt=N.i(D)>>>16,ce=N.i(D)&65535;R[2*O+2*D]+=C*ce,at(R,2*O+2*D),R[2*O+2*D+1]+=L*ce,at(R,2*O+2*D+1),R[2*O+2*D+1]+=C*Xt,at(R,2*O+2*D+1),R[2*O+2*D+2]+=L*Xt,at(R,2*O+2*D+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new d(R,0)};function at(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function st(N,A){this.g=N,this.h=A}function ct(N,A){if(Y(A))throw Error("division by zero");if(Y(N))return new st(S,S);if(W(N))return A=ct(J(N),A),new st(J(A.g),J(A.h));if(W(A))return A=ct(N,J(A)),new st(J(A.g),A.h);if(N.g.length>30){if(W(N)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var R=x,O=A;O.l(N)<=0;)R=It(R),O=It(O);var D=At(R,1),L=At(O,1);for(O=At(O,2),R=At(R,2);!Y(O);){var C=L.add(O);C.l(N)<=0&&(D=D.add(R),L=C),O=At(O,1),R=At(R,1)}return A=tt(N,D.j(A)),new st(D,A)}for(D=S;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=p(R),C=L.j(A);W(C)||C.l(N)>0;)R-=O,L=p(R),C=L.j(A);Y(L)&&(L=x),D=D.add(L),N=tt(N,C)}return new st(D,N)}s.B=function(N){return ct(this,N).h},s.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)&N.i(O);return new d(R,this.h&N.h)},s.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)|N.i(O);return new d(R,this.h|N.h)},s.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)^N.i(O);return new d(R,this.h^N.h)};function It(N){const A=N.g.length+1,R=[];for(let O=0;O<A;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(R,N.h)}function At(N,A){const R=A>>5;A%=32;const O=N.g.length-R,D=[];for(let L=0;L<O;L++)D[L]=A>0?N.i(L+R)>>>A|N.i(L+R+1)<<32-A:N.i(L+R);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,HE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=T,Js=d}).apply(typeof Fv<"u"?Fv:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FE,Vl,GE,eh,Rm,YE,KE,QE;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,m){if(m)t:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var P=c[b];if(!(P in v))break t;v=v[P]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function p(c,m,v){return p=y,p.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,P,q){for(var nt=Array(arguments.length-2),St=2;St<arguments.length;St++)nt[St-2]=arguments[St];return m.prototype[P].apply(b,nt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const m=c.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function Y(c,m){for(let b=1;b<arguments.length;b++){const P=arguments[b];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const q=P.length||0;c.length=v+q;for(let nt=0;nt<q;nt++)c[v+nt]=P[nt]}else c.push(P)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(c){d.setTimeout(()=>{throw c},0)}function tt(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class at{constructor(){this.h=this.g=null}add(m,v){const b=st.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var st=new W(()=>new ct,c=>c.reset());class ct{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let It,At=!1,N=new at,A=()=>{const c=Promise.resolve(void 0);It=()=>{c.then(R)}};function R(){for(var c;c=tt();){try{c.h.call(c.g)}catch(v){J(v)}var m=st;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}At=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Xt(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(Xt,D),Xt.prototype.init=function(c,m){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Xt.Z.h.call(this)},Xt.prototype.h=function(){Xt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(c,m,v,b,P){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=P,this.key=++F,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function Gt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function V(c){const m={};for(const v in c)m[v]=c[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,m){let v,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(v in b)c[v]=b[v];for(let q=0;q<$.length;q++)v=$[q],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function lt(c){this.src=c,this.g={},this.h=0}lt.prototype.add=function(c,m,v,b,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const nt=Rt(c,m,b,P);return nt>-1?(m=c[nt],v||(m.fa=!1)):(m=new et(m,this.src,q,!!b,P),m.fa=v,c.push(m)),m};function vt(c,m){const v=m.type;if(v in c.g){var b=c.g[v],P=Array.prototype.indexOf.call(b,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(b,P,1),q&&(gt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rt(c,m,v,b){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return P}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Me={};function re(c,m,v,b,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)re(c,m[q],v,b,P);return null}return v=Co(v),c&&c[ce]?c.J(m,v,g(b)?!!b.capture:!1,P):mr(c,m,v,!1,b,P)}function mr(c,m,v,b,P,q){if(!m)throw Error("Invalid event type");const nt=g(P)?!!P.capture:!!P;let St=gr(c);if(St||(c[Lt]=St=new lt(c)),v=St.add(m,v,b,nt,q),v.proxy)return v;if(b=ia(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)L||(P=nt),P===void 0&&(P=!1),c.addEventListener(m.toString(),b,P);else if(c.attachEvent)c.attachEvent(si(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ia(){function c(v){return m.call(c.src,c.listener,v)}const m=wo;return c}function sa(c,m,v,b,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)sa(c,m[q],v,b,P);else b=g(b)?!!b.capture:!!b,v=Co(v),c&&c[ce]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=Rt(m,v,b,P),v>-1&&(gt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=gr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Rt(m,v,b,P)),(v=c>-1?m[c]:null)&&ra(v))}function ra(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ce])vt(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(si(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=gr(m))?(vt(v,c),v.h==0&&(v.src=null,m[Lt]=null)):gt(c)}}}function si(c){return c in Me?Me[c]:Me[c]="on"+c}function wo(c,m){if(c.da)c=!0;else{m=new Xt(m,this);const v=c.listener,b=c.ha||c.src;c.fa&&ra(c),c=v.call(b,m)}return c}function gr(c){return c=c[Lt],c instanceof lt?c:null}var Ro="__closure_events_fn_"+(Math.random()*1e9>>>0);function Co(c){return typeof c=="function"?c:(c[Ro]||(c[Ro]=function(m){return c.handleEvent(m)}),c[Ro])}function Te(){O.call(this),this.i=new lt(this),this.M=this,this.G=null}S(Te,O),Te.prototype[ce]=!0,Te.prototype.removeEventListener=function(c,m,v,b){sa(this,c,m,v,b)};function Ve(c,m){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var P=m;m=new D(b,c),it(m,P)}P=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],P=us(q,b,!0,m)&&P;if(q=m.g=c,P=us(q,b,!0,m)&&P,P=us(q,b,!1,m)&&P,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],P=us(q,b,!1,m)&&P}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let b=0;b<v.length;b++)gt(v[b]);delete c.g[m],c.h--}}this.G=null},Te.prototype.J=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},Te.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function us(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const St=nt.listener,pe=nt.ha||nt.src;nt.fa&&vt(c.i,nt),P=St.call(pe,b)!==!1&&P}}return P&&!b.defaultPrevented}function Zh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function gu(c){c.g=Zh(()=>{c.g=null,c.i&&(c.i=!1,gu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class en extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:gu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(c){O.call(this),this.h=c,this.g={}}S(pr,O);var Io=[];function No(c){zt(c.g,function(m,v){this.g.hasOwnProperty(v)&&ra(m)},c),c.g={}}pr.prototype.N=function(){pr.Z.N.call(this),No(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=d.JSON.stringify,Wh=d.JSON.parse,pu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function yu(){}function _u(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){D.call(this,"d")}S(Be,D);function In(){D.call(this,"c")}S(In,D);var ge={},vu=null;function aa(){return vu=vu||new Te}ge.Ia="serverreachability";function Eu(c){D.call(this,ge.Ia,c)}S(Eu,D);function ri(c){const m=aa();Ve(m,new Eu(m))}ge.STAT_EVENT="statevent";function yr(c,m){D.call(this,ge.STAT_EVENT,c),this.stat=m}S(yr,D);function be(c){const m=aa();Ve(m,new yr(m,c))}ge.Ja="timingevent";function ai(c,m){D.call(this,ge.Ja,c),this.size=m}S(ai,D);function oi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function tf(c,m,v,b,P,q){c.info(function(){if(c.g)if(q){var nt="",St=q.split("&");for(let qt=0;qt<St.length;qt++){var pe=St[qt].split("=");if(pe.length>1){const ae=pe[0];pe=pe[1];const On=ae.split("_");nt=On.length>=2&&On[1]=="type"?nt+(ae+"="+pe+"&"):nt+(ae+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+m+`
`+v+`
`+nt})}function Tu(c,m,v,b,P,q,nt){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+nt})}function li(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+ef(c,v)+(b?" "+b:"")})}function _r(c,m){c.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function ef(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let nt=1;nt<b.length;nt++)b[nt]=""}}}}return cs(q)}catch{return m}}var vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Do;function Er(){}S(Er,yu),Er.prototype.g=function(){return new XMLHttpRequest},Do=new Er;function Vi(c){return encodeURIComponent(String(c))}function bu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Fn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.S=b||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Ae={},Le={};function ui(c,m,v){c.M=1,c.A=Tr(we(m)),c.u=v,c.R=!0,oa(c,null)}function oa(c,m){c.F=Date.now(),ci(c),c.B=we(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),ha(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Gn,c.g=Lu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new en(p(c.Y,c,c.g),c.P)),m=c.V,v=c.g,b=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Io[0]=P.toString()),P=Io);for(let q=0;q<P.length;q++){const nt=re(v,P[q],b||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ri(),tf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Qn(c)==3?m.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)t:{const St=Qn(this.g),pe=this.g.ya(),qt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||St!=4||pe==7||(pe==8||qt<=0?ri(3):ri(2)),hi(this);var m=this.g.ca();this.X=m;var v=nf(this);if(this.o=m==200,Tu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var q=b;break e}}q=null}if(c=q)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,be(12),gn(this),Nn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=Su(this,v),ae==Le){St==4&&(this.m=4,be(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ae){this.m=4,be(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,ae,null),fi(this,ae);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,be(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(nt),nt.P=!0,be(11))}}else li(this.i,this.l,v,null),fi(this,v);St==4&&gn(this),this.o&&!this.K&&(St==4?Mu(this.j,this):(this.o=!1,ci(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),gn(this),Nn(this)}}}catch{}};function nf(c){if(!Au(c))return c.g.la();const m=qe(c.g);if(m==="")return"";let v="";const b=m.length,P=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Nn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<b;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(P&&q==b-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Au(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Su(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?Le:(v=Number(m.substring(v,b)),isNaN(v)?Ae:(b+=1,b+v>m.length?Le:(m=m.slice(b,b+v),c.C=b+v,m)))}Fn.prototype.cancel=function(){this.K=!0,gn(this)};function ci(c){c.T=Date.now()+c.H,la(c,c.H)}function la(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(p(c.aa,c),m)}function hi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(_r(this.i,this.B),this.M!=2&&(ri(),be(17)),gn(this),this.m=2,Nn(this)):la(this,this.T-c)};function Nn(c){c.j.I==0||c.K||Mu(c.j,c)}function gn(c){hi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,No(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function fi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)pa(v),_s(v);else break t;Ir(v),be(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(p(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&pa(v),!C(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let qt=P[m];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const On=qt[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const Ti=qt[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Xn=qt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(b=1.5*Xn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const $n=c.g;if($n){const Nr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var q=b.h;q.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Vo(q,q.h),q.h=null))}if(b.G){const ya=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(b.wa=ya,Yt(b.J,b.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var nt=c;if(b.na=Uu(b,b.L?b.ba:null,b.W),nt.L){ko(b.h,nt);var St=nt,pe=b.O;pe&&(St.H=pe),St.D&&(hi(St),ci(St)),b.g=nt}else Du(b);v.i.length>0&&vi(v)}else qt[0]!="stop"&&qt[0]!="close"||Ei(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Ei(v,7):Fo(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ri(4)}catch{}}var Se=class{constructor(c,m){this.g=c,this.map=m}};function Oo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Vo(c,m){c.g?c.g.add(m):c.h=m}function ko(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Oo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return k(c.i)}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let P,q=null;b>=0?(P=c[v].substring(0,b),q=c[v].substring(b+1)):P=c[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof pn?(this.l=c.l,Pe(this,c.j),this.o=c.o,this.g=c.g,hs(this,c.u),this.h=c.h,Lo(this,Nu(c.i)),this.m=c.m):c&&(m=String(c).match(wu))?(this.l=!1,Pe(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),hs(this,m[4]),this.h=gi(m[5]||"",!0),Lo(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new ds(null,this.l))}pn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(br(m,ca,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(br(m,ca,!0),"@"),c.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(br(v,v.charAt(0)=="/"?Po:Ru,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",br(v,Cu)),c.join("")},pn.prototype.resolve=function(c){const m=we(this);let v=!!c.j;v?Pe(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var b=c.h;if(v)hs(m,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=m.h.lastIndexOf("/");P!=-1&&(b=m.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let nt=0;nt<P.length;){const St=P[nt++];St=="."?b&&nt==P.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&nt==P.length&&q.push("")):(q.push(St),b=!0)}b=q.join("/")}else b=P}return v?m.h=b:v=c.i.toString()!=="",v?Lo(m,Nu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function we(c){return new pn(c)}function Pe(c,m,v){c.j=v?gi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function hs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Lo(c,m,v){m instanceof ds?(c.i=m,fa(c.i,c.l)):(v||(m=br(m,fs)),c.i=new ds(m,c.l))}function Yt(c,m,v){c.i.set(m,v)}function Tr(c){return Yt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function br(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,Ru=/[#\?:]/g,Po=/[#\?]/g,fs=/[#\?@]/g,Cu=/#/g;function ds(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ds.prototype,s.add=function(c,m){on(this),this.i=null,c=ms(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Iu(c,m){on(c),m=ms(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function zo(c,m){return on(c),m=ms(c,m),c.g.has(m)}s.forEach=function(c,m){on(this),this.g.forEach(function(v,b){v.forEach(function(P){c.call(m,P,b,this)},this)},this)};function jo(c,m){on(c);let v=[];if(typeof m=="string")zo(c,m)&&(v=v.concat(c.g.get(ms(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return on(this),this.i=null,c=ms(this,c),zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=jo(this,c),c.length>0?String(c[0]):m):m};function ha(c,m,v){Iu(c,m),v.length>0&&(c.i=null,c.g.set(ms(c,m),k(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const P=Vi(v);v=jo(this,v);for(let q=0;q<v.length;q++){let nt=P;v[q]!==""&&(nt+="="+Vi(v[q])),c.push(nt)}}return this.i=c.join("&")};function Nu(c){const m=new ds;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function ms(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function fa(c,m){m&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,b){const P=b.toLowerCase();b!=P&&(Iu(this,b),ha(this,P,v))},c)),c.j=m}function Yn(c,m){const v=new Hn;if(d.Image){const b=new Image;b.onload=T(xn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(xn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(xn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(xn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function Bo(c,m){const v=new Hn,b=new AbortController,P=setTimeout(()=>{b.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(q=>{clearTimeout(P),q.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),xn(v,"TestPingServer: error",!1,m)})}function xn(c,m,v,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(v)}catch{}}function gs(){this.g=new pu}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(pi,yu),pi.prototype.g=function(){return new Ar(this.i,this.h)};function Ar(c,m){Te.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ar,Te),s=Ar.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Kn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ps(this):Kn(this),this.readyState==3&&da(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,ps(this))},s.Na=function(c){this.g&&(this.response=c,ps(this))},s.ga=function(){this.g&&ps(this)};function ps(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let m="";return zt(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Sr(c,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Dn(v),typeof c=="string"?v!=null&&Vi(v):Yt(c,m,v))}function $t(c){Te.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($t,Te);var yi=/^https?$/i,qo=["POST","PUT"];s=$t.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Do.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){wr(this,q);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)v.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(qo,m,void 0)>=0)||b||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){wr(this,q)}};function wr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Ho(c),ki(c)}function Ho(c){c.A||(c.A=!0,Ve(c,"complete"),Ve(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ve(this,"complete"),Ve(this,"abort"),ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),$t.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Rr(this):this.Xa())},s.Xa=function(){Rr(this)};function Rr(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ve(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let nt=String(c.D).match(wu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),b=!yi.test(nt?nt.toLowerCase():"")}v=b}if(v)Ve(c,"complete"),Ve(c,"success");else{c.o=6;try{var P=Qn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Ho(c)}}finally{ki(c)}}}}function ki(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Ve(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Wh(m)}};function qe(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(c){const m={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(C(c[b]))continue;var v=bu(c[b]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Gt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function ys(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Oo(c&&c.concurrentRequestLimit),this.Ba=new gs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ys.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,b){be(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Uu(this,null,this.W),vi(this)};function Fo(c){if(ma(c),c.I==3){var m=c.V++,v=we(c.J);if(Yt(v,"SID",c.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),Cr(c,v),m=new Fn(c,c.j,m),m.M=2,m.A=Tr(we(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Lu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}ku(c)}function _s(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function ma(c){_s(c),c.v&&(d.clearTimeout(c.v),c.v=null),pa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function vi(c){if(!Mo(c.h)&&!c.m){c.m=!0;var m=c.Ea;It||A(),At||(It(),At=!0),N.add(m,c),c.D=0}}function ga(c,m){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(p(c.Ea,c,m),Vu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Fn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=V(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=xu(this,P,m),v=we(this.J),Yt(v,"RID",c),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),Cr(this,v),q&&(this.R?m="headers="+Vi(Dn(q))+"&"+m:this.u&&Sr(v,this.u,q)),Vo(this.h,P),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),P.U=!0,ui(P,v,null)):ui(P,v,m),this.I=2}}else this.I==3&&(c?Go(this,c):this.i.length==0||Mo(this.h)||Go(this))};function Go(c,m){var v;m?v=m.l:v=c.V++;const b=we(c.J);Yt(b,"SID",c.M),Yt(b,"RID",v),Yt(b,"AID",c.K),Cr(c,b),c.u&&c.o&&Sr(b,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=xu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Vo(c.h,v),ui(v,b,m)}function Cr(c,m){c.H&&zt(c.H,function(v,b){Yt(m,b,v)}),c.l&&zt({},function(v,b){Yt(m,b,v)})}function xu(c,m,v){v=Math.min(c.i.length,v);const b=c.l?p(c.l.Ka,c.l,c):null;t:{var P=c.i;let St=-1;for(;;){const pe=["count="+v];St==-1?v>0?(St=P[0].g,pe.push("ofs="+St)):St=0:pe.push("ofs="+St);let qt=!0;for(let ae=0;ae<v;ae++){var q=P[ae].g;const On=P[ae].map;if(q-=St,q<0)St=Math.max(0,P[ae].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var nt=On instanceof Map?On:Object.entries(On);for(const[Ti,Xn]of nt){let $n=Xn;g(Xn)&&($n=cs(Xn)),pe.push(q+Ti+"="+encodeURIComponent($n))}}catch(Ti){throw pe.push(q+"type="+encodeURIComponent("_badmap")),Ti}}catch{b&&b(On)}}if(qt){nt=pe.join("&");break t}}nt=void 0}return c=c.i.splice(0,v),m.G=c,nt}function Du(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;It||A(),At||(It(),At=!0),N.add(m,c),c.A=0}}function Ir(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(p(c.Da,c),Vu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(p(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),_s(this),Ou(this))};function Yo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Ou(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=we(c.na);Yt(m,"RID","rpc"),Yt(m,"SID",c.M),Yt(m,"AID",c.K),Yt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Yt(m,"TO",c.ia),Yt(m,"TYPE","xmlhttp"),Cr(c,m),c.u&&c.o&&Sr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Tr(we(m)),v.u=null,v.R=!0,oa(v,c)}s.Va=function(){this.C!=null&&(this.C=null,_s(this),Ir(this),be(19))};function pa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Mu(c,m){var v=null;if(c.g==m){pa(c),Yo(c),c.g=null;var b=2}else if(mi(c.h,m))v=m.G,ko(c.h,m),b=1;else return;if(c.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;b=aa(),Ve(b,new ai(b,v)),vi(c)}else Du(c);else if(P=m.m,P==3||P==0&&m.X>0||!(b==1&&ga(c,m)||b==2&&Ir(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),P){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Vu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ei(c,m){if(c.j.info("Error code "+m),m==2){var v=p(c.bb,c),b=c.Ua;const P=!b;b=new pn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pe(b,"https"),Tr(b),P?Yn(b.toString(),v):Bo(b.toString(),v)}else be(2);c.I=0,c.l&&c.l.pa(m),ku(c),ma(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function ku(c){if(c.I=0,c.ja=[],c.l){const m=Uo(c.h);(m.length!=0||c.i.length!=0)&&(Y(c.ja,m),Y(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Uu(c,m,v){var b=v instanceof pn?we(v):new pn(v);if(b.g!="")m&&(b.g=m+"."+b.g),hs(b,b.u);else{var P=d.location;b=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new pn(null);b&&Pe(q,b),m&&(q.g=m),P&&hs(q,P),v&&(q.h=v),b=q}return v=c.G,m=c.wa,v&&m&&Yt(b,v,m),Yt(b,"VER",c.ka),Cr(c,b),b}function Lu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $t(new pi({ab:v})):new $t(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}s=Pu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function vs(){}vs.prototype.g=function(c,m){return new nn(c,m)};function nn(c,m){Te.call(this),this.g=new ys(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Li(this)}S(nn,Te),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Fo(this.g)},nn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=cs(c),c=v);m.i.push(new Se(m.Ya++,c)),m.I==3&&vi(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,nn.Z.N.call(this)};function zu(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(zu,Be);function ju(){In.call(this),this.status=1}S(ju,In);function Li(c){this.g=c}S(Li,Pu),Li.prototype.ra=function(){Ve(this.g,"a")},Li.prototype.qa=function(c){Ve(this.g,new zu(c))},Li.prototype.pa=function(c){Ve(this.g,new ju)},Li.prototype.oa=function(){Ve(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,QE=function(){return new vs},KE=function(){return aa()},YE=ge,Rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,eh=vr,xo.COMPLETE="complete",GE=xo,_u.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Vl=_u,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,FE=$t}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});let Ze=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let vo="12.8.0";function CR(s){vo=s}const Jr=new Gm("@firebase/firestore");function Ka(){return Jr.logLevel}function ot(s,...t){if(Jr.logLevel<=Mt.DEBUG){const n=t.map(ng);Jr.debug(`Firestore (${vo}): ${s}`,...n)}}function is(s,...t){if(Jr.logLevel<=Mt.ERROR){const n=t.map(ng);Jr.error(`Firestore (${vo}): ${s}`,...n)}}function ao(s,...t){if(Jr.logLevel<=Mt.WARN){const n=t.map(ng);Jr.warn(`Firestore (${vo}): ${s}`,...n)}}function ng(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function _t(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,XE(s,r,n)}function XE(s,t,n){let r=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw is(r),new Error(r)}function Ft(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||XE(t,l,r)}function bt(s,t){return s}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends as{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class $E{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ze.UNAUTHENTICATED)))}shutdown(){}}class NR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class xR{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zs)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new $E(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class DR{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class OR{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new DR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const r=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const l=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function VR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class ig{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=VR(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=t.charAt(l[u]%62))}return r}}function Vt(s,t){return s<t?-1:s>t?1:0}function Cm(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=t.charAt(r);if(l!==u)return cm(l)===cm(u)?Vt(l,u):cm(l)?1:-1}return Vt(s.length,t.length)}const kR=55296,UR=57343;function cm(s){const t=s.charCodeAt(0);return t>=kR&&t<=UR}function oo(s,t,n){return s.length===t.length&&s.every(((r,l)=>n(r,t[l])))}const Yv="__name__";class Ri{constructor(t,n,r){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&_t(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const u=Ri.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Vt(t.length,n.length)}static compareSegments(t,n){const r=Ri.isNumericId(t),l=Ri.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ri.extractNumericId(t).compare(Ri.extractNumericId(n)):Cm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Js.fromString(t.substring(4,t.length-2))}}class ee extends Ri{construct(t,n,r){return new ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new rt(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const LR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ri{construct(t,n,r){return new Qe(t,n,r)}static isValidIdentifier(t){return LR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yv}static keyField(){return new Qe([Yv])}static fromServerFormat(t){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new rt(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new rt(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(u(),l++)}if(u(),d)throw new rt(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ee.fromString(t))}static fromName(t){return new mt(ee.fromString(t).popFirst(5))}static empty(){return new mt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ee(t.slice()))}}function JE(s,t,n){if(!n)throw new rt(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function PR(s,t,n,r){if(t===!0&&r===!0)throw new rt(Q.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Kv(s){if(!mt.isDocumentKey(s))throw new rt(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Qv(s){if(mt.isDocumentKey(s))throw new rt(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ZE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Dh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function Rn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(s);throw new rt(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function Oe(s,t){const n={typeString:s};return t&&(n.value=t),n}function ou(s,t){if(!ZE(s))throw new rt(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new rt(Q.INVALID_ARGUMENT,n);return!0}const Xv=-62135596800,$v=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*$v);return new se(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Xv)throw new rt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$v}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ou(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Xv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Oe("string",se._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new se(0,0))}static max(){return new Et(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ql=-1;function zR(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(r===1e9?new se(n+1,0):new se(n,r));return new ir(l,mt.empty(),t)}function jR(s){return new ir(s.readTime,s.key,Ql)}class ir{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ir(Et.min(),mt.empty(),Ql)}static max(){return new ir(Et.max(),mt.empty(),Ql)}}function BR(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(s.documentKey,t.documentKey),n!==0?n:Vt(s.largestBatchId,t.largestBatchId))}const qR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Eo(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==qR)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.reject(n)}static resolve(t){return new Z(((n,r)=>{n(t)}))}static reject(t){return new Z(((n,r)=>{r(t)}))}static waitFor(t){return new Z(((n,r)=>{let l=0,u=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(y=>r(y)))})),d=!0,u===l&&n()}))}static or(t){let n=Z.resolve(!1);for(const r of t)n=n.next((l=>l?Z.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(t,n){return new Z(((r,l)=>{const u=t.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(t[p]).next((T=>{d[p]=T,++g,g===u&&r(d)}),(T=>l(T)))}}))}static doWhile(t,n){return new Z(((r,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):r()};u()}))}}function FR(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(s){return s.name==="IndexedDbTransactionError"}class Oh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Oh.ce=-1;const sg=-1;function Mh(s){return s==null}function gh(s){return s===0&&1/s==-1/0}function GR(s){return typeof s=="number"&&Number.isInteger(s)&&!gh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const WE="";function YR(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=Jv(t)),t=KR(s.get(n),t);return Jv(t)}function KR(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case WE:n+="";break;default:n+=u}}return n}function Jv(s){return s+WE+""}function Zv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function fr(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function tT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yc(this.root,t,this.comparator,!0)}}class Yc{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,r,l,u){this.key=t,this.value=n,this.color=r??Ke.RED,this.left=l??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,u){return new Ke(t??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,r,l,u){return this}insert(t,n,r){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wv(this.data.getIterator())}getIteratorFrom(t){return new Wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ue(this.comparator);return n.data=t,n}}class Wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new wn([])}unionWith(t){let n=new Ue(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return oo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class eT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new eT("Invalid base64 string: "+u):u}})(t);return new Xe(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const QR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const n=QR.exec(s);if(Ft(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ve(s.seconds),nanos:ve(s.nanos)}}function ve(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function rr(s){return typeof s=="string"?Xe.fromBase64String(s):Xe.fromUint8Array(s)}const nT="server_timestamp",iT="__type__",sT="__previous_value__",rT="__local_write_time__";function rg(s){return(s?.mapValue?.fields||{})[iT]?.stringValue===nT}function Vh(s){const t=s.mapValue.fields[sT];return rg(t)?Vh(t):t}function Xl(s){const t=sr(s.mapValue.fields[rT].timestampValue);return new se(t.seconds,t.nanos)}class XR{constructor(t,n,r,l,u,d,g,y,p,T,S){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=T,this.apiKey=S}}const ph="(default)";class $l{constructor(t,n){this.projectId=t,this.database=n||ph}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===ph}isEqual(t){return t instanceof $l&&t.projectId===this.projectId&&t.database===this.database}}function $R(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new rt(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(s.options.projectId,t)}const aT="__type__",JR="__max__",Kc={mapValue:{}},oT="__vector__",yh="value";function ar(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?rg(s)?4:WR(s)?9007199254740991:ZR(s)?10:11:_t(28295,{value:s})}function Mi(s,t){if(s===t)return!0;const n=ar(s);if(n!==ar(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Xl(s).isEqual(Xl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=sr(l.timestampValue),g=sr(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,u){return rr(l.bytesValue).isEqual(rr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,u){return ve(l.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(l.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(s,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ve(l.integerValue)===ve(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ve(l.doubleValue),g=ve(u.doubleValue);return d===g?gh(d)===gh(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return oo(s.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(Zv(d)!==Zv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Mi(d[y],g[y])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Jl(s,t){return(s.values||[]).find((n=>Mi(n,t)))!==void 0}function lo(s,t){if(s===t)return 0;const n=ar(s),r=ar(t);if(n!==r)return Vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return(function(u,d){const g=ve(u.integerValue||u.doubleValue),y=ve(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,t);case 3:return t0(s.timestampValue,t.timestampValue);case 4:return t0(Xl(s),Xl(t));case 5:return Cm(s.stringValue,t.stringValue);case 6:return(function(u,d){const g=rr(u),y=rr(d);return g.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const T=Vt(g[p],y[p]);if(T!==0)return T}return Vt(g.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,d){const g=Vt(ve(u.latitude),ve(d.latitude));return g!==0?g:Vt(ve(u.longitude),ve(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return e0(s.arrayValue,t.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},p=g[yh]?.arrayValue,T=y[yh]?.arrayValue,S=Vt(p?.values?.length||0,T?.values?.length||0);return S!==0?S:e0(p,T)})(s.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Kc.mapValue&&d===Kc.mapValue)return 0;if(u===Kc.mapValue)return 1;if(d===Kc.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},T=Object.keys(p);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const x=Cm(y[S],T[S]);if(x!==0)return x;const k=lo(g[y[S]],p[T[S]]);if(k!==0)return k}return Vt(y.length,T.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function t0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const n=sr(s),r=sr(t),l=Vt(n.seconds,r.seconds);return l!==0?l:Vt(n.nanos,r.nanos)}function e0(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=lo(n[l],r[l]);if(u)return u}return Vt(n.length,r.length)}function uo(s){return Im(s)}function Im(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=sr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return rr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return mt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=Im(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${Im(n.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function nh(s){switch(ar(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vh(s);return t?16+nh(t):16;case 5:return 2*s.stringValue.length;case 6:return rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+nh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return fr(r.fields,((u,d)=>{l+=u.length+nh(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function n0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Nm(s){return!!s&&"integerValue"in s}function ag(s){return!!s&&"arrayValue"in s}function i0(s){return!!s&&"nullValue"in s}function s0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ih(s){return!!s&&"mapValue"in s}function ZR(s){return(s?.mapValue?.fields||{})[aT]?.stringValue===oT}function ql(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return fr(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=ql(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ql(s.arrayValue.values[n]);return t}return{...s}}function WR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===JR}class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!ih(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ql(n)}setAll(t){let n=Qe.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=g.popLast()}d?r[g.lastSegment()]=ql(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(t){const n=this.field(t.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];ih(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){fr(n,((l,u)=>t[l]=u));for(const l of r)delete t[l]}clone(){return new mn(ql(this.value))}}function lT(s){const t=[];return fr(s.fields,((n,r)=>{const l=new Qe([n]);if(ih(r)){const u=lT(r.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new wn(t)}class We{constructor(t,n,r,l,u,d,g){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(t){return new We(t,0,Et.min(),Et.min(),Et.min(),mn.empty(),0)}static newFoundDocument(t,n,r,l){return new We(t,1,n,Et.min(),r,l,0)}static newNoDocument(t,n){return new We(t,2,n,Et.min(),Et.min(),mn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,Et.min(),Et.min(),mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _h{constructor(t,n){this.position=t,this.inclusive=n}}function r0(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const u=t[l],d=s.position[l];if(u.field.isKeyField()?r=mt.comparator(mt.fromName(d.referenceValue),n.key):r=lo(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function a0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Mi(s.position[n],t.position[n]))return!1;return!0}class Zl{constructor(t,n="asc"){this.field=t,this.dir=n}}function tC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class uT{}class De extends uT{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new nC(t,n,r):n==="array-contains"?new rC(t,r):n==="in"?new aC(t,r):n==="not-in"?new oC(t,r):n==="array-contains-any"?new lC(t,r):new De(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new iC(t,r):new sC(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&ar(this.value)===ar(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends uT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ii(t,n)}matches(t){return cT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cT(s){return s.op==="and"}function hT(s){return eC(s)&&cT(s)}function eC(s){for(const t of s.filters)if(t instanceof ii)return!1;return!0}function xm(s){if(s instanceof De)return s.field.canonicalString()+s.op.toString()+uo(s.value);if(hT(s))return s.filters.map((t=>xm(t))).join(",");{const t=s.filters.map((n=>xm(n))).join(",");return`${s.op}(${t})`}}function fT(s,t){return s instanceof De?(function(r,l){return l instanceof De&&r.op===l.op&&r.field.isEqual(l.field)&&Mi(r.value,l.value)})(s,t):s instanceof ii?(function(r,l){return l instanceof ii&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,g)=>u&&fT(d,l.filters[g])),!0):!1})(s,t):void _t(19439)}function dT(s){return s instanceof De?(function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`})(s):s instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(dT).join(" ,")+"}"})(s):"Filter"}class nC extends De{constructor(t,n,r){super(t,n,r),this.key=mt.fromName(r.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class iC extends De{constructor(t,n){super(t,"in",n),this.keys=mT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class sC extends De{constructor(t,n){super(t,"not-in",n),this.keys=mT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function mT(s,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class rC extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ag(n)&&Jl(n.arrayValue,this.value)}}class aC extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class oC extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class lC extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ag(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Jl(this.value.arrayValue,r)))}}class uC{constructor(t,n=null,r=[],l=[],u=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function o0(s,t=null,n=[],r=[],l=null,u=null,d=null){return new uC(s,t,n,r,l,u,d)}function og(s){const t=bt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>xm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Mh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>uo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>uo(r))).join(",")),t.Te=n}return t.Te}function lg(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!tC(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!fT(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!a0(s.startAt,t.startAt)&&a0(s.endAt,t.endAt)}function Dm(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class bo{constructor(t,n=null,r=[],l=[],u=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function cC(s,t,n,r,l,u,d,g){return new bo(s,t,n,r,l,u,d,g)}function kh(s){return new bo(s)}function l0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hC(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function gT(s){return s.collectionGroup!==null}function Hl(s){const t=bt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ue(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Zl(u,r))})),n.has(Qe.keyField().canonicalString())||t.Ie.push(new Zl(Qe.keyField(),r))}return t.Ie}function xi(s){const t=bt(s);return t.Ee||(t.Ee=fC(t,Hl(s))),t.Ee}function fC(s,t){if(s.limitType==="F")return o0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Zl(l.field,u)}));const n=s.endAt?new _h(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new _h(s.startAt.position,s.startAt.inclusive):null;return o0(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Om(s,t){const n=s.filters.concat([t]);return new bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function dC(s,t){const n=s.explicitOrderBy.concat([t]);return new bo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Mm(s,t,n){return new bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Uh(s,t){return lg(xi(s),xi(t))&&s.limitType===t.limitType}function pT(s){return`${og(xi(s))}|lt:${s.limitType}`}function Qa(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>dT(l))).join(", ")}]`),Mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>uo(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>uo(l))).join(",")),`Target(${r})`})(xi(s))}; limitType=${s.limitType})`}function Lh(s,t){return t.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):mt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,l){for(const u of Hl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const p=r0(d,g,y);return d.inclusive?p<=0:p<0})(r.startAt,Hl(r),l)||r.endAt&&!(function(d,g,y){const p=r0(d,g,y);return d.inclusive?p>=0:p>0})(r.endAt,Hl(r),l))})(s,t)}function mC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function yT(s){return(t,n)=>{let r=!1;for(const l of Hl(s)){const u=gC(l,t,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function gC(s,t,n){const r=s.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?lo(y,p):_t(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}class ta{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){fr(this.inner,((n,r)=>{for(const[l,u]of r)t(l,u)}))}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}const pC=new ue(mt.comparator);function ss(){return pC}const _T=new ue(mt.comparator);function kl(...s){let t=_T;for(const n of s)t=t.insert(n.key,n);return t}function vT(s){let t=_T;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Yr(){return Fl()}function ET(){return Fl()}function Fl(){return new ta((s=>s.toString()),((s,t)=>s.isEqual(t)))}const yC=new ue(mt.comparator),_C=new Ue(mt.comparator);function kt(...s){let t=_C;for(const n of s)t=t.add(n);return t}const vC=new Ue(Vt);function EC(){return vC}function ug(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(t)?"-0":t}}function TT(s){return{integerValue:""+s}}function bT(s,t){return GR(t)?TT(t):ug(s,t)}class Ph{constructor(){this._=void 0}}function TC(s,t,n){return s instanceof vh?(function(l,u){const d={fields:{[iT]:{stringValue:nT},[rT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&rg(u)&&(u=Vh(u)),u&&(d.fields[sT]=u),{mapValue:d}})(n,t):s instanceof co?ST(s,t):s instanceof Wl?wT(s,t):(function(l,u){const d=AT(l,u),g=u0(d)+u0(l.Ae);return Nm(d)&&Nm(l.Ae)?TT(g):ug(l.serializer,g)})(s,t)}function bC(s,t,n){return s instanceof co?ST(s,t):s instanceof Wl?wT(s,t):n}function AT(s,t){return s instanceof tu?(function(r){return Nm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class vh extends Ph{}class co extends Ph{constructor(t){super(),this.elements=t}}function ST(s,t){const n=RT(t);for(const r of s.elements)n.some((l=>Mi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Wl extends Ph{constructor(t){super(),this.elements=t}}function wT(s,t){let n=RT(t);for(const r of s.elements)n=n.filter((l=>!Mi(l,r)));return{arrayValue:{values:n}}}class tu extends Ph{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function u0(s){return ve(s.integerValue||s.doubleValue)}function RT(s){return ag(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class CT{constructor(t,n){this.field=t,this.transform=n}}function AC(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof co&&l instanceof co||r instanceof Wl&&l instanceof Wl?oo(r.elements,l.elements,Mi):r instanceof tu&&l instanceof tu?Mi(r.Ae,l.Ae):r instanceof vh&&l instanceof vh})(s.transform,t.transform)}class SC{constructor(t,n){this.version=t,this.transformResults=n}}class rn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new rn}static exists(t){return new rn(void 0,t)}static updateTime(t){return new rn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class zh{}function IT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new jh(s.key,rn.none()):new lu(s.key,s.data,rn.none());{const n=s.data,r=mn.empty();let l=new Ue(Qe.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new dr(s.key,r,new wn(l.toArray()),rn.none())}}function wC(s,t,n){s instanceof lu?(function(l,u,d){const g=l.value.clone(),y=h0(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,n):s instanceof dr?(function(l,u,d){if(!sh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=h0(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(NT(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Gl(s,t,n,r){return s instanceof lu?(function(u,d,g,y){if(!sh(u.precondition,d))return g;const p=u.value.clone(),T=f0(u.fieldTransforms,y,d);return p.setAll(T),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(s,t,n,r):s instanceof dr?(function(u,d,g,y){if(!sh(u.precondition,d))return g;const p=f0(u.fieldTransforms,y,d),T=d.data;return T.setAll(NT(u)),T.setAll(p),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,t,n,r):(function(u,d,g){return sh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,n)}function RC(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),u=AT(r.transform,l||null);u!=null&&(n===null&&(n=mn.empty()),n.set(r.field,u))}return n||null}function c0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&oo(r,l,((u,d)=>AC(u,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class lu extends zh{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class dr extends zh{constructor(t,n,r,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function NT(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function h0(s,t,n){const r=new Map;Ft(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,g=t.data.field(u.field);r.set(u.field,bC(d,g,n[l]))}return r}function f0(s,t,n){const r=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);r.set(l.field,TC(u,d,t))}return r}class jh extends zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CC extends zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IC{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&wC(u,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Gl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Gl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=ET();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const y=IT(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),kt())}isEqual(t){return this.batchId===t.batchId&&oo(this.mutations,t.mutations,((n,r)=>c0(n,r)))&&oo(this.baseMutations,t.baseMutations,((n,r)=>c0(n,r)))}}class cg{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){Ft(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return yC})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new cg(t,n,r,l)}}class NC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xC{constructor(t,n){this.count=t,this.unchangedNames=n}}var xe,Pt;function DC(s){switch(s){case Q.OK:return _t(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function xT(s){if(s===void 0)return is("GRPC error has no .code"),Q.UNKNOWN;switch(s){case xe.OK:return Q.OK;case xe.CANCELLED:return Q.CANCELLED;case xe.UNKNOWN:return Q.UNKNOWN;case xe.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case xe.INTERNAL:return Q.INTERNAL;case xe.UNAVAILABLE:return Q.UNAVAILABLE;case xe.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case xe.NOT_FOUND:return Q.NOT_FOUND;case xe.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case xe.ABORTED:return Q.ABORTED;case xe.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case xe.DATA_LOSS:return Q.DATA_LOSS;default:return _t(39323,{code:s})}}(Pt=xe||(xe={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function OC(){return new TextEncoder}const MC=new Js([4294967295,4294967295],0);function d0(s){const t=OC().encode(s),n=new HE;return n.update(t),new Uint8Array(n.digest())}function m0(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Js([n,r],0),new Js([l,u],0)]}class hg{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Js.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply(Js.fromNumber(r)));return l.compare(MC)===1&&(l=new Js([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=d0(t),[r,l]=m0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new hg(u,l,n);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const n=d0(t),[r,l]=m0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.be(d)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bh{constructor(t,n,r,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,uu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Bh(Et.min(),l,new ue(Vt),ss(),kt())}}class uu{constructor(t,n,r,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new uu(r,n,kt(),kt(),kt())}}class rh{constructor(t,n,r,l){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=l}}class DT{constructor(t,n){this.targetId=t,this.Ce=n}}class OT{constructor(t,n,r=Xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class g0{constructor(){this.ve=0,this.Fe=p0(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),n=kt(),r=kt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:_t(38017,{changeType:u})}})),new uu(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=p0()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class VC{constructor(t){this.Ge=t,this.ze=new Map,this.je=ss(),this.He=Qc(),this.Je=Qc(),this.Ze=new ue(Vt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Dm(u))if(r===0){const d=new mt(u.path);this.et(n,d,We.newNoDocument(d,Et.min()))}else Ft(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=rr(r).toUint8Array()}catch(y){if(y instanceof eT)return ao("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new hg(d,l,u)}catch(y){return ao(y instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&Dm(g.target)){const y=new mt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,We.newNoDocument(y,t))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let r=kt();this.Je.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new Bh(t,n,this.Ze,this.je,r);return this.je=ss(),this.He=Qc(),this.Je=Qc(),this.Ze=new ue(Vt),l}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new g0,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Ue(Vt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Ue(Vt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new g0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Qc(){return new ue(mt.comparator)}function p0(){return new ue(mt.comparator)}const kC={asc:"ASCENDING",desc:"DESCENDING"},UC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LC={and:"AND",or:"OR"};class PC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Vm(s,t){return s.useProto3Json||Mh(t)?t:{value:t}}function Eh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function MT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function zC(s,t){return Eh(s,t.toTimestamp())}function Di(s){return Ft(!!s,49232),Et.fromTimestamp((function(n){const r=sr(n);return new se(r.seconds,r.nanos)})(s))}function fg(s,t){return km(s,t).canonicalString()}function km(s,t){const n=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function VT(s){const t=ee.fromString(s);return Ft(zT(t),10190,{key:t.toString()}),t}function Um(s,t){return fg(s.databaseId,t.path)}function hm(s,t){const n=VT(t);if(n.get(1)!==s.databaseId.projectId)throw new rt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new rt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new mt(UT(n))}function kT(s,t){return fg(s.databaseId,t)}function jC(s){const t=VT(s);return t.length===4?ee.emptyPath():UT(t)}function Lm(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function UT(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function y0(s,t,n){return{name:Um(s,t),fields:n.value.mapValue.fields}}function BC(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_t(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(p,T){return p.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Xe.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Xe.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(p){const T=p.code===void 0?Q.UNKNOWN:xT(p.code);return new rt(T,p.message||"")})(d);n=new OT(r,l,u,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=hm(s,r.document.name),u=Di(r.document.updateTime),d=r.document.createTime?Di(r.document.createTime):Et.min(),g=new mn({mapValue:{fields:r.document.fields}}),y=We.newFoundDocument(l,u,d,g),p=r.targetIds||[],T=r.removedTargetIds||[];n=new rh(p,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=hm(s,r.document),u=r.readTime?Di(r.readTime):Et.min(),d=We.newNoDocument(l,u),g=r.removedTargetIds||[];n=new rh([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=hm(s,r.document),u=r.removedTargetIds||[];n=new rh([],u,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new xC(l,u),g=r.targetId;n=new DT(g,d)}}return n}function qC(s,t){let n;if(t instanceof lu)n={update:y0(s,t.key,t.value)};else if(t instanceof jh)n={delete:Um(s,t.key)};else if(t instanceof dr)n={update:y0(s,t.key,t.data),updateMask:JC(t.fieldMask)};else{if(!(t instanceof CC))return _t(16599,{dt:t.type});n={verify:Um(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,d){const g=d.transform;if(g instanceof vh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof co)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:zC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(s,t.precondition)),n}function HC(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((n=>(function(l,u){let d=l.updateTime?Di(l.updateTime):Di(u);return d.isEqual(Et.min())&&(d=Di(u)),new SC(d,l.transformResults||[])})(n,t)))):[]}function FC(s,t){return{documents:[kT(s,t.path)]}}function GC(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kT(s,l);const u=(function(p){if(p.length!==0)return PT(ii.create(p,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((T=>(function(x){return{field:Xa(x.field),direction:QC(x.dir)}})(T)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Vm(s,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:l}}function YC(s){let t=jC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ft(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const x=LT(S);return x instanceof ii&&hT(x)?x.getFilters():[x]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((x=>(function(Y){return new Zl($a(Y.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(x)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let x;return x=typeof S=="object"?S.value:S,Mh(x)?null:x})(n.limit));let y=null;n.startAt&&(y=(function(S){const x=!!S.before,k=S.values||[];return new _h(k,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(S){const x=!S.before,k=S.values||[];return new _h(k,x)})(n.endAt)),cC(t,l,d,u,g,"F",y,p)}function KC(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function LT(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$a(n.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=$a(n.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(n.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(n){return De.create($a(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((r=>LT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(n.compositeFilter.op))})(s):_t(30097,{filter:s})}function QC(s){return kC[s]}function XC(s){return UC[s]}function $C(s){return LC[s]}function Xa(s){return{fieldPath:s.canonicalString()}}function $a(s){return Qe.fromServerFormat(s.fieldPath)}function PT(s){return s instanceof De?(function(n){if(n.op==="=="){if(s0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(i0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(i0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:XC(n.op),value:n.value}}})(s):s instanceof ii?(function(n){const r=n.getFilters().map((l=>PT(l)));return r.length===1?r[0]:{compositeFilter:{op:$C(n.op),filters:r}}})(s):_t(54877,{filter:s})}function JC(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function zT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function jT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Ks{constructor(t,n,r,l,u=Et.min(),d=Et.min(),g=Xe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Ks(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ZC{constructor(t){this.yt=t}}function WC(s){const t=YC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Mm(t,t.limit,"L"):t}class tI{constructor(){this.Sn=new eI}addToCollectionParentIndex(t,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(ir.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(ir.min())}updateCollectionGroup(t,n,r){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class eI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new Ue(ee.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ue(ee.comparator)).toArray()}}const _0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BT=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(BT,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class ho{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ho(0)}static ar(){return new ho(-1)}}const v0="LruGarbageCollector",nI=1048576;function E0([s,t],[n,r]){const l=Vt(s,n);return l===0?Vt(t,r):l}class iI{constructor(t){this.Pr=t,this.buffer=new Ue(E0),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();E0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sI{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(v0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?ot(v0,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Ar(3e5)}))}}class rI{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(Oh.ce);const r=new iI(n);return this.Vr.forEachTarget(t,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(_0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_0):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,l,u,d,g,y,p;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(t,r,n)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(p=Date.now(),Ka()<=Mt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function aI(s,t){return new rI(s,t)}class oI{constructor(){this.changes=new ta((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class uI{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&Gl(r.mutation,l,wn.empty(),se.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,kt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=kt()){const l=Yr();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((u=>{let d=kl();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const r=Yr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,kt())))}populateOverlays(t,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(t,n,r,l){let u=ss();const d=Fl(),g=(function(){return Fl()})();return n.forEach(((y,p)=>{const T=r.get(p.key);l.has(p.key)&&(T===void 0||T.mutation instanceof dr)?u=u.insert(p.key,p):T!==void 0?(d.set(p.key,T.mutation.getFieldMask()),Gl(T.mutation,p,T.mutation.getFieldMask(),se.now())):d.set(p.key,wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((p,T)=>d.set(p,T))),n.forEach(((p,T)=>g.set(p,new lI(T,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(t,n){const r=Fl();let l=new ue(((d,g)=>d-g)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let T=r.get(y)||wn.empty();T=g.applyToLocalView(p,T),r.set(y,T);const S=(l.get(g.batchId)||kt()).add(y);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,T=y.value,S=ET();T.forEach((x=>{if(!u.has(x)){const k=IT(n.get(x),r.get(x));k!==null&&S.set(x,k),u=u.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,p,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return hC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):gT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-u.size):Z.resolve(Yr());let g=Ql,y=u;return d.next((p=>Z.forEach(p,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next((x=>{y=y.insert(T,x)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,y,p,kt()))).next((T=>({batchId:g,changes:vT(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((r=>{let l=kl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const u=n.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(t,u).next((g=>Z.forEach(g,(y=>{const p=(function(S,x){return new bo(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,r,l).next((T=>{T.forEach(((S,x)=>{d=d.insert(S,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,l)))).next((d=>{u.forEach(((y,p)=>{const T=p.getKey();d.get(T)===null&&(d=d.insert(T,We.newInvalidDocument(T)))}));let g=kl();return d.forEach(((y,p)=>{const T=u.get(y);T!==void 0&&Gl(T.mutation,p,wn.empty(),se.now()),Lh(n,p)&&(g=g.insert(y,p))})),g}))}}class cI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Di(l.createTime)}})(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:WC(l.bundledQuery),readTime:Di(l.readTime)}})(n)),Z.resolve()}}class hI{constructor(){this.overlays=new ue(mt.comparator),this.Lr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Yr();return Z.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,u)=>{this.bt(t,n,u)})),Z.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(t,n,r){const l=Yr(),u=n.length+1,d=new mt(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let u=new ue(((p,T)=>p-T));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let T=u.get(p.largestBatchId);T===null&&(T=Yr(),u=u.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=Yr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,T)=>g.set(p,T))),!(g.size()>=l)););return Z.resolve(g)}bt(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new NC(n,r));let u=this.Lr.get(n);u===void 0&&(u=kt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class fI{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}class dg{constructor(){this.kr=new Ue(je.Kr),this.qr=new Ue(je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new je(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new je(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new mt(new ee([])),r=new je(n,t),l=new je(n,t+1),u=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new mt(new ee([])),r=new je(n,t),l=new je(n,t+1);let u=kt();return this.qr.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new je(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class je{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return mt.comparator(t.key,n.key)||Vt(t.Hr,n.Hr)}static Ur(t,n){return Vt(t.Hr,n.Hr)||mt.comparator(t.key,n.key)}}class dI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ue(je.Kr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new IC(u,n,r,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new je(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.Xr(r),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?sg:this.Yn-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new je(n,0),l=new je(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(d=>{const g=this.Zr(d.Hr);u.push(g)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ue(Vt);return n.forEach((l=>{const u=new je(l,0),d=new je(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(g=>{r=r.add(g.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let u=r;mt.isDocumentKey(u)||(u=u.child(""));const d=new je(new mt(u),0);let g=new Ue(Vt);return this.Jr.forEachWhile((y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===l&&(g=g.add(y.Hr)),!0)}),d),Z.resolve(this.Yr(g))}Yr(t){const n=[];return t.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(n.mutations,(l=>{const u=new je(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new je(n,0),l=this.Jr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class mI{constructor(t){this.ti=t,this.docs=(function(){return new ue(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let r=ss();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():We.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let u=ss();const d=n.path,g=new mt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:T}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||BR(jR(T),r)<=0||(l.has(T.key)||Lh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,r,l){_t(9500)}ni(t,n){return Z.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new gI(this)}getSize(t){return Z.resolve(this.size)}}class gI extends oI{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(r)})),Z.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class pI{constructor(t){this.persistence=t,this.ri=new ta((n=>og(n)),lg),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new dg,this.targetCount=0,this.oi=ho._r()}forEachTarget(t,n){return this.ri.forEach(((r,l)=>n(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Z.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new ho(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.lr(n),Z.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,r){let l=0;const u=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return Z.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),Z.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return Z.resolve(r)}containsKey(t,n){return Z.resolve(this.si.containsKey(n))}}class qT{constructor(t,n){this._i={},this.overlays={},this.ai=new Oh(0),this.ui=!1,this.ui=!0,this.ci=new fI,this.referenceDelegate=t(this),this.li=new pI(this),this.indexManager=new tI,this.remoteDocumentCache=(function(l){return new mI(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new ZC(n),this.Pi=new cI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new hI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new dI(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){ot("MemoryPersistence","Starting transaction:",t);const l=new yI(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(t,n){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class yI extends HR{constructor(t){super(),this.currentSequenceNumber=t}}class mg{constructor(t){this.persistence=t,this.Ri=new dg,this.Ai=null}static Vi(t){return new mg(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Z.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const l=mt.fromPath(r);return this.mi(t,l).next((u=>{u||n.removeEntry(l,Et.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Th{constructor(t,n){this.persistence=t,this.fi=new ta((r=>YR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=aI(this,n)}static Vi(t,n){return new Th(t,n)}Ti(){}Ii(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return Z.forEach(this.fi,((r,l)=>this.wr(t,r,l).next((u=>u?Z.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,n).next((g=>{g||(r++,u.removeEntry(d,Et.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),Z.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=nh(t.data.value)),n}wr(t,n,r){return Z.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class gg{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=l}static Es(t,n){let r=kt(),l=kt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new gg(t,n.fromCache,r,l)}}class _I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class vI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return HA()?8:FR(tn())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const u={result:null};return this.gs(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(t,n,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new _I;return this.ys(t,n,d).next((g=>{if(u.result=g,this.As)return this.ws(t,n,d,g.size)}))})).next((()=>u.result))}ws(t,n,r,l){return r.documentReadCount<this.Vs?(Ka()<=Mt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Ka()<=Mt.DEBUG&&ot("QueryEngine","Query:",Qa(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Ka()<=Mt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(n))):Z.resolve())}gs(t,n){if(l0(n))return Z.resolve(null);let r=xi(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Mm(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const d=kt(...u);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((y=>{const p=this.bs(n,g);return this.Ss(n,p,d,y.readTime)?this.gs(t,Mm(n,null,"F")):this.Ds(t,p,n,y)}))))})))))}ps(t,n,r,l){return l0(n)||l.isEqual(Et.min())?Z.resolve(null):this.fs.getDocuments(t,r).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,r,l)?Z.resolve(null):(Ka()<=Mt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(n)),this.Ds(t,d,n,zR(l,Ql)).next((g=>g)))}))}bs(t,n){let r=new Ue(yT(t));return n.forEach(((l,u)=>{Lh(t,u)&&(r=r.add(u))})),r}Ss(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(t,n,r){return Ka()<=Mt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.fs.getDocumentsMatchingQuery(t,n,ir.min(),r)}Ds(t,n,r,l){return this.fs.getDocumentsMatchingQuery(t,r,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const pg="LocalStore",EI=3e8;class TI{constructor(t,n,r,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new ue(Vt),this.Fs=new ta((u=>og(u)),lg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function bI(s,t,n,r){return new TI(s,t,n,r)}async function HT(s,t){const n=bt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],g=[];let y=kt();for(const p of l){d.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}for(const p of u){g.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(r,y).next((p=>({Ns:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function AI(s,t){const n=bt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,T){const S=p.batch,x=S.keys();let k=Z.resolve();return x.forEach((Y=>{k=k.next((()=>T.getEntry(y,Y))).next((W=>{const J=p.docVersions.get(Y);Ft(J!==null,48541),W.version.compareTo(J)<0&&(S.applyToRemoteDocument(W,p),W.isValidDocument()&&(W.setReadTime(p.commitVersion),T.addEntry(W)))}))})),k.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=kt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function FT(s){const t=bt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function SI(s,t){const n=bt(s),r=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const g=[];t.targetChanges.forEach(((T,S)=>{const x=l.get(S);if(!x)return;g.push(n.li.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,S))));let k=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?k=k.withResumeToken(Xe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,r)),l=l.insert(S,k),(function(W,J,tt){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=EI?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0})(x,k,T)&&g.push(n.li.updateTargetData(u,k))}));let y=ss(),p=kt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(wI(u,d,t.documentUpdates).next((T=>{y=T.Bs,p=T.Ls}))),!r.isEqual(Et.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.vs=l,u)))}function wI(s,t,n){let r=kt(),l=kt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let d=ss();return n.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):ot(pg,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function RI(s,t){const n=bt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=sg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function CI(s,t){const n=bt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,t).next((u=>u?(l=u,Z.resolve(l)):n.li.allocateTargetId(r).next((d=>(l=new Ks(t,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function Pm(s,t,n){const r=bt(s),l=r.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;ot(pg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.vs=r.vs.remove(t),r.Fs.delete(l.target)}function T0(s,t,n){const r=bt(s);let l=Et.min(),u=kt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,T){const S=bt(y),x=S.Fs.get(T);return x!==void 0?Z.resolve(S.vs.get(x)):S.li.getTargetData(p,T)})(r,d,xi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,t,n?l:Et.min(),n?u:kt()))).next((g=>(II(r,mC(t),g),{documents:g,ks:u})))))}function II(s,t,n){let r=s.Ms.get(t)||Et.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(t,r)}class b0{constructor(){this.activeTargetIds=EC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class NI{constructor(){this.vo=new b0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new b0,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class xI{Mo(t){}shutdown(){}}const A0="ConnectivityMonitor";class S0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(A0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(A0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xc=null;function zm(){return Xc===null?Xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xc++,"0x"+Xc.toString(16)}const fm="RestConnection",DI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class OI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===ph?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(t,n,r,l,u){const d=zm(),g=this.Qo(t,n.toUriEncodedString());ot(fm,`Sending RPC '${t}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,u);const{host:p}=new URL(g),T=go(p);return this.zo(t,g,y,r,T).then((S=>(ot(fm,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw ao(fm,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}jo(t,n,r,l,u,d){return this.Wo(t,n,r,l,u)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),r&&r.headers.forEach(((l,u)=>t[u]=l))}Qo(t,n){const r=DI[t];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class MI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Je="WebChannelConnection",Dl=(s,t,n)=>{s.listen(t,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class eo extends OI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!eo.c_){const t=KE();Dl(t,YE.STAT_EVENT,(n=>{n.stat===Rm.PROXY?ot(Je,"STAT_EVENT: detected buffering proxy"):n.stat===Rm.NOPROXY&&ot(Je,"STAT_EVENT: detected no buffering proxy")})),eo.c_=!0}}zo(t,n,r,l,u){const d=zm();return new Promise(((g,y)=>{const p=new FE;p.setWithCredentials(!0),p.listenOnce(GE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case eh.NO_ERROR:const S=p.getResponseJson();ot(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case eh.TIMEOUT:ot(Je,`RPC '${t}' ${d} timed out`),y(new rt(Q.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const x=p.getStatus();if(ot(Je,`RPC '${t}' ${d} failed with status:`,x,"response text:",p.getResponseText()),x>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const Y=k?.error;if(Y&&Y.status&&Y.message){const W=(function(tt){const at=tt.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(at)>=0?at:Q.UNKNOWN})(Y.status);y(new rt(W,Y.message))}else y(new rt(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new rt(Q.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ot(Je,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);ot(Je,`RPC '${t}' ${d} sending request:`,l),p.send(n,"POST",T,r,15)}))}T_(t,n,r){const l=zm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const p=u.join("");ot(Je,`Creating RPC '${t}' stream ${l}: ${p}`,g);const T=d.createWebChannel(p,g);this.I_(T);let S=!1,x=!1;const k=new MI({Ho:Y=>{x?ot(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,Y):(S||(ot(Je,`Opening RPC '${t}' stream ${l} transport.`),T.open(),S=!0),ot(Je,`RPC '${t}' stream ${l} sending:`,Y),T.send(Y))},Jo:()=>T.close()});return Dl(T,Vl.EventType.OPEN,(()=>{x||(ot(Je,`RPC '${t}' stream ${l} transport opened.`),k.i_())})),Dl(T,Vl.EventType.CLOSE,(()=>{x||(x=!0,ot(Je,`RPC '${t}' stream ${l} transport closed`),k.o_(),this.E_(T))})),Dl(T,Vl.EventType.ERROR,(Y=>{x||(x=!0,ao(Je,`RPC '${t}' stream ${l} transport errored. Name:`,Y.name,"Message:",Y.message),k.o_(new rt(Q.UNAVAILABLE,"The operation could not be completed")))})),Dl(T,Vl.EventType.MESSAGE,(Y=>{if(!x){const W=Y.data[0];Ft(!!W,16349);const J=W,tt=J?.error||J[0]?.error;if(tt){ot(Je,`RPC '${t}' stream ${l} received error:`,tt);const at=tt.status;let st=(function(At){const N=xe[At];if(N!==void 0)return xT(N)})(at),ct=tt.message;st===void 0&&(st=Q.INTERNAL,ct="Unknown error status: "+at+" with message "+tt.message),x=!0,k.o_(new rt(st,ct)),T.close()}else ot(Je,`RPC '${t}' stream ${l} received:`,W),k.__(W)}})),eo.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return QE()}}function VI(s){return new eo(s)}function dm(){return typeof document<"u"?document:null}function qh(s){return new PC(s,!0)}eo.c_=!1;class GT{constructor(t,n,r=1e3,l=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const w0="PersistentStream";class YT{constructor(t,n,r,l,u,d,g,y){this.Ci=t,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new rt(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(w0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ot(w0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kI extends YT{constructor(t,n,r,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=BC(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Et.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Di(d.readTime):Et.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=Lm(this.serializer),n.addTarget=(function(u,d){let g;const y=d.target;if(g=Dm(y)?{documents:FC(u,y)}:{query:GC(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=MT(u,d.resumeToken);const p=Vm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=Eh(u,d.snapshotVersion.toTimestamp());const p=Vm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,t);const r=KC(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=Lm(this.serializer),n.removeTarget=t,this.K_(n)}}class UI extends YT{constructor(t,n,r,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=HC(t.writeResults,t.commitTime),r=Di(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Lm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>qC(this.serializer,r)))};this.K_(n)}}class LI{}class PI extends LI{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(t,km(n,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt(Q.UNKNOWN,u.toString())}))}jo(t,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,km(n,r),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function zI(s,t,n,r){return new PI(s,t,n,r)}class jI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zr="RemoteStore";class BI{constructor(t,n,r,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ea(this)&&(ot(Zr,"Restarting streams for network reachability change."),await(async function(y){const p=bt(y);p.Ea.add(4),await cu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Hh(p)})(this))}))})),this.Va=new jI(r,l)}}async function Hh(s){if(ea(s))for(const t of s.Ra)await t(!0)}async function cu(s){for(const t of s.Ra)await t(!1)}function KT(s,t){const n=bt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Eg(n)?vg(n):Ao(n).O_()&&_g(n,t))}function yg(s,t){const n=bt(s),r=Ao(n);n.Ia.delete(t),r.O_()&&QT(n,t),n.Ia.size===0&&(r.O_()?r.L_():ea(n)&&n.Va.set("Unknown"))}function _g(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ao(s).Z_(t)}function QT(s,t){s.da.$e(t),Ao(s).X_(t)}function vg(s){s.da=new VC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Ao(s).start(),s.Va.ua()}function Eg(s){return ea(s)&&!Ao(s).x_()&&s.Ia.size>0}function ea(s){return bt(s).Ea.size===0}function XT(s){s.da=void 0}async function qI(s){s.Va.set("Online")}async function HI(s){s.Ia.forEach(((t,n)=>{_g(s,t)}))}async function FI(s,t){XT(s),Eg(s)?(s.Va.ha(t),vg(s)):s.Va.set("Unknown")}async function GI(s,t,n){if(s.Va.set("Online"),t instanceof OT&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,t)}catch(r){ot(Zr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await bh(s,r)}else if(t instanceof rh?s.da.Xe(t):t instanceof DT?s.da.st(t):s.da.tt(t),!n.isEqual(Et.min()))try{const r=await FT(s.localStore);n.compareTo(r)>=0&&await(function(u,d){const g=u.da.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(p);T&&u.Ia.set(p,T.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken(Xe.EMPTY_BYTE_STRING,T.snapshotVersion)),QT(u,y);const S=new Ks(T.target,y,p,T.sequenceNumber);_g(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){ot(Zr,"Failed to raise snapshot:",r),await bh(s,r)}}async function bh(s,t,n){if(!To(t))throw t;s.Ea.add(1),await cu(s),s.Va.set("Offline"),n||(n=()=>FT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(Zr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Hh(s)}))}function $T(s,t){return t().catch((n=>bh(s,n,t)))}async function Fh(s){const t=bt(s),n=or(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:sg;for(;YI(t);)try{const l=await RI(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,KI(t,l)}catch(l){await bh(t,l)}JT(t)&&ZT(t)}function YI(s){return ea(s)&&s.Ta.length<10}function KI(s,t){s.Ta.push(t);const n=or(s);n.O_()&&n.Y_&&n.ea(t.mutations)}function JT(s){return ea(s)&&!or(s).x_()&&s.Ta.length>0}function ZT(s){or(s).start()}async function QI(s){or(s).ra()}async function XI(s){const t=or(s);for(const n of s.Ta)t.ea(n.mutations)}async function $I(s,t,n){const r=s.Ta.shift(),l=cg.from(r,t,n);await $T(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Fh(s)}async function JI(s,t){t&&or(s).Y_&&await(async function(r,l){if((function(d){return DC(d)&&d!==Q.ABORTED})(l.code)){const u=r.Ta.shift();or(r).B_(),await $T(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Fh(r)}})(s,t),JT(s)&&ZT(s)}async function R0(s,t){const n=bt(s);n.asyncQueue.verifyOperationInProgress(),ot(Zr,"RemoteStore received new credentials");const r=ea(n);n.Ea.add(3),await cu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Hh(n)}async function ZI(s,t){const n=bt(s);t?(n.Ea.delete(2),await Hh(n)):t||(n.Ea.add(2),await cu(n),n.Va.set("Unknown"))}function Ao(s){return s.ma||(s.ma=(function(n,r,l){const u=bt(n);return u.sa(),new kI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:qI.bind(null,s),Yo:HI.bind(null,s),t_:FI.bind(null,s),J_:GI.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Eg(s)?vg(s):s.Va.set("Unknown")):(await s.ma.stop(),XT(s))}))),s.ma}function or(s){return s.fa||(s.fa=(function(n,r,l){const u=bt(n);return u.sa(),new UI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:QI.bind(null,s),t_:JI.bind(null,s),ta:XI.bind(null,s),na:$I.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Fh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(Zr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Tg{constructor(t,n,r,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,u){const d=Date.now()+r,g=new Tg(t,n,d,l,u);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(s,t){if(is("AsyncQueue",`${t}: ${s}`),To(s))return new rt(Q.UNAVAILABLE,`${t}: ${s}`);throw s}class no{static emptySet(t){return new no(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||mt.comparator(n.key,r.key):(n,r)=>mt.comparator(n.key,r.key),this.keyedMap=kl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof no)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new no;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class C0{constructor(){this.ga=new ue(mt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class fo{constructor(t,n,r,l,u,d,g,y,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new fo(t,n,no.emptySet(n),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class WI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class tN{constructor(){this.queries=I0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=bt(n),u=l.queries;l.queries=I0(),u.forEach(((d,g)=>{for(const y of g.ba)y.onError(r)}))})(this,new rt(Q.ABORTED,"Firestore shutting down"))}}function I0(){return new ta((s=>pT(s)),Uh)}async function WT(s,t){const n=bt(s);let r=3;const l=t.query;let u=n.queries.get(l);u?!u.Sa()&&t.Da()&&(r=2):(u=new WI,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=bg(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Ag(n)}async function t1(s,t){const n=bt(s),r=t.query;let l=3;const u=n.queries.get(r);if(u){const d=u.ba.indexOf(t);d>=0&&(u.ba.splice(d,1),u.ba.length===0?l=t.Da()?0:1:!u.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eN(s,t){const n=bt(s);let r=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.ba)g.Fa(l)&&(r=!0);d.wa=l}}r&&Ag(n)}function nN(s,t,n){const r=bt(s),l=r.queries.get(t);if(l)for(const u of l.ba)u.onError(n);r.queries.delete(t)}function Ag(s){s.Ca.forEach((t=>{t.next()}))}var jm,N0;(N0=jm||(jm={})).Ma="default",N0.Cache="cache";class e1{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new fo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=fo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==jm.Cache}}class n1{constructor(t){this.key=t}}class i1{constructor(t){this.key=t}}class iN{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=yT(t),this.tu=new no(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new C0,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const x=l.get(T),k=Lh(this.query,S)?S:null,Y=!!x&&this.mutatedKeys.has(x.key),W=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let J=!1;x&&k?x.data.isEqual(k.data)?Y!==W&&(r.track({type:3,doc:k}),J=!0):this.su(x,k)||(r.track({type:2,doc:k}),J=!0,(y&&this.eu(k,y)>0||p&&this.eu(k,p)<0)&&(g=!0)):!x&&k?(r.track({type:0,doc:k}),J=!0):x&&!k&&(r.track({type:1,doc:x}),J=!0,(y||p)&&(g=!0)),J&&(k?(d=d.add(k),u=W?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:g,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(k,Y){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:J})}};return W(k)-W(Y)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,p=y!==this.Xa;return this.Xa=y,d.length!==0||p?{snapshot:new fo(this.query,t.tu,u,d,t.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new i1(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new n1(r))})),n}cu(t){this.Za=t.ks,this.Ya=kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sg="SyncEngine";class sN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class rN{constructor(t){this.key=t,this.hu=!1}}class aN{constructor(t,n,r,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ta((g=>pT(g)),Uh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(mt.comparator),this.Au=new Map,this.Vu=new dg,this.du={},this.mu=new Map,this.fu=ho.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oN(s,t,n=!0){const r=u1(s);let l;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await s1(r,t,n,!0),l}async function lN(s,t){const n=u1(s);await s1(n,t,!0,!1)}async function s1(s,t,n,r){const l=await CI(s.localStore,xi(t)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let g;return r&&(g=await uN(s,t,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&KT(s.remoteStore,l),g}async function uN(s,t,n,r,l){s.pu=(S,x,k)=>(async function(W,J,tt,at){let st=J.view.ru(tt);st.Ss&&(st=await T0(W.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,st))));const ct=at&&at.targetChanges.get(J.targetId),It=at&&at.targetMismatches.get(J.targetId)!=null,At=J.view.applyChanges(st,W.isPrimaryClient,ct,It);return D0(W,J.targetId,At.au),At.snapshot})(s,S,x,k);const u=await T0(s.localStore,t,!0),d=new iN(t,u.ks),g=d.ru(u.documents),y=uu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),p=d.applyChanges(g,s.isPrimaryClient,y);D0(s,n,p.au);const T=new sN(t,n,d);return s.Tu.set(t,T),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),p.snapshot}async function cN(s,t,n){const r=bt(s),l=r.Tu.get(t),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Uh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Pm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&yg(r.remoteStore,l.targetId),Bm(r,l.targetId)})).catch(Eo)):(Bm(r,l.targetId),await Pm(r.localStore,l.targetId,!0))}async function hN(s,t){const n=bt(s),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yg(n.remoteStore,r.targetId))}async function fN(s,t,n){const r=vN(s);try{const l=await(function(d,g){const y=bt(d),p=se.now(),T=g.reduce(((k,Y)=>k.add(Y.key)),kt());let S,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let Y=ss(),W=kt();return y.xs.getEntries(k,T).next((J=>{Y=J,Y.forEach(((tt,at)=>{at.isValidDocument()||(W=W.add(tt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(k,Y))).next((J=>{S=J;const tt=[];for(const at of g){const st=RC(at,S.get(at.key).overlayedDocument);st!=null&&tt.push(new dr(at.key,st,lT(st.value.mapValue),rn.exists(!0)))}return y.mutationQueue.addMutationBatch(k,p,tt,g)})).next((J=>{x=J;const tt=J.applyToLocalDocumentSet(S,W);return y.documentOverlayCache.saveOverlays(k,J.batchId,tt)}))})).then((()=>({batchId:x.batchId,changes:vT(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let p=d.du[d.currentUser.toKey()];p||(p=new ue(Vt)),p=p.insert(g,y),d.du[d.currentUser.toKey()]=p})(r,l.batchId,n),await hu(r,l.changes),await Fh(r.remoteStore)}catch(l){const u=bg(l,"Failed to persist write");n.reject(u)}}async function r1(s,t){const n=bt(s);try{const r=await SI(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await hu(n,r,t)}catch(r){await Eo(r)}}function x0(s,t,n){const r=bt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=bt(d);y.onlineState=g;let p=!1;y.queries.forEach(((T,S)=>{for(const x of S.ba)x.va(g)&&(p=!0)})),p&&Ag(y)})(r.eventManager,t),l.length&&r.Pu.J_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function dN(s,t,n){const r=bt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),u=l&&l.key;if(u){let d=new ue(mt.comparator);d=d.insert(u,We.newNoDocument(u,Et.min()));const g=kt().add(u),y=new Bh(Et.min(),new Map,new ue(Vt),d,g);await r1(r,y),r.Ru=r.Ru.remove(u),r.Au.delete(t),wg(r)}else await Pm(r.localStore,t,!1).then((()=>Bm(r,t,n))).catch(Eo)}async function mN(s,t){const n=bt(s),r=t.batch.batchId;try{const l=await AI(n.localStore,t);o1(n,r,null),a1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hu(n,l)}catch(l){await Eo(l)}}async function gN(s,t,n){const r=bt(s);try{const l=await(function(d,g){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return y.mutationQueue.lookupMutationBatch(p,g).next((S=>(Ft(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(p,S)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,T,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>y.localDocuments.getDocuments(p,T)))}))})(r.localStore,t);o1(r,t,n),a1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await hu(r,l)}catch(l){await Eo(l)}}function a1(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function o1(s,t,n){const r=bt(s);let l=r.du[r.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),r.du[r.currentUser.toKey()]=l}}function Bm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||l1(s,r)}))}function l1(s,t){s.Eu.delete(t.path.canonicalString());const n=s.Ru.get(t);n!==null&&(yg(s.remoteStore,n),s.Ru=s.Ru.remove(t),s.Au.delete(n),wg(s))}function D0(s,t,n){for(const r of n)r instanceof n1?(s.Vu.addReference(r.key,t),pN(s,r)):r instanceof i1?(ot(Sg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||l1(s,r.key)):_t(19791,{wu:r})}function pN(s,t){const n=t.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ot(Sg,"New document in limbo: "+n),s.Eu.add(r),wg(s))}function wg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new mt(ee.fromString(t)),r=s.fu.next();s.Au.set(r,new rN(n)),s.Ru=s.Ru.insert(n,r),KT(s.remoteStore,new Ks(xi(kh(n.path)),r,"TargetPurposeLimboResolution",Oh.ce))}}async function hu(s,t,n){const r=bt(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,t,n).then((p=>{if((p||n)&&r.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(p){l.push(p);const T=gg.Es(y.targetId,p);u.push(T)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(y,p){const T=bt(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(p,(x=>Z.forEach(x.Ts,(k=>T.persistence.referenceDelegate.addReference(S,x.targetId,k))).next((()=>Z.forEach(x.Is,(k=>T.persistence.referenceDelegate.removeReference(S,x.targetId,k)))))))))}catch(S){if(!To(S))throw S;ot(pg,"Failed to update sequence numbers: "+S)}for(const S of p){const x=S.targetId;if(!S.fromCache){const k=T.vs.get(x),Y=k.snapshotVersion,W=k.withLastLimboFreeSnapshotVersion(Y);T.vs=T.vs.insert(x,W)}}})(r.localStore,u))}async function yN(s,t){const n=bt(s);if(!n.currentUser.isEqual(t)){ot(Sg,"User change. New user:",t.toKey());const r=await HT(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new rt(Q.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await hu(n,r.Ns)}}function _N(s,t){const n=bt(s),r=n.Au.get(t);if(r&&r.hu)return kt().add(r.key);{let l=kt();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function u1(s){const t=bt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=r1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_N.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dN.bind(null,t),t.Pu.J_=eN.bind(null,t.eventManager),t.Pu.yu=nN.bind(null,t.eventManager),t}function vN(s){const t=bt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gN.bind(null,t),t}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=qh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return bI(this.persistence,new vI,t.initialUser,this.serializer)}Cu(t){return new qT(mg.Vi,this.serializer)}Du(t){return new NI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class EN extends Ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof Th,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sI(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new qT((r=>Th.Vi(r,n)),this.serializer)}}class qm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yN.bind(null,this.syncEngine),await ZI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new tN})()}createDatastore(t){const n=qh(t.databaseInfo.databaseId),r=VI(t.databaseInfo);return zI(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,u,d,g){return new BI(r,l,u,d,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>x0(this.syncEngine,n,0)),(function(){return S0.v()?new S0:new xI})())}createSyncEngine(t,n){return(function(l,u,d,g,y,p,T){const S=new aN(l,u,d,g,y,p);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=bt(n);ot(Zr,"RemoteStore shutting down."),r.Ea.add(5),await cu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qm.provider={build:()=>new qm};class c1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):is("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const lr="FirestoreClient";class TN{constructor(t,n,r,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{ot(lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=bg(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function mm(s,t){s.asyncQueue.verifyOperationInProgress(),ot(lr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await HT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function O0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await bN(s);ot(lr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>R0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>R0(t.remoteStore,l))),s._onlineComponents=t}async function bN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(lr,"Using user provided OfflineComponentProvider");try{await mm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await mm(s,new Ah)}}else ot(lr,"Using default OfflineComponentProvider"),await mm(s,new EN(void 0));return s._offlineComponents}async function h1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(lr,"Using user provided OnlineComponentProvider"),await O0(s,s._uninitializedComponentsProvider._online)):(ot(lr,"Using default OnlineComponentProvider"),await O0(s,new qm))),s._onlineComponents}function AN(s){return h1(s).then((t=>t.syncEngine))}async function Hm(s){const t=await h1(s),n=t.eventManager;return n.onListen=oN.bind(null,t.syncEngine),n.onUnlisten=cN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=lN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=hN.bind(null,t.syncEngine),n}function SN(s,t,n,r){const l=new c1(r),u=new e1(t,l,n);return s.asyncQueue.enqueueAndForget((async()=>WT(await Hm(s),u))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>t1(await Hm(s),u)))}}function wN(s,t,n={}){const r=new Zs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const T=new c1({next:x=>{T.Nu(),d.enqueueAndForget((()=>t1(u,S)));const k=x.docs.has(g);!k&&x.fromCache?p.reject(new rt(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&x.fromCache&&y&&y.source==="server"?p.reject(new rt(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),S=new e1(kh(g.path),T,{includeMetadataChanges:!0,Ka:!0});return WT(u,S)})(await Hm(s),s.asyncQueue,t,n,r))),r.promise}function RN(s,t){const n=new Zs;return s.asyncQueue.enqueueAndForget((async()=>fN(await AN(s),t,n))),n.promise}function f1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const CN="ComponentProvider",M0=new Map;function IN(s,t,n,r,l){return new XR(s,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,f1(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const d1="firestore.googleapis.com",V0=!0;class k0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d1,this.ssl=V0}else this.host=t.host,this.ssl=t.ssl??V0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=BT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<nI)throw new rt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gh{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new IR;switch(r.type){case"firstParty":return new OR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=M0.get(n);r&&(ot(CN,"Removing Datastore"),M0.delete(n),r.terminate())})(this),Promise.resolve()}}function NN(s,t,n,r={}){s=Rn(s,Gh);const l=go(t),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${n}`;l&&(tE(`https://${g}`),eE("Firestore",!0)),u.host!==d1&&u.host!==g&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:r};if(!er(y,d)&&(s._setSettings(y),r.mockUserToken)){let p,T;if(typeof r.mockUserToken=="string")p=r.mockUserToken,T=Ze.MOCK_USER;else{p=VA(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new rt(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ze(S)}s._authCredentials=new NR(new $E(p,T))}}class na{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new na(this.firestore,t,this._query)}}class de{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new de(this.firestore,t,this._key)}toJSON(){return{type:de._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(ou(n,de._jsonSchema))return new de(t,r||null,new mt(ee.fromString(n.referencePath)))}}de._jsonSchemaVersion="firestore/documentReference/1.0",de._jsonSchema={type:Oe("string",de._jsonSchemaVersion),referencePath:Oe("string")};class Ws extends na{constructor(t,n,r){super(t,n,kh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new de(this.firestore,null,new mt(t))}withConverter(t){return new Ws(this.firestore,t,this._path)}}function tr(s,t,...n){if(s=me(s),JE("collection","path",t),s instanceof Gh){const r=ee.fromString(t,...n);return Qv(r),new Ws(s,null,r)}{if(!(s instanceof de||s instanceof Ws))throw new rt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return Qv(r),new Ws(s.firestore,null,r)}}function Cn(s,t,...n){if(s=me(s),arguments.length===1&&(t=ig.newId()),JE("doc","path",t),s instanceof Gh){const r=ee.fromString(t,...n);return Kv(r),new de(s,null,new mt(r))}{if(!(s instanceof de||s instanceof Ws))throw new rt(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return Kv(r),new de(s.firestore,s instanceof Ws?s.converter:null,new mt(r))}}const U0="AsyncQueue";class L0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GT(this,"async_queue_retry"),this._c=()=>{const r=dm();r&&ot(U0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!To(t))throw t;ot(U0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",P0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Tg.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:P0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function P0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class rs extends Gh{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new L0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new L0(t),this._firestoreClient=void 0,await t}}}function xN(s,t){const n=typeof s=="object"?s:rE(),r=typeof s=="string"?s:ph,l=Km(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=OA("firestore");u&&NN(l,...u)}return l}function Yh(s){if(s._terminated)throw new rt(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||DN(s),s._firestoreClient}function DN(s){const t=s._freezeSettings(),n=IN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new TN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn(Xe.fromBase64String(t))}catch(n){throw new rt(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Bn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ou(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Oe("string",Bn._jsonSchemaVersion),bytes:Oe("string")};class Kh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class fu{constructor(t){this._methodName=t}}class Oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(ou(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Oe("string",Oi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class ei{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ou(t,ei._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ei(t.vectorValues);throw new rt(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Oe("string",ei._jsonSchemaVersion),vectorValues:Oe("object")};const ON=/^__.*__$/;class MN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new dr(t,this.data,this.fieldMask,n,this.fieldTransforms):new lu(t,this.data,n,this.fieldTransforms)}}class m1{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new dr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function g1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:s})}}class Qh{constructor(t,n,r,l,u,d){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Qh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Sh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(g1(this.dataSource)&&ON.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class VN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||qh(t)}createContext(t,n,r,l=!1){return new Qh({dataSource:t,methodName:n,targetDoc:r,path:Qe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function du(s){const t=s._freezeSettings(),n=qh(s._databaseId);return new VN(s._databaseId,!!t.ignoreUndefinedProperties,n)}function Rg(s,t,n,r,l,u={}){const d=s.createContext(u.merge||u.mergeFields?2:0,t,n,l);Ng("Data must be an object, but it was:",d,r);const g=_1(r,d);let y,p;if(u.merge)y=new wn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const x=Wr(t,S,n);if(!d.contains(x))throw new rt(Q.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);T1(T,x)||T.push(x)}y=new wn(T),p=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,p=d.fieldTransforms;return new MN(new mn(g),y,p)}class Xh extends fu{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xh}}function kN(s,t,n){return new Qh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:s._methodName,arrayElement:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Cg extends fu{constructor(t,n){super(t),this.Ac=n}_toFieldTransform(t){const n=kN(this,t,!0),r=this.Ac.map((u=>So(u,n))),l=new co(r);return new CT(t.path,l)}isEqual(t){return t instanceof Cg&&er(this.Ac,t.Ac)}}class Ig extends fu{constructor(t,n){super(t),this.Vc=n}_toFieldTransform(t){const n=new tu(t.serializer,bT(t.serializer,this.Vc));return new CT(t.path,n)}isEqual(t){return t instanceof Ig&&this.Vc===t.Vc}}function p1(s,t,n,r){const l=s.createContext(1,t,n);Ng("Data must be an object, but it was:",l,r);const u=[],d=mn.empty();fr(r,((y,p)=>{const T=E1(t,y,n);p=me(p);const S=l.childContextForFieldPath(T);if(p instanceof Xh)u.push(T);else{const x=So(p,S);x!=null&&(u.push(T),d.set(T,x))}}));const g=new wn(u);return new m1(d,g,l.fieldTransforms)}function y1(s,t,n,r,l,u){const d=s.createContext(1,t,n),g=[Wr(t,r,n)],y=[l];if(u.length%2!=0)throw new rt(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)g.push(Wr(t,u[x])),y.push(u[x+1]);const p=[],T=mn.empty();for(let x=g.length-1;x>=0;--x)if(!T1(p,g[x])){const k=g[x];let Y=y[x];Y=me(Y);const W=d.childContextForFieldPath(k);if(Y instanceof Xh)p.push(k);else{const J=So(Y,W);J!=null&&(p.push(k),T.set(k,J))}}const S=new wn(p);return new m1(T,S,d.fieldTransforms)}function UN(s,t,n,r=!1){return So(n,s.createContext(r?4:3,t))}function So(s,t){if(v1(s=me(s)))return Ng("Unsupported field value:",t,s),_1(s,t);if(s instanceof fu)return(function(r,l){if(!g1(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const g of r){let y=So(g,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,t)}return(function(r,l){if((r=me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bT(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=se.fromDate(r);return{timestampValue:Eh(l.serializer,u)}}if(r instanceof se){const u=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Eh(l.serializer,u)}}if(r instanceof Oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:MT(l.serializer,r._byteString)};if(r instanceof de){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:fg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ei)return(function(d,g){const y=d instanceof ei?d.toArray():d;return{mapValue:{fields:{[aT]:{stringValue:oT},[yh]:{arrayValue:{values:y.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return ug(g.serializer,T)}))}}}}}})(r,l);if(jT(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Dh(r)}`)})(s,t)}function _1(s,t){const n={};return tT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fr(s,((r,l)=>{const u=So(l,t.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function v1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof Oi||s instanceof Bn||s instanceof de||s instanceof fu||s instanceof ei||jT(s))}function Ng(s,t,n){if(!v1(n)||!ZE(n)){const r=Dh(n);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function Wr(s,t,n){if((t=me(t))instanceof Kh)return t._internalPath;if(typeof t=="string")return E1(s,t);throw Sh("Field path arguments must be of type string or ",s,!1,void 0,n)}const LN=new RegExp("[~\\*/\\[\\]]");function E1(s,t,n){if(t.search(LN)>=0)throw Sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Kh(...t.split("."))._internalPath}catch{throw Sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Sh(s,t,n,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new rt(Q.INVALID_ARGUMENT,g+s+y)}function T1(s,t){return s.some((n=>n.isEqual(t)))}class PN{convertValue(t,n="none"){switch(ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return fr(t,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[yh].arrayValue?.values?.map((r=>ve(r.doubleValue)));return new ei(n)}convertGeoPoint(t){return new Oi(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Vh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xl(t));default:return null}}convertTimestamp(t){const n=sr(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ee.fromString(t);Ft(zT(r),9688,{name:t});const l=new $l(r.get(1),r.get(3)),u=new mt(r.popFirst(5));return l.isEqual(n)||is(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class b1 extends PN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new de(this.firestore,null,n)}}function zN(...s){return new Cg("arrayUnion",s)}function Ll(s){return new Ig("increment",s)}const z0="@firebase/firestore",j0="4.10.0";function B0(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class A1{constructor(t,n,r,l,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new de(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Wr("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jN extends A1{data(){return super.data()}}function BN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xg{}class S1 extends xg{}function mo(s,t,...n){let r=[];t instanceof xg&&r.push(t),r=r.concat(n),(function(u){const d=u.filter((y=>y instanceof Og)).length,g=u.filter((y=>y instanceof $h)).length;if(d>1||d>0&&g>0)throw new rt(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class $h extends S1{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new $h(t,n,r)}_apply(t){const n=this._parse(t);return w1(t._query,n),new na(t.firestore,t.converter,Om(t._query,n))}_parse(t){const n=du(t.firestore);return(function(u,d,g,y,p,T,S){let x;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){H0(S,T);const Y=[];for(const W of S)Y.push(q0(y,u,W));x={arrayValue:{values:Y}}}else x=q0(y,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||H0(S,T),x=UN(g,d,S,T==="in"||T==="not-in");return De.create(p,T,x)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Dg(s,t,n){const r=t,l=Wr("where",s);return $h._create(l,r,n)}class Og extends xg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Og(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)w1(d,y),d=Om(d,y)})(t._query,n),new na(t.firestore,t.converter,Om(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mg extends S1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Mg(t,n)}_apply(t){const n=(function(l,u,d){if(l.startAt!==null)throw new rt(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(u,d)})(t._query,this._field,this._direction);return new na(t.firestore,t.converter,dC(t._query,n))}}function qN(s,t="asc"){const n=t,r=Wr("orderBy",s);return Mg._create(r,n)}function q0(s,t,n){if(typeof(n=me(n))=="string"){if(n==="")throw new rt(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gT(t)&&n.indexOf("/")!==-1)throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ee.fromString(n));if(!mt.isDocumentKey(r))throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return n0(s,new mt(r))}if(n instanceof de)return n0(s,n._key);throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function H0(s,t){if(!Array.isArray(s)||s.length===0)throw new rt(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function w1(s,t){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new rt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Vg(s,t,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(t,n):s.toFirestore(t):t,r}class Pl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kr extends A1{constructor(t,n,r,l,u,d){super(t,n,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Wr("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Kr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:Oe("string",Kr._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class ah extends Kr{data(t={}){return super.data(t)}}class io{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Pl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new ah(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new ah(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new ah(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,T=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:HN(g.type),doc:y,oldIndex:p,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=io._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function HN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:Oe("string",io._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class FN{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=du(t)}set(t,n,r){this._verifyNotCommitted();const l=gm(t,this._firestore),u=Vg(l.converter,n,r),d=Rg(this._dataReader,"WriteBatch.set",l._key,u,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,rn.none())),this}update(t,n,r,...l){this._verifyNotCommitted();const u=gm(t,this._firestore);let d;return d=typeof(n=me(n))=="string"||n instanceof Kh?y1(this._dataReader,"WriteBatch.update",u._key,n,r,l):p1(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(d.toMutation(u._key,rn.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=gm(t,this._firestore);return this._mutations=this._mutations.concat(new jh(n._key,rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gm(s,t){if((s=me(s)).firestore!==t)throw new rt(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function GN(s){s=Rn(s,de);const t=Rn(s.firestore,rs),n=Yh(t);return wN(n,s._key).then((r=>I1(t,s,r)))}function wh(s,t,n){s=Rn(s,de);const r=Rn(s.firestore,rs),l=Vg(s.converter,t,n),u=du(r);return mu(r,[Rg(u,"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,rn.none())])}function eu(s,t,n,...r){s=Rn(s,de);const l=Rn(s.firestore,rs),u=du(l);let d;return d=typeof(t=me(t))=="string"||t instanceof Kh?y1(u,"updateDoc",s._key,t,n,r):p1(u,"updateDoc",s._key,t),mu(l,[d.toMutation(s._key,rn.exists(!0))])}function R1(s){return mu(Rn(s.firestore,rs),[new jh(s._key,rn.none())])}function C1(s,t){const n=Rn(s.firestore,rs),r=Cn(s),l=Vg(s.converter,t),u=du(s.firestore);return mu(n,[Rg(u,"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,rn.exists(!1))]).then((()=>r))}function ur(s,...t){s=me(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||B0(t[r])||(n=t[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(B0(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let u,d,g;if(s instanceof de)d=Rn(s.firestore,rs),g=kh(s._key.path),u={next:p=>{t[r]&&t[r](I1(d,s,p))},error:t[r+1],complete:t[r+2]};else{const p=Rn(s,na);d=Rn(p.firestore,rs),g=p._query;const T=new b1(d);u={next:S=>{t[r]&&t[r](new io(d,T,p,S))},error:t[r+1],complete:t[r+2]},BN(s._query)}const y=Yh(d);return SN(y,g,l,u)}function mu(s,t){const n=Yh(s);return RN(n,t)}function I1(s,t,n){const r=n.docs.get(t._key),l=new b1(s);return new Kr(s,l,t._key,r,new Pl(n.hasPendingWrites,n.fromCache),t.converter)}function YN(s){return s=Rn(s,rs),Yh(s),new FN(s,(t=>mu(s,t)))}(function(t,n=!0){CR(po),so(new Xr("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),g=new rs(new xR(r.getProvider("auth-internal")),new MR(d,r.getProvider("app-check-internal")),$R(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),$s(z0,j0,t),$s(z0,j0,"esm2020")})();const N1=(...s)=>s.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();const KN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const QN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());const F0=s=>{const t=QN(s);return t.charAt(0).toUpperCase()+t.slice(1)};var XN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $N=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const JN=dt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...g},y)=>dt.createElement("svg",{ref:y,...XN,width:t,height:t,stroke:s,strokeWidth:r?Number(n)*24/Number(t):n,className:N1("lucide",l),...!u&&!$N(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,T])=>dt.createElement(p,T)),...Array.isArray(u)?u:[u]]));const le=(s,t)=>{const n=dt.forwardRef(({className:r,...l},u)=>dt.createElement(JN,{ref:u,iconNode:t,className:N1(`lucide-${KN(F0(s))}`,`lucide-${s}`,r),...l}));return n.displayName=F0(s),n};const ZN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],WN=le("bell",ZN);const tx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ex=le("calendar",tx);const nx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],x1=le("check",nx);const ix=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sx=le("chevron-left",ix);const rx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ax=le("chevron-right",rx);const ox=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lx=le("circle-alert",ox);const ux=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],D1=le("circle-check",ux);const cx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hx=le("circle",cx);const fx=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Jh=le("coins",fx);const dx=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],kg=le("flame",dx);const mx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cr=le("loader-circle",mx);const gx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],px=le("log-out",gx);const yx=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M7.828 13.07A3 3 0 0 1 12 8.764a3 3 0 0 1 5.004 2.224 3 3 0 0 1-.832 2.083l-3.447 3.62a1 1 0 0 1-1.45-.001z",key:"hoo97p"}]],Ug=le("message-circle-heart",yx);const _x=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],O1=le("pen",_x);const vx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ex=le("plus",vx);const Tx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bx=le("save",Tx);const Ax=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sx=le("trash-2",Ax);const wx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Rx=le("trending-up",wx);const Cx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],M1=le("trophy",Cx);const Ix=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Nx=le("undo-2",Ix);const xx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dx=le("user",xx);const Ox=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],V1=le("users",Ox);const Mx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rh=le("x",Mx);const Vx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],k1=le("zap",Vx),kx={apiKey:"AIzaSyBp7mDobIYrVIUkDfuClqqfdm9JIYW3yvs",authDomain:"gate26-mocks.firebaseapp.com",projectId:"gate26-mocks",storageBucket:"gate26-mocks.firebasestorage.app",messagingSenderId:"46444663512",appId:"1:46444663512:web:701e86ce9f47735ae1fdad",measurementId:"G-2JZTZYTEWJ"},U1=sE(kx),Qr=wR(U1),Ee=xN(U1),L1=()=>"habit-squad-main",Lg=()=>new Date().toLocaleDateString("en-CA",{timeZone:"Asia/Kolkata"}),pm=s=>{s=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),s.setUTCDate(s.getUTCDate()+4-(s.getUTCDay()||7));var t=new Date(Date.UTC(s.getUTCFullYear(),0,1)),n=Math.ceil(((s-t)/864e5+1)/7);return[s.getUTCFullYear(),n]},G0=(s,t={type:"daily",days:[]})=>{if(!s||s.length===0)return 0;const n=[...s].sort((l,u)=>new Date(u)-new Date(l)),r=Lg();if(!t||t.type==="daily"){const l=new Date(r),u=new Date(n[0]),d=Math.abs(l-u);if(Math.ceil(d/(1e3*60*60*24))>1)return 0;let y=0,p=new Date(u);for(let T=0;T<n.length;T++){const S=new Date(n[T]);if(T>0&&S.getTime()===new Date(n[T-1]).getTime())continue;const x=p.getTime();if(S.getTime()===x)y++,p.setDate(p.getDate()-1);else break}return y}if(t.type==="custom"){if(!t.days||t.days.length===0)return 0;const l=t.days.map(p=>parseInt(p)),u=new Date(r);let d=new Date(u);for(;!l.includes(d.getDay());)d.setDate(d.getDate()-1);const g=d.toLocaleDateString("en-CA");if(n[0]<g)return 0;let y=0;for(let p=0;p<365;p++){const T=d.toLocaleDateString("en-CA");if(s.includes(T)){y++;do d.setDate(d.getDate()-1);while(!l.includes(d.getDay()))}else break}return y}if(t.type==="weekly"){const l=pm(new Date(r)),u=new Date(n[0]),d=pm(u);if(l[0]===d[0]){if(l[1]-d[1]>1)return 0}else if(new Date(r)-u>14*864e5)return 0;let g=0,y=d;const p=new Set;for(s.forEach(T=>{const S=pm(new Date(T));p.add(`${S[0]}-${S[1]}`)});p.has(`${y[0]}-${y[1]}`)&&(g++,y[1]===1?y=[y[0]-1,52]:y=[y[0],y[1]-1],!(g>500)););return g}if(t.type==="monthly"){const l=new Date(r),u=new Date(n[0]);if((l.getFullYear()-u.getFullYear())*12+(l.getMonth()-u.getMonth())>1)return 0;let g=0,y=u.getFullYear(),p=u.getMonth();const T=new Set;for(s.forEach(S=>{const x=new Date(S);T.add(`${x.getFullYear()}-${x.getMonth()}`)});T.has(`${y}-${p}`)&&(g++,p--,p<0&&(p=11,y--),!(g>120)););return g}return 0},zl=s=>{const t=Lg(),n=s.history||[],r=s.frequency||{type:"daily"};if(!n.length)return!1;if(r.type==="daily"||r.type==="custom")return n.includes(t);if(r.type==="weekly"){const l=new Date(t),u=new Date(l);return u.setDate(l.getDate()-l.getDay()),n.some(d=>new Date(d)>=u)}if(r.type==="monthly"){const l=new Date(t),u=new Date(l.getFullYear(),l.getMonth(),1);return n.some(d=>new Date(d)>=u)}return!1},Y0=({message:s,type:t,onClose:n})=>{dt.useEffect(()=>{const l=setTimeout(n,4e3);return()=>clearTimeout(l)},[n]);const r={success:"bg-emerald-600",error:"bg-red-600",info:"bg-blue-600"};return w.jsxs("div",{className:`fixed top-4 right-4 z-[100] ${r[t]||r.info} text-white px-4 py-3 rounded-lg shadow-xl flex items-center gap-3 animate-in fade-in slide-in-from-top-5 border border-white/10`,children:[t==="success"&&w.jsx(x1,{size:20}),t==="error"&&w.jsx(lx,{size:20}),w.jsx("span",{className:"font-medium text-sm font-sans",children:s}),w.jsx("button",{onClick:n,className:"ml-2 hover:bg-white/20 p-1 rounded-full",children:w.jsx(Rh,{size:16})})]})},Ux=({isOpen:s,title:t,message:n,onConfirm:r,onCancel:l})=>s?w.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:w.jsxs("div",{className:"bg-gray-900 rounded-2xl max-w-sm w-full p-6 border border-gray-800 shadow-2xl scale-100",children:[w.jsx("h3",{className:"text-xl font-bold text-white mb-2 font-display",children:t}),w.jsx("p",{className:"text-gray-400 mb-6 text-sm leading-relaxed font-sans",children:n}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:l,className:"flex-1 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium rounded-lg transition-colors font-sans",children:"Cancel"}),w.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-500 text-white font-medium rounded-lg transition-colors font-sans",children:"Confirm"})]})]})}):null,Lx=({setUser:s,showToast:t})=>{const[n,r]=dt.useState(!0),[l,u]=dt.useState(""),[d,g]=dt.useState(""),[y,p]=dt.useState(""),[T,S]=dt.useState(!1),x=async k=>{k.preventDefault(),S(!0);const Y=L1();try{if(n)await u2(Qr,l,d),t("Welcome back to the squad!","success");else{if(d.length<6)throw{code:"auth/weak-password"};const W=await l2(Qr,l,d);await OE(W.user,{displayName:y}),await wh(Cn(Ee,"artifacts",Y,"public","data","users",W.user.uid),{uid:W.user.uid,displayName:y,email:l,coins:100,cheers:0,joinedAt:new Date().toISOString()},{merge:!0}),t("Account created! +100 Coins","success")}}catch(W){console.error(W);let J="An error occurred.";switch(W.code){case"auth/user-not-found":J="No account found. Please Sign Up first.";break;case"auth/wrong-password":J="Incorrect password. Please try again.";break;case"auth/invalid-credential":case"auth/invalid-login-credentials":n?J="Invalid credentials. If you are new, please Sign Up.":J="Registration failed. Please check your details.";break;case"auth/email-already-in-use":J="Email already in use. Try logging in.";break;case"auth/invalid-email":J="Please enter a valid email address.";break;case"auth/weak-password":J="Password must be at least 6 characters.";break;case"auth/network-request-failed":J="Network error. Please check your connection.";break;case"auth/too-many-requests":J="Too many attempts. Please try again later.";break;default:J=W.message||"Authentication failed."}t(J,"error")}finally{S(!1)}};return w.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-950 px-4 font-sans",children:[w.jsx("style",{children:`
        :root {
          --font-sans: 'Montserrat', sans-serif;
          --font-display: 'Bricolage Grotesque', sans-serif;
        }
        body { font-family: var(--font-sans); }
        .font-sans { font-family: var(--font-sans); }
        .font-display { font-family: var(--font-display); }
        h1, h2, h3, h4, .font-bricolage { font-family: var(--font-display); }
      `}),w.jsx("div",{className:"max-w-md w-full bg-gray-900/50 backdrop-blur-sm rounded-3xl shadow-2xl overflow-hidden border border-gray-800",children:w.jsxs("div",{className:"p-8",children:[w.jsx("div",{className:"flex justify-center mb-6",children:w.jsx("div",{className:"bg-orange-600 p-4 rounded-2xl shadow-lg shadow-orange-900/20",children:w.jsx(kg,{size:40,className:"text-white fill-orange-400"})})}),w.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-2 tracking-tight font-display",children:"HabitSquad"}),w.jsx("p",{className:"text-center text-gray-500 mb-8 text-sm",children:n?"Welcome back, legend.":"Join the squad. Build the streak."}),w.jsxs("form",{onSubmit:x,className:"space-y-4",children:[!n&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wider",children:"Display Name"}),w.jsx("input",{type:"text",required:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-orange-500 transition-colors placeholder-gray-600",placeholder:"HabitHero",value:y,onChange:k=>p(k.target.value)})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wider",children:"Email"}),w.jsx("input",{type:"email",required:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-orange-500 transition-colors placeholder-gray-600",placeholder:"you@example.com",value:l,onChange:k=>u(k.target.value)})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wider",children:"Password"}),w.jsx("input",{type:"password",required:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-orange-500 transition-colors placeholder-gray-600",placeholder:"",value:d,onChange:k=>g(k.target.value)})]}),w.jsx("button",{type:"submit",disabled:T,className:"w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-3.5 rounded-xl transition-all active:scale-[0.98] flex justify-center items-center disabled:opacity-50 mt-2 font-display tracking-wide",children:T?w.jsx(cr,{className:"animate-spin",size:20}):n?"LOG IN":"SIGN UP"})]}),w.jsxs("div",{className:"relative my-8",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("div",{className:"w-full border-t border-gray-800"})}),w.jsx("div",{className:"relative flex justify-center text-xs uppercase tracking-widest",children:w.jsx("span",{className:"px-3 bg-gray-900 text-gray-600",children:"or"})})]}),w.jsx("div",{className:"text-center",children:w.jsx("button",{onClick:()=>r(!n),className:"text-gray-400 hover:text-white text-sm transition-colors font-medium",children:n?"Need an account? Sign Up":"Already have an account? Log In"})})]})})]})};function Px(){const[s,t]=dt.useState(null),[n,r]=dt.useState(!0),[l,u]=dt.useState("habits"),[d,g]=dt.useState(!1),[y,p]=dt.useState(null),[T,S]=dt.useState(null),[x,k]=dt.useState(null),[Y,W]=dt.useState(!1),[J,tt]=dt.useState([]),at=dt.useRef(null),st=L1(),ct=(A,R="info")=>{S({message:A,type:R})};dt.useEffect(()=>{const A=document.createElement("link");return A.href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap",A.rel="stylesheet",document.head.appendChild(A),()=>{document.head.removeChild(A)}},[]),dt.useEffect(()=>{(async()=>{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await o2(Qr,__initial_auth_token)}catch(O){console.error("Token auth failed",O)}})();const R=d2(Qr,async O=>{if(t(O),O)try{const D=Cn(Ee,"artifacts",st,"public","data","users",O.uid);(await GN(D)).exists()||await wh(D,{uid:O.uid,displayName:O.displayName||"Habit Hero",email:O.email||"hero@habitsquad.app",coins:0,cheers:0,joinedAt:new Date().toISOString()},{merge:!0})}catch{}r(!1)});return()=>R()},[st]),dt.useEffect(()=>{if(!s)return;const A=mo(tr(Ee,"artifacts",st,"public","data","users",s.uid,"notifications"),qN("timestamp","desc")),R=ur(A,O=>{tt(O.docs.map(D=>({id:D.id,...D.data()})))});return()=>R()},[s,st]),dt.useEffect(()=>{const A=R=>{at.current&&!at.current.contains(R.target)&&W(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const It=async A=>{try{await R1(Cn(Ee,"artifacts",st,"public","data","users",s.uid,"notifications",A))}catch(R){console.error(R)}},At=async()=>{if(J.length!==0)try{const A=YN(Ee);J.forEach(R=>{const O=Cn(Ee,"artifacts",st,"public","data","users",s.uid,"notifications",R.id);A.delete(O)}),await A.commit(),ct("Notifications cleared","info")}catch(A){console.error(A),ct("Failed to clear notifications","error")}},N=A=>{p(A),g(!0)};return n?w.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center text-white",children:w.jsx(cr,{className:"animate-spin text-orange-500",size:48})}):s?w.jsxs("div",{className:"min-h-screen bg-gray-950 text-white font-sans selection:bg-orange-500/30 pb-24",children:[w.jsx("style",{children:`
        :root {
          --font-sans: 'Montserrat', sans-serif;
          --font-display: 'Bricolage Grotesque', sans-serif;
        }
        body { font-family: var(--font-sans); }
        .font-sans { font-family: var(--font-sans); }
        .font-display { font-family: var(--font-display); }
        h1, h2, h3, h4, .font-bricolage { font-family: var(--font-display); }
      `}),T&&w.jsx(Y0,{message:T.message,type:T.type,onClose:()=>S(null)}),w.jsx("header",{className:"sticky top-0 z-40 bg-gray-950/80 backdrop-blur-lg border-b border-white/5 px-4 py-3",children:w.jsxs("div",{className:"max-w-2xl mx-auto flex justify-between items-center relative",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"bg-orange-600 p-1.5 rounded-lg",children:w.jsx(kg,{size:18,className:"text-white fill-white"})}),w.jsx("h1",{className:"font-bold text-xl tracking-tight hidden sm:block text-gray-100 font-display",children:"HabitSquad"})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(zx,{user:s,appId:st}),w.jsxs("div",{className:"relative",ref:at,children:[w.jsxs("button",{onClick:()=>W(!Y),className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-full transition-all relative",children:[w.jsx(WN,{size:20}),J.length>0&&w.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-red-500 rounded-full border border-gray-950 animate-pulse"})]}),Y&&w.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-gray-900 border border-gray-800 rounded-xl shadow-2xl overflow-hidden z-50 animate-in fade-in slide-in-from-top-2",children:[w.jsxs("div",{className:"p-3 border-b border-gray-800 flex justify-between items-center bg-gray-900/50",children:[w.jsx("h3",{className:"font-semibold text-sm text-gray-300 font-display",children:"Notifications"}),J.length>0&&w.jsx("button",{onClick:At,className:"text-xs text-orange-500 hover:text-orange-400 font-medium",children:"Clear All"})]}),w.jsx("div",{className:"max-h-64 overflow-y-auto",children:J.length===0?w.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No new notifications"}):J.map(A=>w.jsxs("div",{className:"p-3 border-b border-gray-800/50 hover:bg-white/5 flex items-start gap-3 last:border-0",children:[w.jsx("div",{className:"bg-pink-500/10 p-1.5 rounded-full text-pink-500 shrink-0 mt-0.5",children:w.jsx(k1,{size:14,className:"fill-current"})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsxs("p",{className:"text-sm text-gray-200 font-sans",children:[w.jsx("span",{className:"font-bold text-white font-display",children:A.from})," ","cheered you!"]}),w.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:new Date(A.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),w.jsx("button",{onClick:()=>It(A.id),className:"text-gray-600 hover:text-white p-1",children:w.jsx(Rh,{size:14})})]},A.id))})]})]}),w.jsx("button",{onClick:()=>m2(Qr),className:"p-2 text-gray-500 hover:text-white hover:bg-white/5 rounded-full transition-all",title:"Sign Out",children:w.jsx(px,{size:20})})]})]})}),w.jsxs("main",{className:"max-w-2xl mx-auto px-4 py-8",children:[l==="habits"&&w.jsx(jx,{user:s,appId:st,setShowAddHabit:A=>{A&&p(null),g(A)},showToast:ct,onEditHabit:N}),l==="squad"&&w.jsx(qx,{user:s,appId:st,showToast:ct}),l==="leaderboard"&&w.jsx(Hx,{user:s,appId:st,onSelectFriend:k}),l==="profile"&&w.jsx(K0,{targetUid:s.uid,appId:st,showToast:ct,isOwnProfile:!0})]}),x&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in",children:w.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-gray-950 rounded-3xl relative border border-gray-800 shadow-2xl",children:[w.jsx("button",{onClick:()=>k(null),className:"absolute top-4 right-4 z-50 p-2 bg-gray-800 rounded-full text-white hover:bg-gray-700",children:w.jsx(Rh,{size:20})}),w.jsx("div",{className:"p-4 pt-10",children:w.jsx(K0,{targetUid:x,appId:st,showToast:ct,isOwnProfile:!1})})]})}),w.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-white/5 pb-safe z-30 shadow-2xl",children:w.jsxs("div",{className:"max-w-2xl mx-auto flex justify-around p-2",children:[w.jsx($c,{active:l==="habits",onClick:()=>u("habits"),icon:D1,label:"Habits"}),w.jsx($c,{active:l==="squad",onClick:()=>u("squad"),icon:V1,label:"Squad"}),w.jsx($c,{active:l==="leaderboard",onClick:()=>u("leaderboard"),icon:M1,label:"Ranks"}),w.jsx($c,{active:l==="profile",onClick:()=>u("profile"),icon:Dx,label:"Profile"})]})}),d&&w.jsx(Bx,{onClose:()=>{g(!1),p(null)},user:s,appId:st,showToast:ct,habitToEdit:y})]}):w.jsxs(w.Fragment,{children:[T&&w.jsx(Y0,{message:T.message,type:T.type,onClose:()=>S(null)}),w.jsx(Lx,{setUser:t,showToast:ct})]})}const zx=({user:s,appId:t})=>{const[n,r]=dt.useState(null);return dt.useEffect(()=>{const l=ur(Cn(Ee,"artifacts",t,"public","data","users",s.uid),u=>{u.exists()&&r(u.data())});return()=>l()},[s,t]),n?w.jsxs("div",{className:"flex items-center gap-4 bg-white/5 px-3 py-1.5 rounded-full border border-white/5",children:[w.jsxs("div",{className:"flex items-center gap-1.5 text-yellow-400",children:[w.jsx(Jh,{size:14,className:"fill-current"}),w.jsx("span",{className:"font-bold font-mono text-sm font-display",children:n.coins||0})]}),w.jsx("div",{className:"w-px h-3 bg-white/10"}),w.jsxs("div",{className:"flex items-center gap-1.5 text-pink-400",children:[w.jsx(Ug,{size:14,className:"fill-current"}),w.jsx("span",{className:"font-bold font-mono text-sm font-display",children:n.cheers||0})]})]}):null},$c=({active:s,onClick:t,icon:n,label:r})=>w.jsxs("button",{onClick:t,className:`flex flex-col items-center p-2 rounded-xl transition-all w-16 sm:w-20 ${s?"text-orange-500":"text-gray-500 hover:text-gray-300"}`,children:[w.jsx(n,{size:24,strokeWidth:s?2.5:2}),w.jsx("span",{className:`text-[10px] mt-1 font-medium font-display tracking-wide ${s?"opacity-100":"opacity-0"}`,children:r})]}),K0=({targetUid:s,appId:t,showToast:n,isOwnProfile:r})=>{const[l,u]=dt.useState(null),[d,g]=dt.useState([]),[y,p]=dt.useState(!0),[T,S]=dt.useState(0),[x,k]=dt.useState(!1),[Y,W]=dt.useState(""),[J,tt]=dt.useState(!1);dt.useEffect(()=>{const ct=Cn(Ee,"artifacts",t,"public","data","users",s),It=ur(ct,A=>{const R=A.data();u(R),R&&W(R.displayName)}),At=mo(tr(Ee,"artifacts",t,"public","data","habits"),Dg("uid","==",s)),N=ur(At,A=>{const R=A.docs.map(O=>({id:O.id,...O.data()}));g(R),p(!1)});return()=>{It(),N()}},[s,t]);const at=async()=>{if(!(!Y.trim()||J)){tt(!0);try{Qr.currentUser&&await OE(Qr.currentUser,{displayName:Y});const ct=Cn(Ee,"artifacts",t,"public","data","users",s);await eu(ct,{displayName:Y}),n("Profile updated.","success"),k(!1)}catch{n("Failed to update.","error")}finally{tt(!1)}}},st=dt.useMemo(()=>{const ct=new Date,It=ct.getFullYear(),At=ct.getMonth()-T,N=new Date(It,At,1),R=new Date(It,At+1,0).getDate(),O=[];for(let D=1;D<=R;D++){const L=new Date(It,At,D),C=L.toLocaleDateString("en-CA",{timeZone:"Asia/Kolkata"}),Xt=d.length,ce=d.filter(et=>et.history&&et.history.includes(C)).length;let F=0;if(Xt>0){const et=ce/Xt;et===1?F=3:et>=.5?F=2:et>0&&(F=1)}O.push({date:L,dayNum:D,dateStr:C,intensity:F,completedCount:ce,total:Xt})}return{days:O,monthName:N.toLocaleString("default",{month:"long",year:"numeric"})}},[d,T]);return y||!l?w.jsxs("div",{className:"text-center py-20 text-gray-500",children:[w.jsx(cr,{className:"animate-spin inline mr-2"})," Loading profile..."]}):w.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-5 fade-in duration-500",children:[w.jsxs("div",{className:"bg-gray-900 rounded-3xl p-8 border border-gray-800 shadow-xl relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-600/10 blur-3xl rounded-full"}),w.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[w.jsx("div",{className:"w-24 h-24 bg-gradient-to-tr from-orange-500 to-red-600 rounded-2xl flex items-center justify-center text-4xl font-bold text-white mb-5 shadow-2xl shadow-orange-900/40 font-display",children:l.displayName?l.displayName[0].toUpperCase():"U"}),w.jsx("div",{className:"flex items-center gap-3",children:x&&r?w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("input",{autoFocus:!0,type:"text",value:Y,onChange:ct=>W(ct.target.value),className:"bg-gray-800 border border-gray-700 text-white px-3 py-1 rounded-lg text-lg font-bold outline-none focus:border-orange-500 w-48 text-center font-display"}),w.jsx("button",{onClick:at,disabled:J,className:"p-2 bg-green-600 hover:bg-green-500 rounded-lg text-white",children:J?w.jsx(cr,{size:18,className:"animate-spin"}):w.jsx(bx,{size:18})}),w.jsx("button",{onClick:()=>k(!1),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:w.jsx(Rh,{size:18})})]}):w.jsxs(w.Fragment,{children:[w.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight font-display",children:l.displayName}),r&&w.jsx("button",{onClick:()=>k(!0),className:"p-1.5 text-gray-500 hover:text-white hover:bg-white/10 rounded-full transition-colors",children:w.jsx(O1,{size:16})})]})}),w.jsx("p",{className:"text-gray-500 text-sm mt-1",children:r?l.email:"Squad Member"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[w.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-2xl text-center border border-gray-800",children:[w.jsx("div",{className:"text-gray-500 text-xs mb-1 uppercase tracking-wider font-semibold font-display",children:"Coins"}),w.jsxs("div",{className:"text-2xl font-bold text-yellow-500 flex justify-center items-center gap-2 font-display",children:[w.jsx(Jh,{size:20})," ",l.coins||0]})]}),w.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-2xl text-center border border-gray-800",children:[w.jsx("div",{className:"text-gray-500 text-xs mb-1 uppercase tracking-wider font-semibold font-display",children:"Cheers"}),w.jsxs("div",{className:"text-2xl font-bold text-pink-500 flex justify-center items-center gap-2 font-display",children:[w.jsx(Ug,{size:20})," ",l.cheers||0]})]})]})]}),w.jsxs("div",{className:"bg-gray-900 rounded-3xl p-6 border border-gray-800",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(ex,{className:"text-orange-500",size:20}),w.jsx("h3",{className:"text-lg font-bold text-white font-display",children:"History"})]}),w.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 rounded-lg p-1",children:[w.jsx("button",{onClick:()=>S(Math.min(2,T+1)),disabled:T>=2,className:"p-1 text-gray-400 hover:text-white disabled:opacity-30",children:w.jsx(sx,{size:16})}),w.jsx("span",{className:"text-xs font-bold w-24 text-center font-display",children:st.monthName}),w.jsx("button",{onClick:()=>S(Math.max(0,T-1)),disabled:T<=0,className:"p-1 text-gray-400 hover:text-white disabled:opacity-30",children:w.jsx(ax,{size:16})})]})]}),w.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["S","M","T","W","T","F","S"].map((ct,It)=>w.jsx("div",{className:"text-center text-[10px] text-gray-600 font-bold font-display",children:ct},It)),Array.from({length:st.days[0]?.date.getDay()||0}).map((ct,It)=>w.jsx("div",{},`empty-${It}`)),st.days.map(ct=>w.jsx("div",{className:`
                   aspect-square rounded-md flex items-center justify-center text-xs font-medium transition-all font-display
                   ${ct.intensity===3?"bg-green-500 text-black shadow-[0_0_8px_rgba(34,197,94,0.4)]":ct.intensity===2?"bg-green-700 text-green-100":ct.intensity===1?"bg-green-900/60 text-green-500":"bg-gray-800 text-gray-600"}
                 `,title:`${ct.dateStr}: ${ct.completedCount} / ${ct.total}`,children:ct.dayNum},ct.dateStr))]})]})]})},jx=({user:s,appId:t,setShowAddHabit:n,showToast:r,onEditHabit:l})=>{const[u,d]=dt.useState([]),[g,y]=dt.useState(!0),[p,T]=dt.useState(null);dt.useEffect(()=>{const k=mo(tr(Ee,"artifacts",t,"public","data","habits"),Dg("uid","==",s.uid)),Y=ur(k,W=>{const J=W.docs.map(tt=>({id:tt.id,...tt.data()}));J.sort((tt,at)=>{const st=zl(tt),ct=zl(at);return st!==ct?st?1:-1:new Date(at.createdAt)-new Date(tt.createdAt)}),d(J),y(!1)},W=>{y(!1)});return()=>Y()},[s,t]);const S=async k=>{const Y=Lg(),W=zl(k),J=Cn(Ee,"artifacts",t,"public","data","habits",k.id),tt=Cn(Ee,"artifacts",t,"public","data","users",s.uid);try{if(W){let at=(k.history||[]).filter(It=>It!==Y);at.sort((It,At)=>new Date(It)-new Date(At));const st=G0(at,k.frequency),ct=at.length>0?at[at.length-1]:null;await eu(J,{lastCompleted:ct,streak:st,history:at,totalCompletions:Ll(-1)}),await wh(tt,{coins:Ll(-10),uid:s.uid},{merge:!0}),r("Undo successful.","info")}else{const at=[...k.history||[],Y],st=G0(at,k.frequency);await eu(J,{lastCompleted:Y,streak:st,history:zN(Y),totalCompletions:Ll(1)}),await wh(tt,{coins:Ll(10),uid:s.uid},{merge:!0}),r(`+10 Coins! Streak: ${st}`,"success")}}catch(at){console.error(at),r("Action failed.","error")}},x=async()=>{if(p)try{await R1(Cn(Ee,"artifacts",t,"public","data","habits",p)),r("Habit deleted.","info")}catch{r("Failed to delete.","error")}finally{T(null)}};return g?w.jsxs("div",{className:"text-center py-20 text-gray-500",children:[w.jsx(cr,{className:"animate-spin inline mr-2"})," Loading habits..."]}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex justify-between items-center px-1",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight font-display",children:"Daily Targets"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"Consistent action creates results."})]}),w.jsx("button",{onClick:()=>n(!0),className:"bg-orange-600 hover:bg-orange-500 text-white p-3 rounded-xl shadow-lg shadow-orange-900/20 transition-all hover:scale-105",children:w.jsx(Ex,{size:20})})]}),w.jsx(Ux,{isOpen:!!p,title:"Delete Habit?",message:"This action cannot be undone. You will lose your streak.",onConfirm:x,onCancel:()=>T(null)}),u.length===0?w.jsxs("div",{className:"text-center py-16 bg-white/5 rounded-3xl border border-white/5 border-dashed",children:[w.jsx("div",{className:"bg-gray-800 inline-block p-4 rounded-full mb-4",children:w.jsx(Rx,{size:32,className:"text-gray-500"})}),w.jsx("p",{className:"text-gray-400 mb-6 font-medium",children:"No habits yet. Start small."}),w.jsx("button",{onClick:()=>n(!0),className:"text-orange-400 font-semibold hover:text-orange-300 transition-colors font-display",children:"Create your first habit"})]}):w.jsx("div",{className:"grid gap-4",children:u.map(k=>{const Y=zl(k),W=k.frequency?.type||"daily";let J="Daily";if(W==="weekly"&&(J="Weekly"),W==="monthly"&&(J="Monthly"),W==="custom"){const tt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];J=k.frequency.days.map(at=>tt[parseInt(at)]).join(", ")}return w.jsx("div",{className:`group relative bg-gray-900 rounded-2xl p-5 border transition-all duration-300 ${Y?"border-green-500/20 bg-green-900/5":"border-gray-800 hover:border-gray-700"}`,children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[w.jsx("div",{className:"flex items-center gap-2 mb-1",children:w.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-500 bg-gray-800 px-2 py-0.5 rounded tracking-wider",children:J})}),w.jsx("h3",{className:`font-bold text-lg truncate font-display ${Y?"text-gray-400 line-through decoration-gray-600":"text-gray-100"}`,children:k.title}),k.description&&w.jsx("p",{className:"text-sm text-gray-500 mt-0.5 line-clamp-1",children:k.description}),w.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[w.jsxs("div",{className:`flex items-center gap-1.5 text-sm font-medium ${k.streak>0?"text-orange-500":"text-gray-600"}`,children:[w.jsx(kg,{size:16,className:k.streak>0?"fill-current":""}),w.jsx("span",{className:"font-display",children:k.streak||0})]}),w.jsxs("div",{className:"text-xs text-gray-600 font-mono pt-0.5",children:["Total: ",k.totalCompletions||0]})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:tt=>{tt.stopPropagation(),l(k)},className:"w-12 h-12 rounded-xl flex items-center justify-center bg-gray-800 text-gray-500 hover:bg-gray-700 hover:text-white transition-colors",children:w.jsx(O1,{size:20})}),w.jsx("button",{onClick:tt=>{tt.stopPropagation(),T(k.id)},className:"w-12 h-12 rounded-xl flex items-center justify-center bg-gray-800 text-gray-500 hover:bg-red-900/20 hover:text-red-500 transition-colors",children:w.jsx(Sx,{size:20})}),w.jsx("button",{onClick:()=>S(k),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all ${Y?"bg-green-500 text-white shadow-lg shadow-green-900/20 hover:bg-green-600":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:Y?w.jsx(Nx,{size:20}):w.jsx(D1,{size:24})})]})]})},k.id)})})]})},Bx=({onClose:s,user:t,appId:n,showToast:r,habitToEdit:l})=>{const[u,d]=dt.useState(l?l.title:""),[g,y]=dt.useState(l?l.description:""),[p,T]=dt.useState(l?.frequency?.type||"daily"),[S,x]=dt.useState(l?.frequency?.days||[]),[k,Y]=dt.useState(!1),W=tt=>{const at=tt.toString();S.includes(at)?x(S.filter(st=>st!==at)):x([...S,at])},J=async tt=>{if(tt.preventDefault(),!u.trim()||k)return;if(p==="custom"&&S.length===0){r("Select at least one day","error");return}Y(!0);const at={type:p,days:p==="custom"?S:[]};try{if(l){const st=Cn(Ee,"artifacts",n,"public","data","habits",l.id);await eu(st,{title:u,description:g,frequency:at}),r("Habit updated!","success")}else await C1(tr(Ee,"artifacts",n,"public","data","habits"),{uid:t.uid,title:u,description:g,frequency:at,streak:0,lastCompleted:null,history:[],createdAt:new Date().toISOString(),totalCompletions:0}),r("Habit added!","success");s()}catch(st){console.error(st),r("Failed to save habit","error")}finally{Y(!1)}};return w.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:w.jsxs("div",{className:"bg-gray-900 rounded-2xl w-full max-w-sm p-6 border border-gray-800 shadow-2xl",children:[w.jsx("h3",{className:"text-xl font-bold text-white mb-4 font-display",children:l?"Edit Habit":"New Habit"}),w.jsxs("form",{onSubmit:J,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wider",children:"Title"}),w.jsx("input",{autoFocus:!0,type:"text",className:"w-full bg-gray-950 border border-gray-700 rounded-xl px-4 py-3 text-white focus:border-orange-500 focus:outline-none placeholder-gray-700",placeholder:"e.g., Read for 15 mins",value:u,onChange:tt=>d(tt.target.value),disabled:k})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wider",children:"Description (Optional)"}),w.jsx("input",{type:"text",className:"w-full bg-gray-950 border border-gray-700 rounded-xl px-4 py-3 text-white focus:border-orange-500 focus:outline-none placeholder-gray-700",placeholder:"e.g., 10 pages of non-fiction",value:g,onChange:tt=>y(tt.target.value),disabled:k})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wider",children:"Frequency"}),w.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:["daily","weekly","monthly","custom"].map(tt=>w.jsx("button",{type:"button",onClick:()=>T(tt),className:`text-xs font-medium py-2 rounded-lg capitalize transition-colors ${p===tt?"bg-orange-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:tt},tt))}),p==="custom"&&w.jsx("div",{className:"flex justify-between gap-1",children:["S","M","T","W","T","F","S"].map((tt,at)=>w.jsx("button",{type:"button",onClick:()=>W(at),className:`w-8 h-8 rounded-full text-xs font-bold transition-all ${S.includes(at.toString())?"bg-orange-600 text-white":"bg-gray-800 text-gray-500 hover:bg-gray-700"}`,children:tt},at))})]}),w.jsxs("div",{className:"flex gap-3 pt-2",children:[w.jsx("button",{type:"button",onClick:s,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-white py-2.5 rounded-xl font-medium transition-colors font-display",disabled:k,children:"Cancel"}),w.jsx("button",{type:"submit",className:"flex-1 bg-orange-600 hover:bg-orange-500 text-white py-2.5 rounded-xl font-medium transition-colors flex justify-center items-center font-display tracking-wide",disabled:k,children:k?w.jsx(cr,{className:"animate-spin",size:20}):l?"Save Changes":"Start Tracking"})]})]})]})})},qx=({user:s,appId:t,showToast:n})=>{const[r,l]=dt.useState([]),[u,d]=dt.useState(!0),[g,y]=dt.useState(null),[p,T]=dt.useState([]);dt.useEffect(()=>{const k=mo(tr(Ee,"artifacts",t,"public","data","users")),Y=ur(k,W=>{const J=W.docs.map(tt=>tt.data()).filter(tt=>tt.uid!==s.uid);l(J),d(!1)},W=>{d(!1)});return()=>Y()},[t,s]),dt.useEffect(()=>{let k=()=>{};if(g){T([]);const Y=mo(tr(Ee,"artifacts",t,"public","data","habits"),Dg("uid","==",g));k=ur(Y,W=>{const J=W.docs.map(tt=>({id:tt.id,...tt.data()}));T(J)})}return()=>k()},[g,t]);const S=k=>{y(g===k?null:k)},x=async(k,Y)=>{k.stopPropagation();try{const W=Cn(Ee,"artifacts",t,"public","data","users",Y.uid);await eu(W,{cheers:Ll(1)}),await C1(tr(Ee,"artifacts",t,"public","data","users",Y.uid,"notifications"),{type:"cheer",from:s.displayName||"Someone",fromUid:s.uid,timestamp:new Date().toISOString()}),n(`Cheered ${Y.displayName}!`,"success")}catch(W){console.error(W),n("Failed to send cheer.","error")}};return u?w.jsxs("div",{className:"text-center py-20 text-gray-500",children:[w.jsx(cr,{className:"animate-spin inline mr-2"})," Finding squad..."]}):w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{className:"flex justify-between items-center px-1",children:w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight font-display",children:"Squad"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"Tap a friend to see their habits."})]})}),r.length===0?w.jsxs("div",{className:"text-center py-16 bg-white/5 rounded-3xl border border-white/5 border-dashed",children:[w.jsx("div",{className:"bg-gray-800 inline-block p-4 rounded-full mb-4",children:w.jsx(V1,{size:32,className:"text-gray-500"})}),w.jsx("p",{className:"text-gray-500",children:"No one else is here yet."})]}):r.map(k=>w.jsxs("div",{className:"bg-gray-900 rounded-2xl overflow-hidden border border-gray-800 mb-3 transition-colors",children:[w.jsxs("div",{onClick:()=>S(k.uid),className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-800/50",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-tr from-gray-700 to-gray-600 flex items-center justify-center font-bold text-lg text-white shadow-inner font-display",children:k.displayName?k.displayName[0].toUpperCase():"?"}),w.jsxs("div",{children:[w.jsx("div",{className:"font-bold text-white text-base",children:k.displayName}),w.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-3 mt-1 font-medium",children:[w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(Jh,{size:12,className:"text-yellow-500"}),k.coins||0]}),w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(Ug,{size:12,className:"text-pink-500"}),k.cheers||0," cheers"]})]})]})]}),w.jsx("div",{className:"flex items-center gap-2",children:w.jsx("button",{onClick:Y=>x(Y,k),className:"bg-pink-500/10 hover:bg-pink-500/20 text-pink-500 p-2.5 rounded-xl transition-colors active:scale-95 border border-pink-500/20",title:"Send Cheer",children:w.jsx(k1,{size:20,className:k.cheers>0?"fill-current":""})})})]}),g===k.uid&&w.jsxs("div",{className:"px-4 pb-4 pt-0 bg-gray-900 animate-in slide-in-from-top-2",children:[w.jsx("div",{className:"h-px w-full bg-gray-800 mb-3"}),w.jsx("h4",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest mb-2 font-display",children:"Today's Habits"}),p.length===0?w.jsx("p",{className:"text-sm text-gray-600 italic",children:"No public habits found."}):w.jsx("div",{className:"space-y-2",children:p.map(Y=>{const W=zl(Y);return w.jsxs("div",{className:"flex items-center justify-between bg-gray-950/50 p-2.5 rounded-xl border border-gray-800",children:[w.jsx("span",{className:`text-sm font-medium ${W?"text-gray-400 line-through":"text-gray-200"}`,children:Y.title}),W?w.jsx("div",{className:"bg-green-500/10 text-green-500 p-1 rounded-full",children:w.jsx(x1,{size:14,strokeWidth:3})}):w.jsx("div",{className:"bg-gray-800 text-gray-600 p-1 rounded-full",children:w.jsx(hx,{size:14})})]},Y.id)})})]})]},k.uid))]})},Hx=({user:s,appId:t,onSelectFriend:n})=>{const[r,l]=dt.useState([]),[u,d]=dt.useState(!0);return dt.useEffect(()=>{const g=mo(tr(Ee,"artifacts",t,"public","data","users")),y=ur(g,p=>{const T=p.docs.map(S=>S.data());T.sort((S,x)=>(x.coins||0)-(S.coins||0)),l(T),d(!1)},p=>{d(!1)});return()=>y()},[t]),u?w.jsxs("div",{className:"text-center py-20 text-gray-500",children:[w.jsx(cr,{className:"animate-spin inline mr-2"})," Loading ranks..."]}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"text-center py-6",children:[w.jsxs("div",{className:"relative inline-block mb-3",children:[w.jsx(M1,{size:40,className:"text-yellow-500"}),w.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-yellow-400 rounded-full animate-ping"})]}),w.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight font-display",children:"Leaderboard"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"Top earners this week."})]}),w.jsx("div",{className:"bg-gray-900 rounded-3xl overflow-hidden border border-gray-800 shadow-xl",children:r.length===0?w.jsx("div",{className:"p-8 text-center text-gray-500",children:"No data yet."}):r.map((g,y)=>w.jsxs("div",{onClick:()=>g.uid!==s.uid&&n(g.uid),className:`flex items-center p-4 border-b border-gray-800 last:border-0 ${g.uid===s.uid?"bg-white/5 cursor-default":"cursor-pointer hover:bg-white/5"} transition-colors`,children:[w.jsx("div",{className:`w-8 h-8 flex items-center justify-center rounded-lg font-bold mr-4 text-sm font-display ${y===0?"bg-yellow-500 text-black shadow-lg shadow-yellow-500/20":y===1?"bg-gray-300 text-black":y===2?"bg-amber-700 text-white":"text-gray-600 bg-gray-800"}`,children:y+1}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"font-bold text-white flex items-center gap-2 text-sm",children:[g.displayName,g.uid===s.uid&&w.jsx("span",{className:"text-[10px] bg-orange-600/20 text-orange-400 px-1.5 py-0.5 rounded uppercase tracking-wider font-bold",children:"You"})]}),w.jsxs("div",{className:"text-[10px] text-gray-600 font-medium uppercase tracking-wide mt-0.5",children:["Joined"," ",new Date(g.joinedAt).toLocaleDateString(void 0,{month:"short",year:"2-digit"})]})]}),w.jsxs("div",{className:"font-mono font-bold text-yellow-500 flex items-center gap-1.5 bg-yellow-500/10 px-2 py-1 rounded-lg",children:[g.coins||0," ",w.jsx(Jh,{size:12,className:"fill-current"})]})]},g.uid))})]})};AA.createRoot(document.getElementById("root")).render(w.jsx(dt.StrictMode,{children:w.jsx(Px,{})}));
