(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Wd={exports:{}},Nl={};var f0;function vS(){if(f0)return Nl;f0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var d0;function ES(){return d0||(d0=1,Wd.exports=vS()),Wd.exports}var A=ES(),em={exports:{}},Te={};var m0;function TS(){if(m0)return Te;m0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=I&&V[I]||V["@@iterator"],typeof V=="function"?V:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,X={};function ee(V,J,se){this.props=V,this.context=J,this.refs=X,this.updater=se||Y}ee.prototype.isReactComponent={},ee.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},ee.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ae(){}ae.prototype=ee.prototype;function ie(V,J,se){this.props=V,this.context=J,this.refs=X,this.updater=se||Y}var ce=ie.prototype=new ae;ce.constructor=ie,Z(ce,ee.prototype),ce.isPureReactComponent=!0;var Ie=Array.isArray;function Se(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(V,J,se){var le=se.ref;return{$$typeof:s,type:V,key:J,ref:le!==void 0?le:null,props:se}}function O(V,J){return R(V.type,J,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function L(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(se){return J[se]})}var C=/\/+/g;function Xe(V,J){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):J.toString(36)}function ht(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Se,Se):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,J,se,le,ve){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Re){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case s:case e:Le=!0;break;case E:return Le=V._init,F(Le(V._payload),J,se,le,ve)}}if(Le)return ve=ve(V),Le=le===""?"."+Xe(V,0):le,Ie(ve)?(se="",Le!=null&&(se=Le.replace(C,"$&/")+"/"),F(ve,J,se,"",function(pr){return pr})):ve!=null&&(D(ve)&&(ve=O(ve,se+(ve.key==null||V&&V.key===ve.key?"":(""+ve.key).replace(C,"$&/")+"/")+Le)),J.push(ve)),1;Le=0;var Mt=le===""?".":le+":";if(Ie(V))for(var ot=0;ot<V.length;ot++)le=V[ot],Re=Mt+Xe(le,ot),Le+=F(le,J,se,Re,ve);else if(ot=k(V),typeof ot=="function")for(V=ot.call(V),ot=0;!(le=V.next()).done;)le=le.value,Re=Mt+Xe(le,ot++),Le+=F(le,J,se,Re,ve);else if(Re==="object"){if(typeof V.then=="function")return F(ht(V),J,se,le,ve);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Le}function te(V,J,se){if(V==null)return V;var le=[],ve=0;return F(V,le,"","",function(Re){return J.call(se,Re,ve++)}),le}function ge(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(se){(V._status===0||V._status===-1)&&(V._status=1,V._result=se)},function(se){(V._status===0||V._status===-1)&&(V._status=2,V._result=se)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:te,forEach:function(V,J,se){te(V,function(){J.apply(this,arguments)},se)},count:function(V){var J=0;return te(V,function(){J++}),J},toArray:function(V){return te(V,function(J){return J})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Te.Activity=S,Te.Children=Ge,Te.Component=ee,Te.Fragment=n,Te.Profiler=l,Te.PureComponent=ie,Te.StrictMode=r,Te.Suspense=y,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Te.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},Te.cache=function(V){return function(){return V.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(V,J,se){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=Z({},V.props),ve=V.key;if(J!=null)for(Re in J.key!==void 0&&(ve=""+J.key),J)!w.call(J,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&J.ref===void 0||(le[Re]=J[Re]);var Re=arguments.length-2;if(Re===1)le.children=se;else if(1<Re){for(var Le=Array(Re),Mt=0;Mt<Re;Mt++)Le[Mt]=arguments[Mt+2];le.children=Le}return R(V.type,ve,le)},Te.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Te.createElement=function(V,J,se){var le,ve={},Re=null;if(J!=null)for(le in J.key!==void 0&&(Re=""+J.key),J)w.call(J,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ve[le]=J[le]);var Le=arguments.length-2;if(Le===1)ve.children=se;else if(1<Le){for(var Mt=Array(Le),ot=0;ot<Le;ot++)Mt[ot]=arguments[ot+2];ve.children=Mt}if(V&&V.defaultProps)for(le in Le=V.defaultProps,Le)ve[le]===void 0&&(ve[le]=Le[le]);return R(V,Re,ve)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(V){return{$$typeof:g,render:V}},Te.isValidElement=D,Te.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ge}},Te.memo=function(V,J){return{$$typeof:p,type:V,compare:J===void 0?null:J}},Te.startTransition=function(V){var J=x.T,se={};x.T=se;try{var le=V(),ve=x.S;ve!==null&&ve(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Se,je)}catch(Re){je(Re)}finally{J!==null&&se.types!==null&&(J.types=se.types),x.T=J}},Te.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Te.use=function(V){return x.H.use(V)},Te.useActionState=function(V,J,se){return x.H.useActionState(V,J,se)},Te.useCallback=function(V,J){return x.H.useCallback(V,J)},Te.useContext=function(V){return x.H.useContext(V)},Te.useDebugValue=function(){},Te.useDeferredValue=function(V,J){return x.H.useDeferredValue(V,J)},Te.useEffect=function(V,J){return x.H.useEffect(V,J)},Te.useEffectEvent=function(V){return x.H.useEffectEvent(V)},Te.useId=function(){return x.H.useId()},Te.useImperativeHandle=function(V,J,se){return x.H.useImperativeHandle(V,J,se)},Te.useInsertionEffect=function(V,J){return x.H.useInsertionEffect(V,J)},Te.useLayoutEffect=function(V,J){return x.H.useLayoutEffect(V,J)},Te.useMemo=function(V,J){return x.H.useMemo(V,J)},Te.useOptimistic=function(V,J){return x.H.useOptimistic(V,J)},Te.useReducer=function(V,J,se){return x.H.useReducer(V,J,se)},Te.useRef=function(V){return x.H.useRef(V)},Te.useState=function(V){return x.H.useState(V)},Te.useSyncExternalStore=function(V,J,se){return x.H.useSyncExternalStore(V,J,se)},Te.useTransition=function(){return x.H.useTransition()},Te.version="19.2.4",Te}var g0;function Km(){return g0||(g0=1,em.exports=TS()),em.exports}var fe=Km(),tm={exports:{}},xl={},nm={exports:{}},im={};var p0;function bS(){return p0||(p0=1,(function(s){function e(F,te){var ge=F.length;F.push(te);e:for(;0<ge;){var je=ge-1>>>1,Ge=F[je];if(0<l(Ge,te))F[je]=te,F[ge]=Ge,ge=je;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var te=F[0],ge=F.pop();if(ge!==te){F[0]=ge;e:for(var je=0,Ge=F.length,V=Ge>>>1;je<V;){var J=2*(je+1)-1,se=F[J],le=J+1,ve=F[le];if(0>l(se,ge))le<Ge&&0>l(ve,se)?(F[je]=ve,F[le]=ge,je=le):(F[je]=se,F[J]=ge,je=J);else if(le<Ge&&0>l(ve,ge))F[je]=ve,F[le]=ge,je=le;else break e}}return te}function l(F,te){var ge=F.sortIndex-te.sortIndex;return ge!==0?ge:F.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],p=[],E=1,S=null,I=3,k=!1,Y=!1,Z=!1,X=!1,ee=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ce(F){for(var te=n(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=F)r(p),te.sortIndex=te.expirationTime,e(y,te);else break;te=n(p)}}function Ie(F){if(Z=!1,ce(F),!Y)if(n(y)!==null)Y=!0,Se||(Se=!0,L());else{var te=n(p);te!==null&&ht(Ie,te.startTime-F)}}var Se=!1,x=-1,w=5,R=-1;function O(){return X?!0:!(s.unstable_now()-R<w)}function D(){if(X=!1,Se){var F=s.unstable_now();R=F;var te=!0;try{e:{Y=!1,Z&&(Z=!1,ae(x),x=-1),k=!0;var ge=I;try{t:{for(ce(F),S=n(y);S!==null&&!(S.expirationTime>F&&O());){var je=S.callback;if(typeof je=="function"){S.callback=null,I=S.priorityLevel;var Ge=je(S.expirationTime<=F);if(F=s.unstable_now(),typeof Ge=="function"){S.callback=Ge,ce(F),te=!0;break t}S===n(y)&&r(y),ce(F)}else r(y);S=n(y)}if(S!==null)te=!0;else{var V=n(p);V!==null&&ht(Ie,V.startTime-F),te=!1}}break e}finally{S=null,I=ge,k=!1}te=void 0}}finally{te?L():Se=!1}}}var L;if(typeof ie=="function")L=function(){ie(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Xe=C.port2;C.port1.onmessage=D,L=function(){Xe.postMessage(null)}}else L=function(){ee(D,0)};function ht(F,te){x=ee(function(){F(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(F){switch(I){case 1:case 2:case 3:var te=3;break;default:te=I}var ge=I;I=te;try{return F()}finally{I=ge}},s.unstable_requestPaint=function(){X=!0},s.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ge=I;I=F;try{return te()}finally{I=ge}},s.unstable_scheduleCallback=function(F,te,ge){var je=s.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,F){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ge+Ge,F={id:E++,callback:te,priorityLevel:F,startTime:ge,expirationTime:Ge,sortIndex:-1},ge>je?(F.sortIndex=ge,e(p,F),n(y)===null&&F===n(p)&&(Z?(ae(x),x=-1):Z=!0,ht(Ie,ge-je))):(F.sortIndex=Ge,e(y,F),Y||k||(Y=!0,Se||(Se=!0,L()))),F},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(F){var te=I;return function(){var ge=I;I=te;try{return F.apply(this,arguments)}finally{I=ge}}}})(im)),im}var y0;function SS(){return y0||(y0=1,nm.exports=bS()),nm.exports}var sm={exports:{}},$t={};var _0;function AS(){if(_0)return $t;_0=1;var s=Km();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:p,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,E)},$t.flushSync=function(y){var p=d.T,E=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=p,r.p=E,r.d.f()}},$t.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},$t.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},$t.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,S=g(E,p.crossOrigin),I=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:k}):E==="script"&&r.d.X(y,{crossOrigin:S,integrity:I,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$t.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},$t.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=g(E,p.crossOrigin);r.d.L(y,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$t.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=g(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},$t.requestFormReset=function(y){r.d.r(y)},$t.unstable_batchedUpdates=function(y,p){return y(p)},$t.useFormState=function(y,p,E){return d.H.useFormState(y,p,E)},$t.useFormStatus=function(){return d.H.useHostTransitionStatus()},$t.version="19.2.4",$t}var v0;function wS(){if(v0)return sm.exports;v0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),sm.exports=AS(),sm.exports}var E0;function RS(){if(E0)return xl;E0=1;var s=SS(),e=Km(),n=wS();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,o=f;break}if(T===o){_=!0,o=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,o=h;break}if(T===o){_=!0,o=f,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ee:return"Profiler";case X:return"StrictMode";case Ie:return"Suspense";case Se:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case ie:return t.displayName||"Context";case ae:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Xe(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Xe(t(i))}catch{}}return null}var ht=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function V(t){return{current:t}}function J(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function se(t,i){Ge++,je[Ge]=t.current,t.current=i}var le=V(null),ve=V(null),Re=V(null),Le=V(null);function Mt(t,i){switch(se(Re,i),se(ve,t),se(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?k_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=k_(i),t=U_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(le),se(le,t)}function ot(){J(le),J(ve),J(Re)}function pr(t){t.memoizedState!==null&&se(Le,t);var i=le.current,a=U_(i,t.type);i!==a&&(se(ve,t),se(le,a))}function ra(t){ve.current===t&&(J(le),J(ve)),Le.current===t&&(J(Le),wl._currentValue=ge)}var aa,oa;function ri(t){if(aa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);aa=i&&i[1]||"",oa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+t+oa}var wo=!1;function yr(t,i){if(!t||wo)return"";wo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){B=H}t.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var N=_.split(`
`),z=T.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===z.length)for(o=N.length-1,h=z.length-1;1<=o&&0<=h&&N[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==z[h]){var G=`
`+N[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{wo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function Ro(t,i){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return yr(t.type,!1);case 11:return yr(t.type.render,!1);case 1:return yr(t.type,!0);case 31:return ri("Activity");default:return""}}function Co(t){try{var i="",a=null;do i+=Ro(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Tt=Object.prototype.hasOwnProperty,Vt=s.unstable_scheduleCallback,fs=s.unstable_cancelCallback,ef=s.unstable_shouldYield,yu=s.unstable_requestPaint,tn=s.unstable_now,_r=s.unstable_getCurrentPriorityLevel,Io=s.unstable_ImmediatePriority,No=s.unstable_UserBlockingPriority,ds=s.unstable_NormalPriority,tf=s.unstable_LowPriority,_u=s.unstable_IdlePriority,vu=s.log,Eu=s.unstable_setDisableYieldValue,Hn=null,Bt=null;function Nn(t){if(typeof vu=="function"&&Eu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Hn,t)}catch{}}var pt=Math.clz32?Math.clz32:bu,Tu=Math.log,la=Math.LN2;function bu(t){return t>>>=0,t===0?32:31-(Tu(t)/la|0)|0}var ai=256,vr=262144,bt=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=oi(o):(_&=T,_!==0?h=oi(_):a||(a=T&~t,a!==0&&(h=oi(a))))):(T=o&~f,T!==0?h=oi(T):_!==0?h=oi(_):a||(a=o&~t,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function nf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Er(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function sf(t,i,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-pt(a),$=1<<G;T[G]=0,N[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&Tr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function Tr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-pt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function xo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-pt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Do(t,i){var a=i&-i;return a=(a&42)!==0?1:br(a),(a&(t.suspendedLanes|i))!==0?0:a}function br(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Au(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:r0(t.type))}function Gn(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var Yn=Math.random().toString(36).slice(2),St="__reactFiber$"+Yn,Lt="__reactProps$"+Yn,ci="__reactContainer$"+Yn,ua="__reactEvents$"+Yn,rf="__reactListeners$"+Yn,wu="__reactHandles$"+Yn,Ru="__reactResources$"+Yn,hi="__reactMarker$"+Yn;function ca(t){delete t[St],delete t[Lt],delete t[ua],delete t[rf],delete t[wu]}function fi(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ci]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=H_(t);t!==null;){if(a=t[St])return a;t=H_(t)}return i}t=a,a=t.parentNode}return null}function xn(t){if(t=t[St]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function di(t){var i=t[Ru];return i||(i=t[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[hi]=!0}var Oo=new Set,Mo={};function mi(t,i){gi(t,i),gi(t+"Capture",i)}function gi(t,i){for(Mo[t]=i,t=0;t<i.length;t++)Oo.add(i[t])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Uo={};function Cu(t){return Tt.call(Uo,t)?!0:Tt.call(ko,t)?!1:Vo.test(t)?Uo[t]=!0:(ko[t]=!0,!1)}function ha(t,i,a){if(Cu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function _n(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ms(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=ms(t)?"checked":"value";t._valueTracker=Lo(t,i,""+t[i])}}function Sr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=ms(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ar=/[\n"\\]/g;function on(t){return t.replace(Ar,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fa(t,i,a,o,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Po(t,_,Pt(i)):a!=null?Po(t,_,Pt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function Iu(t,i,a,o,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function Po(t,i,a){i==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function gs(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Nu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function ps(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(ht(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ye(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||xu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function zo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&jo(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&jo(t,f,i[f])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return ys.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var Bo=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _s=null,yi=null;function wr(t){var i=xn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Lt]||null;if(!h)throw Error(r(90));fa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Sr(o)}break e;case"textarea":Nu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&gs(t,!!a.multiple,i,!1)}}}var ga=!1;function vs(t,i,a){if(ga)return t(i,a);ga=!0;try{var o=t(i);return o}finally{if(ga=!1,(_s!==null||yi!==null)&&(Ac(),_s&&(i=_s,t=yi,yi=_s=null,wr(i),t)))for(i=0;i<t.length;i++)wr(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Lt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(On)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Rr=!1}var _i=null,qo=null,Cr=null;function Ho(){if(Cr)return Cr;var t,i=qo,a=i.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return Cr=h.slice(t,1<o?1-o:void 0)}function Ir(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Xn(){return!1}function qt(t){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:Xn,this.isPropagationStopped=Xn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=qt(Pi),Es=S({},Pi,{view:0,detail:0}),Fo=qt(Es),Ts,pa,Ei,ya=S({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Ts=t.screenX-Ei.screenX,pa=t.screenY-Ei.screenY):pa=Ts=0,Ei=t),Ts)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),Go=qt(ya),Nr=S({},ya,{dataTransfer:0}),Ou=qt(Nr),Mu=S({},Es,{relatedTarget:0}),xr=qt(Mu),Yo=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vu=qt(Yo),_a=S({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ku=qt(_a),Uu=S({},Pi,{data:0}),Ti=qt(Uu),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ju[t])?!!i[t]:!1}function bs(){return zu}var nn=S({},Es,{key:function(t){if(t.key){var i=Lu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ir(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(t){return t.type==="keypress"?Ir(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ir(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bu=qt(nn),qu=S({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=qt(qu),c=S({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),m=qt(c),v=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=qt(v),P=S({},ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=qt(P),ne=S({},Pi,{newState:0,oldState:0}),Ae=qt(ne),yt=[9,13,27,32],qe=On&&"CompositionEvent"in window,lt=null;On&&"documentMode"in document&&(lt=document.documentMode);var Mn=On&&"TextEvent"in window&&!lt,bi=On&&(!qe||lt&&8<lt&&11>=lt),$n=" ",Jn=!1;function Dr(t,i){switch(t){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function H1(t,i){switch(t){case"compositionend":return va(i);case"keypress":return i.which!==32?null:(Jn=!0,$n);case"textInput":return t=i.data,t===$n&&Jn?null:t;default:return null}}function F1(t,i){if(Ea)return t==="compositionend"||!qe&&Dr(t,i)?(t=Ho(),Cr=qo=_i=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var G1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!G1[t.type]:i==="textarea"}function Kg(t,i,a,o){_s?yi?yi.push(o):yi=[o]:_s=o,i=Dc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Ko=null,Qo=null;function Y1(t){N_(t,0)}function Hu(t){var i=yn(t);if(Sr(i))return t}function Qg(t,i){if(t==="change")return i}var Xg=!1;if(On){var af;if(On){var of="oninput"in document;if(!of){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),of=typeof $g.oninput=="function"}af=of}else af=!1;Xg=af&&(!document.documentMode||9<document.documentMode)}function Jg(){Ko&&(Ko.detachEvent("onpropertychange",Zg),Qo=Ko=null)}function Zg(t){if(t.propertyName==="value"&&Hu(Qo)){var i=[];Kg(i,Qo,t,Dn(t)),vs(Y1,i)}}function K1(t,i,a){t==="focusin"?(Jg(),Ko=i,Qo=a,Ko.attachEvent("onpropertychange",Zg)):t==="focusout"&&Jg()}function Q1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(Qo)}function X1(t,i){if(t==="click")return Hu(i)}function $1(t,i){if(t==="input"||t==="change")return Hu(i)}function J1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var vn=typeof Object.is=="function"?Object.is:J1;function Xo(t,i){if(vn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Tt.call(i,h)||!vn(t[h],i[h]))return!1}return!0}function Wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ep(t,i){var a=Wg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wg(a)}}function tp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?tp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function np(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=pi(t.document)}return i}function lf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Z1=On&&"documentMode"in document&&11>=document.documentMode,Ta=null,uf=null,$o=null,cf=!1;function ip(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cf||Ta==null||Ta!==pi(o)||(o=Ta,"selectionStart"in o&&lf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),$o&&Xo($o,o)||($o=o,o=Dc(uf,"onSelect"),0<o.length&&(i=new vi("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Ta)))}function Or(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ba={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},hf={},sp={};On&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Mr(t){if(hf[t])return hf[t];if(!ba[t])return t;var i=ba[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in sp)return hf[t]=i[a];return t}var rp=Mr("animationend"),ap=Mr("animationiteration"),op=Mr("animationstart"),W1=Mr("transitionrun"),eb=Mr("transitionstart"),tb=Mr("transitioncancel"),lp=Mr("transitionend"),up=new Map,ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ff.push("scrollEnd");function Zn(t,i){up.set(t,i),mi(i,[t])}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Sa=0,df=0;function Gu(){for(var t=Sa,i=df=Sa=0;i<t;){var a=Vn[i];Vn[i++]=null;var o=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var f=Vn[i];if(Vn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&cp(a,h,f)}}function Yu(t,i,a,o){Vn[Sa++]=t,Vn[Sa++]=i,Vn[Sa++]=a,Vn[Sa++]=o,df|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function mf(t,i,a,o){return Yu(t,i,a,o),Ku(t)}function Vr(t,i){return Yu(t,null,null,i),Ku(t)}function cp(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-pt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Ku(t){if(50<_l)throw _l=0,Sd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Aa={};function nb(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,a,o){return new nb(t,i,a,o)}function gf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,i){var a=t.alternate;return a===null?(a=En(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function hp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Qu(t,i,a,o,h,f){var _=0;if(o=t,typeof t=="function")gf(t)&&(_=1);else if(typeof t=="string")_=oS(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=En(31,a,i,h),t.elementType=R,t.lanes=f,t;case Z:return kr(a.children,h,f,i);case X:_=8,h|=24;break;case ee:return t=En(12,a,i,h|2),t.elementType=ee,t.lanes=f,t;case Ie:return t=En(13,a,i,h),t.elementType=Ie,t.lanes=f,t;case Se:return t=En(19,a,i,h),t.elementType=Se,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ae:_=9;break e;case ce:_=11;break e;case x:_=14;break e;case w:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=En(_,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function kr(t,i,a,o){return t=En(7,t,o,i),t.lanes=a,t}function pf(t,i,a){return t=En(6,t,null,i),t.lanes=a,t}function fp(t){var i=En(18,null,null,0);return i.stateNode=t,i}function yf(t,i,a){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var dp=new WeakMap;function kn(t,i){if(typeof t=="object"&&t!==null){var a=dp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Co(i)},dp.set(t,i),i)}return{value:t,source:i,stack:Co(i)}}var wa=[],Ra=0,Xu=null,Jo=0,Un=[],Ln=0,Ss=null,Si=1,Ai="";function Bi(t,i){wa[Ra++]=Jo,wa[Ra++]=Xu,Xu=t,Jo=i}function mp(t,i,a){Un[Ln++]=Si,Un[Ln++]=Ai,Un[Ln++]=Ss,Ss=t;var o=Si;t=Ai;var h=32-pt(o)-1;o&=~(1<<h),a+=1;var f=32-pt(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Si=1<<32-pt(i)+h|a<<h|o,Ai=f+t}else Si=1<<f|a<<h|o,Ai=t}function _f(t){t.return!==null&&(Bi(t,1),mp(t,1,0))}function vf(t){for(;t===Xu;)Xu=wa[--Ra],wa[Ra]=null,Jo=wa[--Ra],wa[Ra]=null;for(;t===Ss;)Ss=Un[--Ln],Un[Ln]=null,Ai=Un[--Ln],Un[Ln]=null,Si=Un[--Ln],Un[Ln]=null}function gp(t,i){Un[Ln++]=Si,Un[Ln++]=Ai,Un[Ln++]=Ss,Si=i.id,Ai=i.overflow,Ss=t}var Ht=null,st=null,Ue=!1,As=null,Pn=!1,Ef=Error(r(519));function ws(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(kn(i,t)),Ef}function pp(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[St]=t,i[Lt]=o,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<El.length;a++)xe(El[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),Iu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),ps(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||M_(i.textContent,a)?(o.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),o.onScroll!=null&&xe("scroll",i),o.onScrollEnd!=null&&xe("scrollend",i),o.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||ws(t,!0)}function yp(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ht=Ht.return}}function Ca(t){if(t!==Ht)return!1;if(!Ue)return yp(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Pd(t.type,t.memoizedProps)),a=!a),a&&st&&ws(t),yp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=q_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=q_(t)}else i===27?(i=st,js(t.type)?(t=Hd,Hd=null,st=t):st=i):st=Ht?zn(t.stateNode.nextSibling):null;return!0}function Ur(){st=Ht=null,Ue=!1}function Tf(){var t=As;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),As=null),t}function Zo(t){As===null?As=[t]:As.push(t)}var bf=V(null),Lr=null,qi=null;function Rs(t,i,a){se(bf,i._currentValue),i._currentValue=a}function Hi(t){t._currentValue=bf.current,J(bf)}function Sf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Af(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Sf(f.return,a,t),o||(_=null);break e}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Sf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ia(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;vn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Le.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}h=h.return}t!==null&&Af(i,t,a,o),i.flags|=262144}function $u(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pr(t){Lr=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return _p(Lr,t)}function Ju(t,i){return Lr===null&&Pr(t),_p(t,i)}function _p(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(t===null)throw Error(r(308));qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else qi=qi.next=i;return a}var ib=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},sb=s.unstable_scheduleCallback,rb=s.unstable_NormalPriority,Rt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new ib,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&sb(rb,function(){t.controller.abort()})}var el=null,Rf=0,Na=0,xa=null;function ab(t,i){if(el===null){var a=el=[];Rf=0,Na=Nd(),xa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Rf++,i.then(vp,vp),i}function vp(){if(--Rf===0&&el!==null){xa!==null&&(xa.status="fulfilled");var t=el;el=null,Na=0,xa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ob(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Ep=F.S;F.S=function(t,i){i_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ab(t,i),Ep!==null&&Ep(t,i)};var jr=V(null);function Cf(){var t=jr.current;return t!==null?t:tt.pooledCache}function Zu(t,i){i===null?se(jr,jr.current):se(jr,i.pool)}function Tp(){var t=Cf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Da=Error(r(460)),If=Error(r(474)),Wu=Error(r(542)),ec={then:function(){}};function bp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wp(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wp(t),t}throw Br=i,Da}}function zr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Br=a,Da):a}}var Br=null;function Ap(){if(Br===null)throw Error(r(459));var t=Br;return Br=null,t}function wp(t){if(t===Da||t===Wu)throw Error(r(483))}var Oa=null,tl=0;function tc(t){var i=tl;return tl+=1,Oa===null&&(Oa=[]),Sp(Oa,t,i)}function nl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function nc(t,i){throw i.$$typeof===I?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Rp(t){function i(U,M){if(t){var j=U.deletions;j===null?(U.deletions=[M],U.flags|=16):j.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=zi(U,M),U.index=0,U.sibling=null,U}function f(U,M,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<M?(U.flags|=67108866,M):j):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,j,K){return M===null||M.tag!==6?(M=pf(j,U.mode,K),M.return=U,M):(M=h(M,j),M.return=U,M)}function N(U,M,j,K){var de=j.type;return de===Z?G(U,M,j.props.children,K,j.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&zr(de)===M.type)?(M=h(M,j.props),nl(M,j),M.return=U,M):(M=Qu(j.type,j.key,j.props,null,U.mode,K),nl(M,j),M.return=U,M)}function z(U,M,j,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=yf(j,U.mode,K),M.return=U,M):(M=h(M,j.children||[]),M.return=U,M)}function G(U,M,j,K,de){return M===null||M.tag!==7?(M=kr(j,U.mode,K,de),M.return=U,M):(M=h(M,j),M.return=U,M)}function $(U,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=pf(""+M,U.mode,j),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return j=Qu(M.type,M.key,M.props,null,U.mode,j),nl(j,M),j.return=U,j;case Y:return M=yf(M,U.mode,j),M.return=U,M;case w:return M=zr(M),$(U,M,j)}if(ht(M)||L(M))return M=kr(M,U.mode,j,null),M.return=U,M;if(typeof M.then=="function")return $(U,tc(M),j);if(M.$$typeof===ie)return $(U,Ju(U,M),j);nc(U,M)}return null}function B(U,M,j,K){var de=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:T(U,M,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case k:return j.key===de?N(U,M,j,K):null;case Y:return j.key===de?z(U,M,j,K):null;case w:return j=zr(j),B(U,M,j,K)}if(ht(j)||L(j))return de!==null?null:G(U,M,j,K,null);if(typeof j.then=="function")return B(U,M,tc(j),K);if(j.$$typeof===ie)return B(U,M,Ju(U,j),K);nc(U,j)}return null}function H(U,M,j,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(j)||null,T(M,U,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case k:return U=U.get(K.key===null?j:K.key)||null,N(M,U,K,de);case Y:return U=U.get(K.key===null?j:K.key)||null,z(M,U,K,de);case w:return K=zr(K),H(U,M,j,K,de)}if(ht(K)||L(K))return U=U.get(j)||null,G(M,U,K,de,null);if(typeof K.then=="function")return H(U,M,j,tc(K),de);if(K.$$typeof===ie)return H(U,M,j,Ju(M,K),de);nc(M,K)}return null}function ue(U,M,j,K){for(var de=null,ze=null,he=M,Ce=M=0,Oe=null;he!==null&&Ce<j.length;Ce++){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var Be=B(U,he,j[Ce],K);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&i(U,he),M=f(Be,M,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be,he=Oe}if(Ce===j.length)return a(U,he),Ue&&Bi(U,Ce),de;if(he===null){for(;Ce<j.length;Ce++)he=$(U,j[Ce],K),he!==null&&(M=f(he,M,Ce),ze===null?de=he:ze.sibling=he,ze=he);return Ue&&Bi(U,Ce),de}for(he=o(he);Ce<j.length;Ce++)Oe=H(he,U,Ce,j[Ce],K),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ce:Oe.key),M=f(Oe,M,Ce),ze===null?de=Oe:ze.sibling=Oe,ze=Oe);return t&&he.forEach(function(Fs){return i(U,Fs)}),Ue&&Bi(U,Ce),de}function pe(U,M,j,K){if(j==null)throw Error(r(151));for(var de=null,ze=null,he=M,Ce=M=0,Oe=null,Be=j.next();he!==null&&!Be.done;Ce++,Be=j.next()){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var Fs=B(U,he,Be.value,K);if(Fs===null){he===null&&(he=Oe);break}t&&he&&Fs.alternate===null&&i(U,he),M=f(Fs,M,Ce),ze===null?de=Fs:ze.sibling=Fs,ze=Fs,he=Oe}if(Be.done)return a(U,he),Ue&&Bi(U,Ce),de;if(he===null){for(;!Be.done;Ce++,Be=j.next())Be=$(U,Be.value,K),Be!==null&&(M=f(Be,M,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be);return Ue&&Bi(U,Ce),de}for(he=o(he);!Be.done;Ce++,Be=j.next())Be=H(he,U,Ce,Be.value,K),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ce:Be.key),M=f(Be,M,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(_S){return i(U,_S)}),Ue&&Bi(U,Ce),de}function We(U,M,j,K){if(typeof j=="object"&&j!==null&&j.type===Z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case k:e:{for(var de=j.key;M!==null;){if(M.key===de){if(de=j.type,de===Z){if(M.tag===7){a(U,M.sibling),K=h(M,j.props.children),K.return=U,U=K;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&zr(de)===M.type){a(U,M.sibling),K=h(M,j.props),nl(K,j),K.return=U,U=K;break e}a(U,M);break}else i(U,M);M=M.sibling}j.type===Z?(K=kr(j.props.children,U.mode,K,j.key),K.return=U,U=K):(K=Qu(j.type,j.key,j.props,null,U.mode,K),nl(K,j),K.return=U,U=K)}return _(U);case Y:e:{for(de=j.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(U,M.sibling),K=h(M,j.children||[]),K.return=U,U=K;break e}else{a(U,M);break}else i(U,M);M=M.sibling}K=yf(j,U.mode,K),K.return=U,U=K}return _(U);case w:return j=zr(j),We(U,M,j,K)}if(ht(j))return ue(U,M,j,K);if(L(j)){if(de=L(j),typeof de!="function")throw Error(r(150));return j=de.call(j),pe(U,M,j,K)}if(typeof j.then=="function")return We(U,M,tc(j),K);if(j.$$typeof===ie)return We(U,M,Ju(U,j),K);nc(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(U,M.sibling),K=h(M,j),K.return=U,U=K):(a(U,M),K=pf(j,U.mode,K),K.return=U,U=K),_(U)):a(U,M)}return function(U,M,j,K){try{tl=0;var de=We(U,M,j,K);return Oa=null,de}catch(he){if(he===Da||he===Wu)throw he;var ze=En(29,he,null,U.mode);return ze.lanes=K,ze.return=U,ze}}}var qr=Rp(!0),Cp=Rp(!1),Cs=!1;function Nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Is(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Ku(t),cp(t,null,a),i}return Yu(t,o,i,a),Ku(t)}function il(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,xo(t,a)}}function Df(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Of=!1;function sl(){if(Of){var t=xa;if(t!==null)throw t}}function rl(t,i,a,o){Of=!1;var h=t.updateQueue;Cs=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,z=N.next;N.next=null,_===null?f=z:_.next=z,_=N;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=N))}if(f!==null){var $=h.baseState;_=0,G=z=N=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(De&B)===B:(o&B)===B){B!==0&&B===Na&&(Of=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,pe=T;B=i;var We=a;switch(pe.tag){case 1:if(ue=pe.payload,typeof ue=="function"){$=ue.call(We,$,B);break e}$=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=pe.payload,B=typeof ue=="function"?ue.call(We,$,B):ue,B==null)break e;$=S({},$,B);break e;case 2:Cs=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=H,N=$):G=G.next=H,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(N=$),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Vs|=_,t.lanes=_,t.memoizedState=$}}function Ip(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Np(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ip(a[t],i)}var Ma=V(null),ic=V(0);function xp(t,i){t=Zi,se(ic,t),se(Ma,i),Zi=t|i.baseLanes}function Mf(){se(ic,Zi),se(Ma,Ma.current)}function Vf(){Zi=ic.current,J(Ma),J(ic)}var Tn=V(null),jn=null;function xs(t){var i=t.alternate;se(_t,_t.current&1),se(Tn,t),jn===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(jn=t)}function kf(t){se(_t,_t.current),se(Tn,t),jn===null&&(jn=t)}function Dp(t){t.tag===22?(se(_t,_t.current),se(Tn,t),jn===null&&(jn=t)):Ds()}function Ds(){se(_t,_t.current),se(Tn,Tn.current)}function bn(t){J(Tn),jn===t&&(jn=null),J(_t)}var _t=V(0);function sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bd(a)||qd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,we=null,Je=null,Ct=null,rc=!1,Va=!1,Hr=!1,ac=0,al=0,ka=null,lb=0;function ft(){throw Error(r(321))}function Uf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!vn(t[a],i[a]))return!1;return!0}function Lf(t,i,a,o,h,f){return Fi=f,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?my:Zf,Hr=!1,f=a(o,h),Hr=!1,Va&&(f=Mp(i,a,o,h)),Op(t),f}function Op(t){F.H=ul;var i=Je!==null&&Je.next!==null;if(Fi=0,Ct=Je=we=null,rc=!1,al=0,ka=null,i)throw Error(r(300));t===null||It||(t=t.dependencies,t!==null&&$u(t)&&(It=!0))}function Mp(t,i,a,o){we=t;var h=0;do{if(Va&&(ka=null),al=0,Va=!1,25<=h)throw Error(r(301));if(h+=1,Ct=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=gy,f=i(a,o)}while(Va);return f}function ub(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?ol(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(we.flags|=1024),i}function Pf(){var t=ac!==0;return ac=0,t}function jf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function zf(t){if(rc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}rc=!1}Fi=0,Ct=Je=we=null,Va=!1,al=ac=0,ka=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?we.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function vt(){if(Je===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=Ct===null?we.memoizedState:Ct.next;if(i!==null)Ct=i,Je=t;else{if(t===null)throw we.alternate===null?Error(r(467)):Error(r(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Ct===null?we.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var i=al;return al+=1,ka===null&&(ka=[]),t=Sp(ka,t,i),i=we,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?my:Zf),t}function lc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===ie)return Ft(t)}throw Error(r(438,String(t)))}function Bf(t){var i=null,a=we.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=we.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=oc(),we.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=O;return i.index++,a}function Gi(t,i){return typeof i=="function"?i(t):i}function uc(t){var i=vt();return qf(i,Je,t)}function qf(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var T=_=null,N=null,z=i,G=!1;do{var $=z.lane&-536870913;if($!==z.lane?(De&$)===$:(Fi&$)===$){var B=z.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Na&&(G=!0);else if((Fi&B)===B){z=z.next,B===Na&&(G=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(T=N=$,_=f):N=N.next=$,we.lanes|=B,Vs|=B;$=z.action,Hr&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(T=N=B,_=f):N=N.next=B,we.lanes|=$,Vs|=$;z=z.next}while(z!==null&&z!==i);if(N===null?_=f:N.next=T,!vn(f,t.memoizedState)&&(It=!0,G&&(a=xa,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Hf(t){var i=vt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);vn(f,i.memoizedState)||(It=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Vp(t,i,a){var o=we,h=vt(),f=Ue;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!vn((Je||h).memoizedState,a);if(_&&(h.memoizedState=a,It=!0),h=h.queue,Yf(Lp.bind(null,o,h,t),[t]),h.getSnapshot!==i||_||Ct!==null&&Ct.memoizedState.tag&1){if(o.flags|=2048,Ua(9,{destroy:void 0},Up.bind(null,o,h,a,i),null),tt===null)throw Error(r(349));f||(Fi&127)!==0||kp(o,i,a)}return a}function kp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=we.updateQueue,i===null?(i=oc(),we.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Up(t,i,a,o){i.value=a,i.getSnapshot=o,Pp(i)&&jp(t)}function Lp(t,i,a){return a(function(){Pp(i)&&jp(t)})}function Pp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!vn(t,a)}catch{return!0}}function jp(t){var i=Vr(t,2);i!==null&&dn(i,t,2)}function Ff(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Hr){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},i}function zp(t,i,a,o){return t.baseState=a,qf(t,Je,typeof o=="function"?o:Gi)}function cb(t,i,a,o,h){if(fc(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Bp(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Bp(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=F.T,_={};F.T=_;try{var T=a(h,o),N=F.S;N!==null&&N(_,T),qp(t,i,T)}catch(z){Gf(t,i,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=a(h,o),qp(t,i,f)}catch(z){Gf(t,i,z)}}function qp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Hp(t,i,o)},function(o){return Gf(t,i,o)}):Hp(t,i,a)}function Hp(t,i,a){i.status="fulfilled",i.value=a,Fp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Bp(t,a)))}function Gf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Fp(i),i=i.next;while(i!==o)}t.action=null}function Fp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Gp(t,i){return i}function Yp(t,i){if(Ue){var a=tt.formState;if(a!==null){e:{var o=we;if(Ue){if(st){t:{for(var h=st,f=Pn;h.nodeType!==8;){if(!f){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){st=zn(h.nextSibling),o=h.data==="F!";break e}}ws(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:i},a.queue=o,a=hy.bind(null,we,o),o.dispatch=a,o=Ff(!1),f=Jf.bind(null,we,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=cb.bind(null,we,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Kp(t){var i=vt();return Qp(i,Je,t)}function Qp(t,i,a){if(i=qf(t,i,Gp)[0],t=uc(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ol(i)}catch(_){throw _===Da?Wu:_}else o=i;i=vt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(we.flags|=2048,Ua(9,{destroy:void 0},hb.bind(null,h,a),null)),[o,f,t]}function hb(t,i){t.action=i}function Xp(t){var i=vt(),a=Je;if(a!==null)return Qp(i,a,t);vt(),i=i.memoizedState,a=vt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ua(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=we.updateQueue,i===null&&(i=oc(),we.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function $p(){return vt().memoizedState}function cc(t,i,a,o){var h=sn();we.flags|=t,h.memoizedState=Ua(1|i,{destroy:void 0},a,o===void 0?null:o)}function hc(t,i,a,o){var h=vt();o=o===void 0?null:o;var f=h.memoizedState.inst;Je!==null&&o!==null&&Uf(o,Je.memoizedState.deps)?h.memoizedState=Ua(i,f,a,o):(we.flags|=t,h.memoizedState=Ua(1|i,f,a,o))}function Jp(t,i){cc(8390656,8,t,i)}function Yf(t,i){hc(2048,8,t,i)}function fb(t){we.flags|=4;var i=we.updateQueue;if(i===null)i=oc(),we.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Zp(t){var i=vt().memoizedState;return fb({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Wp(t,i){return hc(4,2,t,i)}function ey(t,i){return hc(4,4,t,i)}function ty(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ny(t,i,a){a=a!=null?a.concat([t]):null,hc(4,4,ty.bind(null,i,t),a)}function Kf(){}function iy(t,i){var a=vt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Uf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function sy(t,i){var a=vt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Uf(i,o[1]))return o[0];if(o=t(),Hr){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[o,i],o}function Qf(t,i,a){return a===void 0||(Fi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=r_(),we.lanes|=t,Vs|=t,a)}function ry(t,i,a,o){return vn(a,i)?a:Ma.current!==null?(t=Qf(t,a,o),vn(t,i)||(It=!0),t):(Fi&42)===0||(Fi&1073741824)!==0&&(De&261930)===0?(It=!0,t.memoizedState=a):(t=r_(),we.lanes|=t,Vs|=t,i)}function ay(t,i,a,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var _=F.T,T={};F.T=T,Jf(t,!1,i,a);try{var N=h(),z=F.S;if(z!==null&&z(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=ob(N,o);ll(t,i,G,wn(t))}else ll(t,i,o,wn(t))}catch($){ll(t,i,{then:function(){},status:"rejected",reason:$},wn())}finally{te.p=f,_!==null&&T.types!==null&&(_.types=T.types),F.T=_}}function db(){}function Xf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=oy(t).queue;ay(t,h,i,ge,a===null?db:function(){return ly(t),a(o)})}function oy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ly(t){var i=oy(t);i.next===null&&(i=t.alternate.memoizedState),ll(t,i.next.queue,{},wn())}function $f(){return Ft(wl)}function uy(){return vt().memoizedState}function cy(){return vt().memoizedState}function mb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=Is(a);var o=Ns(i,t,a);o!==null&&(dn(o,i,a),il(o,i,a)),i={cache:wf()},t.payload=i;return}i=i.return}}function gb(t,i,a){var o=wn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fc(t)?fy(i,a):(a=mf(t,i,a,o),a!==null&&(dn(a,t,o),dy(a,i,o)))}function hy(t,i,a){var o=wn();ll(t,i,a,o)}function ll(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fc(t))fy(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,vn(T,_))return Yu(t,i,h,0),tt===null&&Gu(),!1}catch{}if(a=mf(t,i,h,o),a!==null)return dn(a,t,o),dy(a,i,o),!0}return!1}function Jf(t,i,a,o){if(o={lane:2,revertLane:Nd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},fc(t)){if(i)throw Error(r(479))}else i=mf(t,a,o,2),i!==null&&dn(i,t,2)}function fc(t){var i=t.alternate;return t===we||i!==null&&i===we}function fy(t,i){Va=rc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function dy(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,xo(t,a)}}var ul={readContext:Ft,use:lc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};ul.useEffectEvent=ft;var my={readContext:Ft,use:lc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Jp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,cc(4194308,4,ty.bind(null,i,t),a)},useLayoutEffect:function(t,i){return cc(4194308,4,t,i)},useInsertionEffect:function(t,i){cc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var o=t();if(Hr){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=sn();if(a!==void 0){var h=a(i);if(Hr){Nn(!0);try{a(i)}finally{Nn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=gb.bind(null,we,t),[o.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Ff(t);var i=t.queue,a=hy.bind(null,we,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Kf,useDeferredValue:function(t,i){var a=sn();return Qf(a,t,i)},useTransition:function(){var t=Ff(!1);return t=ay.bind(null,we,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=we,h=sn();if(Ue){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),tt===null)throw Error(r(349));(De&127)!==0||kp(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Jp(Lp.bind(null,o,f,t),[t]),o.flags|=2048,Ua(9,{destroy:void 0},Up.bind(null,o,f,a,i),null),a},useId:function(){var t=sn(),i=tt.identifierPrefix;if(Ue){var a=Ai,o=Si;a=(o&~(1<<32-pt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ac++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=lb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:$f,useFormState:Yp,useActionState:Yp,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Jf.bind(null,we,!0,a),a.dispatch=i,[t,i]},useMemoCache:Bf,useCacheRefresh:function(){return sn().memoizedState=mb.bind(null,we)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Zf={readContext:Ft,use:lc,useCallback:iy,useContext:Ft,useEffect:Yf,useImperativeHandle:ny,useInsertionEffect:Wp,useLayoutEffect:ey,useMemo:sy,useReducer:uc,useRef:$p,useState:function(){return uc(Gi)},useDebugValue:Kf,useDeferredValue:function(t,i){var a=vt();return ry(a,Je.memoizedState,t,i)},useTransition:function(){var t=uc(Gi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:Vp,useId:uy,useHostTransitionStatus:$f,useFormState:Kp,useActionState:Kp,useOptimistic:function(t,i){var a=vt();return zp(a,Je,t,i)},useMemoCache:Bf,useCacheRefresh:cy};Zf.useEffectEvent=Zp;var gy={readContext:Ft,use:lc,useCallback:iy,useContext:Ft,useEffect:Yf,useImperativeHandle:ny,useInsertionEffect:Wp,useLayoutEffect:ey,useMemo:sy,useReducer:Hf,useRef:$p,useState:function(){return Hf(Gi)},useDebugValue:Kf,useDeferredValue:function(t,i){var a=vt();return Je===null?Qf(a,t,i):ry(a,Je.memoizedState,t,i)},useTransition:function(){var t=Hf(Gi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:Vp,useId:uy,useHostTransitionStatus:$f,useFormState:Xp,useActionState:Xp,useOptimistic:function(t,i){var a=vt();return Je!==null?zp(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:cy};gy.useEffectEvent=Zp;function Wf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ed={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=wn(),h=Is(o);h.payload=i,a!=null&&(h.callback=a),i=Ns(t,h,o),i!==null&&(dn(i,t,o),il(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=wn(),h=Is(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ns(t,h,o),i!==null&&(dn(i,t,o),il(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),o=Is(a);o.tag=2,i!=null&&(o.callback=i),i=Ns(t,o,a),i!==null&&(dn(i,t,a),il(i,t,a))}};function py(t,i,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!Xo(a,o)||!Xo(h,f):!0}function yy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&ed.enqueueReplaceState(i,i.state,null)}function Fr(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function _y(t){Fu(t)}function vy(t){console.error(t)}function Ey(t){Fu(t)}function dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Ty(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function td(t,i,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(t,i)},a}function by(t){return t=Is(t),t.tag=3,t}function Sy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Ty(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ty(i,a,o),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function pb(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ia(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?wc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ec?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Rd(t,o,h)),!1;case 22:return a.flags|=65536,o===ec?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Rd(t,o,h)),!1}throw Error(r(435,a.tag))}return Rd(t,o,h),wc(),!1}if(Ue)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Ef&&(t=Error(r(422),{cause:o}),Zo(kn(t,a)))):(o!==Ef&&(i=Error(r(423),{cause:o}),Zo(kn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=kn(o,a),h=td(t.stateNode,o,h),Df(t,h),dt!==4&&(dt=2)),!1;var f=Error(r(520),{cause:o});if(f=kn(f,a),yl===null?yl=[f]:yl.push(f),dt!==4&&(dt=2),i===null)return!0;o=kn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=td(a.stateNode,o,t),Df(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ks===null||!ks.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=by(h),Sy(h,t,a,o),Df(a,h),!1}a=a.return}while(a!==null);return!1}var nd=Error(r(461)),It=!1;function Gt(t,i,a,o){i.child=t===null?Cp(i,null,a,o):qr(i,t.child,a,o)}function Ay(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Pr(i),o=Lf(t,i,a,_,f,h),T=Pf(),t!==null&&!It?(jf(t,i,h),Yi(t,i,h)):(Ue&&T&&_f(i),i.flags|=1,Gt(t,i,o,h),i.child)}function wy(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!gf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Ry(t,i,f,o,h)):(t=Qu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!cd(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(_,o)&&t.ref===i.ref)return Yi(t,i,h)}return i.flags|=1,t=zi(f,o),t.ref=i.ref,t.return=i,i.child=t}function Ry(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(Xo(f,o)&&t.ref===i.ref)if(It=!1,i.pendingProps=o=f,cd(t,h))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,Yi(t,i,h)}return id(t,i,a,o,h)}function Cy(t,i,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Iy(t,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(i,f!==null?f.cachePool:null),f!==null?xp(i,f):Mf(),Dp(i);else return o=i.lanes=536870912,Iy(t,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Zu(i,f.cachePool),xp(i,f),Ds(),i.memoizedState=null):(t!==null&&Zu(i,null),Mf(),Ds());return Gt(t,i,h,a),i.child}function cl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Iy(t,i,a,o,h){var f=Cf();return f=f===null?null:{parent:Rt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Zu(i,null),Mf(),Dp(i),t!==null&&Ia(t,i,o,!0),i.childLanes=h,null}function mc(t,i){return i=pc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ny(t,i,a){return qr(i,t.child,null,a),t=mc(i,i.pendingProps),t.flags|=2,bn(i),i.memoizedState=null,t}function yb(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(o.mode==="hidden")return t=mc(i,o),i.lanes=536870912,cl(null,t);if(kf(i),(t=st)?(t=B_(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=fp(t),a.return=i,i.child=a,Ht=i,st=null)):t=null,t===null)throw ws(i);return i.lanes=536870912,null}return mc(i,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(kf(i),h)if(i.flags&256)i.flags&=-257,i=Ny(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(It||Ia(t,i,a,!1),h=(a&t.childLanes)!==0,It||h){if(o=tt,o!==null&&(_=Do(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Vr(t,_),dn(o,t,_),nd;wc(),i=Ny(t,i,a)}else t=f.treeContext,st=zn(_.nextSibling),Ht=i,Ue=!0,As=null,Pn=!1,t!==null&&gp(i,t),i=mc(i,o),i.flags|=4096;return i}return t=zi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function gc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function id(t,i,a,o,h){return Pr(i),a=Lf(t,i,a,o,void 0,h),o=Pf(),t!==null&&!It?(jf(t,i,h),Yi(t,i,h)):(Ue&&o&&_f(i),i.flags|=1,Gt(t,i,a,h),i.child)}function xy(t,i,a,o,h,f){return Pr(i),i.updateQueue=null,a=Mp(i,o,a,h),Op(t),o=Pf(),t!==null&&!It?(jf(t,i,f),Yi(t,i,f)):(Ue&&o&&_f(i),i.flags|=1,Gt(t,i,a,f),i.child)}function Dy(t,i,a,o,h){if(Pr(i),i.stateNode===null){var f=Aa,_=a.contextType;typeof _=="object"&&_!==null&&(f=Ft(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ed,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Nf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?Ft(_):Aa,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Wf(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&ed.enqueueReplaceState(f,f.state,null),rl(i,o,f,h),sl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var T=i.memoizedProps,N=Fr(a,T);f.props=N;var z=f.context,G=a.contextType;_=Aa,typeof G=="object"&&G!==null&&(_=Ft(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==_)&&yy(i,f,o,_),Cs=!1;var B=i.memoizedState;f.state=B,rl(i,o,f,h),sl(),z=i.memoizedState,T||B!==z||Cs?(typeof $=="function"&&(Wf(i,a,$,o),z=i.memoizedState),(N=Cs||py(i,a,N,o,B,z,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=_,o=N):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,xf(t,i),_=i.memoizedProps,G=Fr(a,_),f.props=G,$=i.pendingProps,B=f.context,z=a.contextType,N=Aa,typeof z=="object"&&z!==null&&(N=Ft(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==$||B!==N)&&yy(i,f,o,N),Cs=!1,B=i.memoizedState,f.state=B,rl(i,o,f,h),sl();var H=i.memoizedState;_!==$||B!==H||Cs||t!==null&&t.dependencies!==null&&$u(t.dependencies)?(typeof T=="function"&&(Wf(i,a,T,o),H=i.memoizedState),(G=Cs||py(i,a,G,o,B,H,N)||t!==null&&t.dependencies!==null&&$u(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,N)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),f.props=o,f.state=H,f.context=N,o=G):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,gc(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=qr(i,t.child,null,h),i.child=qr(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=Yi(t,i,h),t}function Oy(t,i,a,o){return Ur(),i.flags|=256,Gt(t,i,a,o),i.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rd(t){return{baseLanes:t,cachePool:Tp()}}function ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function My(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(h?xs(i):Ds(),(t=st)?(t=B_(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=fp(t),a.return=i,i.child=a,Ht=i,st=null)):t=null,t===null)throw ws(i);return qd(t)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Ds(),h=i.mode,T=pc({mode:"hidden",children:T},h),o=kr(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=rd(a),o.childLanes=ad(t,_,a),i.memoizedState=sd,cl(null,o)):(xs(i),od(i,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(f)i.flags&256?(xs(i),i.flags&=-257,i=ld(t,i,a)):i.memoizedState!==null?(Ds(),i.child=t.child,i.flags|=128,i=null):(Ds(),T=o.fallback,h=i.mode,o=pc({mode:"visible",children:o.children},h),T=kr(T,h,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,qr(i,t.child,null,a),o=i.child,o.memoizedState=rd(a),o.childLanes=ad(t,_,a),i.memoizedState=sd,i=cl(null,o));else if(xs(i),qd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(r(419)),o.stack="",o.digest=_,Zo({value:o,source:null,stack:null}),i=ld(t,i,a)}else if(It||Ia(t,i,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=tt,_!==null&&(o=Do(_,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,Vr(t,o),dn(_,t,o),nd;Bd(T)||wc(),i=ld(t,i,a)}else Bd(T)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,st=zn(T.nextSibling),Ht=i,Ue=!0,As=null,Pn=!1,t!==null&&gp(i,t),i=od(i,o.children),i.flags|=4096);return i}return h?(Ds(),T=o.fallback,h=i.mode,N=t.child,z=N.sibling,o=zi(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,z!==null?T=zi(z,T):(T=kr(T,h,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,cl(null,o),o=i.child,T=t.child.memoizedState,T===null?T=rd(a):(h=T.cachePool,h!==null?(N=Rt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Tp(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=ad(t,_,a),i.memoizedState=sd,cl(t.child,o)):(xs(i),a=t.child,t=a.sibling,a=zi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function od(t,i){return i=pc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function pc(t,i){return t=En(22,t,null,i),t.lanes=0,t}function ld(t,i,a){return qr(i,t.child,null,a),t=od(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Vy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Sf(t.return,i,a)}function ud(t,i,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function ky(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=_t.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,se(_t,_),Gt(t,i,o,a),o=Ue?Jo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vy(t,a,i);else if(t.tag===19)Vy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ud(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ud(i,!0,a,null,f,o);break;case"together":ud(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Yi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Vs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ia(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function cd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&$u(t)))}function _b(t,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),Rs(i,Rt,t.memoizedState.cache),Ur();break;case 27:case 5:pr(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:Rs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,kf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(xs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?My(t,i,a):(xs(i),t=Yi(t,i,a),t!==null?t.sibling:null);xs(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ia(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return ky(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(_t,_t.current),o)break;return null;case 22:return i.lanes=0,Cy(t,i,a,i.pendingProps);case 24:Rs(i,Rt,t.memoizedState.cache)}return Yi(t,i,a)}function Uy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!cd(t,a)&&(i.flags&128)===0)return It=!1,_b(t,i,a);It=(t.flags&131072)!==0}else It=!1,Ue&&(i.flags&1048576)!==0&&mp(i,Jo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=zr(i.elementType),i.type=t,typeof t=="function")gf(t)?(o=Fr(t,o),i.tag=1,i=Dy(null,i,t,o,a)):(i.tag=0,i=id(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ce){i.tag=11,i=Ay(null,i,t,o,a);break e}else if(h===x){i.tag=14,i=wy(null,i,t,o,a);break e}}throw i=Xe(t)||t,Error(r(306,i,""))}}return i;case 0:return id(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Fr(o,i.pendingProps),Dy(t,i,o,h,a);case 3:e:{if(Mt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,xf(t,i),rl(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Rs(i,Rt,o),o!==f.cache&&Af(i,[Rt],a,!0),sl(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Oy(t,i,o,a);break e}else if(o!==h){h=kn(Error(r(424)),i),Zo(h),i=Oy(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,st=zn(t.firstChild),Ht=i,Ue=!0,As=null,Pn=!0,a=Cp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ur(),o===h){i=Yi(t,i,a);break e}Gt(t,i,o,a)}i=i.child}return i;case 26:return gc(t,i),t===null?(a=K_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,o=Oc(Re.current).createElement(a),o[St]=i,o[Lt]=t,Yt(o,a,t),At(o),i.stateNode=o):i.memoizedState=K_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return pr(i),t===null&&Ue&&(o=i.stateNode=F_(i.type,i.pendingProps,Re.current),Ht=i,Pn=!0,h=st,js(i.type)?(Hd=h,st=zn(o.firstChild)):st=h),Gt(t,i,i.pendingProps.children,a),gc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((h=o=st)&&(o=Qb(o,i.type,i.pendingProps,Pn),o!==null?(i.stateNode=o,Ht=i,st=zn(o.firstChild),Pn=!1,h=!0):h=!1),h||ws(i)),pr(i),h=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Pd(h,f)?o=null:_!==null&&Pd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Lf(t,i,ub,null,null,a),wl._currentValue=h),gc(t,i),Gt(t,i,o,a),i.child;case 6:return t===null&&Ue&&((t=a=st)&&(a=Xb(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,Ht=i,st=null,t=!0):t=!1),t||ws(i)),null;case 13:return My(t,i,a);case 4:return Mt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=qr(i,null,o,a):Gt(t,i,o,a),i.child;case 11:return Ay(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Rs(i,i.type,o.value),Gt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Pr(i),h=Ft(h),o=o(h),i.flags|=1,Gt(t,i,o,a),i.child;case 14:return wy(t,i,i.type,i.pendingProps,a);case 15:return Ry(t,i,i.type,i.pendingProps,a);case 19:return ky(t,i,a);case 31:return yb(t,i,a);case 22:return Cy(t,i,a,i.pendingProps);case 24:return Pr(i),o=Ft(Rt),t===null?(h=Cf(),h===null&&(h=tt,f=wf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Nf(i),Rs(i,Rt,h)):((t.lanes&a)!==0&&(xf(t,i),rl(i,null,null,a),sl()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Rs(i,Rt,o)):(o=f.cache,Rs(i,Rt,o),o!==h.cache&&Af(i,[Rt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ki(t){t.flags|=4}function hd(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(u_())t.flags|=8192;else throw Br=ec,If}else t.flags&=-16777217}function Ly(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Z_(i))if(u_())t.flags|=8192;else throw Br=ec,If}function yc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Su():536870912,t.lanes|=i,za|=i)}function hl(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function vb(t,i,a){var o=i.pendingProps;switch(vf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Hi(Rt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ca(i)?Ki(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tf())),rt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(Ki(i),f!==null?(rt(i),Ly(i,f)):(rt(i),hd(i,h,null,o,a))):f?f!==t.memoizedState?(Ki(i),rt(i),Ly(i,f)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ki(i),rt(i),hd(i,h,t,o,a)),null;case 27:if(ra(i),a=Re.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ki(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return rt(i),null}t=le.current,Ca(i)?pp(i):(t=F_(h,o,a),i.stateNode=t,Ki(i))}return rt(i),null;case 5:if(ra(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ki(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return rt(i),null}if(f=le.current,Ca(i))pp(i);else{var _=Oc(Re.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[St]=i,f[Lt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(Yt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ki(i)}}return rt(i),hd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Ki(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Re.current,Ca(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||M_(t.nodeValue,a)),t||ws(i,!0)}else t=Oc(t).createTextNode(o),t[St]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ca(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[St]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(bn(i),i):(bn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return rt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ca(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[St]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=Tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(bn(i),i):(bn(i),null)}return bn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),yc(i,i.updateQueue),rt(i),null);case 4:return ot(),t===null&&Md(i.stateNode.containerInfo),rt(i),null;case 10:return Hi(i.type),rt(i),null;case 19:if(J(_t),o=i.memoizedState,o===null)return rt(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)hl(o,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=sc(t),f!==null){for(i.flags|=128,hl(o,!1),t=f.updateQueue,i.updateQueue=t,yc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)hp(a,t),a=a.sibling;return se(_t,_t.current&1|2),Ue&&Bi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&tn()>bc&&(i.flags|=128,h=!0,hl(o,!1),i.lanes=4194304)}else{if(!h)if(t=sc(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,yc(i,t),hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ue)return rt(i),null}else 2*tn()-o.renderingStartTime>bc&&a!==536870912&&(i.flags|=128,h=!0,hl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tn(),t.sibling=null,a=_t.current,se(_t,h?a&1|2:a&1),Ue&&Bi(i,o.treeForkCount),t):(rt(i),null);case 22:case 23:return bn(i),Vf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&yc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&J(jr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(Rt),rt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Eb(t,i){switch(vf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Hi(Rt),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ra(i),null;case 31:if(i.memoizedState!==null){if(bn(i),i.alternate===null)throw Error(r(340));Ur()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(bn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ur()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(_t),null;case 4:return ot(),null;case 10:return Hi(i.type),null;case 22:case 23:return bn(i),Vf(),t!==null&&J(jr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Hi(Rt),null;case 25:return null;default:return null}}function Py(t,i){switch(vf(i),i.tag){case 3:Hi(Rt),ot();break;case 26:case 27:case 5:ra(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&bn(i);break;case 13:bn(i);break;case 19:J(_t);break;case 10:Hi(i.type);break;case 22:case 23:bn(i),Vf(),t!==null&&J(jr);break;case 24:Hi(Rt)}}function fl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(T){Qe(i,i.return,T)}}function Os(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var N=a,z=T;try{z()}catch(G){Qe(h,N,G)}}}o=o.next}while(o!==f)}}catch(G){Qe(i,i.return,G)}}function jy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Np(i,a)}catch(o){Qe(t,t.return,o)}}}function zy(t,i,a){a.props=Fr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Qe(t,i,o)}}function dl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Qe(t,i,h)}}function wi(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Qe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qe(t,i,h)}else a.current=null}function By(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Qe(t,t.return,h)}}function fd(t,i,a){try{var o=t.stateNode;qb(o,t.type,a,i),o[Lt]=i}catch(h){Qe(t,t.return,h)}}function qy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&js(t.type)||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function md(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(o!==4&&(o===27&&js(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(md(t,i,a),t=t.sibling;t!==null;)md(t,i,a),t=t.sibling}function _c(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&js(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_c(t,i,a),t=t.sibling;t!==null;)_c(t,i,a),t=t.sibling}function Hy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,o,a),i[St]=t,i[Lt]=a}catch(f){Qe(t,t.return,f)}}var Qi=!1,Nt=!1,gd=!1,Fy=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Tb(t,i){if(t=t.containerInfo,Ud=jc,t=np(t),lf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,T=-1,N=-1,z=0,G=0,$=t,B=null;t:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(T=_+h),$!==f||o!==0&&$.nodeType!==3||(N=_+o),$.nodeType===3&&(_+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===t)break t;if(B===a&&++z===h&&(T=_),B===f&&++G===o&&(N=_),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ld={focusedElem:t,selectionRange:a},jc=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ue=Fr(a.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Qe(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}}function Gy(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),o&4&&fl(5,a);break;case 1:if($i(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Qe(a,a.return,_)}else{var h=Fr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(a,a.return,_)}}o&64&&jy(a),o&512&&dl(a,a.return);break;case 3:if($i(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Np(t,i)}catch(_){Qe(a,a.return,_)}}break;case 27:i===null&&o&4&&Hy(a);case 26:case 5:$i(t,a),i===null&&o&4&&By(a),o&512&&dl(a,a.return);break;case 12:$i(t,a);break;case 31:$i(t,a),o&4&&Qy(t,a);break;case 13:$i(t,a),o&4&&Xy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=xb.bind(null,a),$b(t,a))));break;case 22:if(o=a.memoizedState!==null||Qi,!o){i=i!==null&&i.memoizedState!==null||Nt,h=Qi;var f=Nt;Qi=o,(Nt=i)&&!f?Ji(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),Qi=h,Nt=f}break;case 30:break;default:$i(t,a)}}function Yy(t){var i=t.alternate;i!==null&&(t.alternate=null,Yy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ca(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,un=!1;function Xi(t,i,a){for(a=a.child;a!==null;)Ky(t,i,a),a=a.sibling}function Ky(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Nt||wi(a,i),Xi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||wi(a,i);var o=ut,h=un;js(a.type)&&(ut=a.stateNode,un=!1),Xi(t,i,a),bl(a.stateNode),ut=o,un=h;break;case 5:Nt||wi(a,i);case 6:if(o=ut,h=un,ut=null,Xi(t,i,a),ut=o,un=h,ut!==null)if(un)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(f){Qe(a,i,f)}else try{ut.removeChild(a.stateNode)}catch(f){Qe(a,i,f)}break;case 18:ut!==null&&(un?(t=ut,j_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qa(t)):j_(ut,a.stateNode));break;case 4:o=ut,h=un,ut=a.stateNode.containerInfo,un=!0,Xi(t,i,a),ut=o,un=h;break;case 0:case 11:case 14:case 15:Os(2,a,i),Nt||Os(4,a,i),Xi(t,i,a);break;case 1:Nt||(wi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&zy(a,i,o)),Xi(t,i,a);break;case 21:Xi(t,i,a);break;case 22:Nt=(o=Nt)||a.memoizedState!==null,Xi(t,i,a),Nt=o;break;default:Xi(t,i,a)}}function Qy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(a){Qe(i,i.return,a)}}}function Xy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(a){Qe(i,i.return,a)}}function bb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Fy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Fy),i;default:throw Error(r(435,t.tag))}}function vc(t,i){var a=bb(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=Db.bind(null,t,o);o.then(h,h)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(js(T.type)){ut=T.stateNode,un=!1;break e}break;case 5:ut=T.stateNode,un=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(ut===null)throw Error(r(160));Ky(f,_,h),ut=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)$y(i,t),i=i.sibling}var Wn=null;function $y(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),o&4&&(Os(3,t,t.return),fl(3,t),Os(5,t,t.return));break;case 1:cn(i,t),hn(t),o&512&&(Nt||a===null||wi(a,a.return)),o&64&&Qi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Wn;if(cn(i,t),hn(t),o&512&&(Nt||a===null||wi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[St]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Yt(f,o,a),f[St]=t,At(f),o=f;break e;case"link":var _=$_("link","href",h).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}f=h.createElement(o),Yt(f,o,a),h.head.appendChild(f);break;case"meta":if(_=$_("meta","content",h).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}f=h.createElement(o),Yt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[St]=t,At(f),o=f}t.stateNode=o}else J_(h,t.type,t.stateNode);else t.stateNode=X_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?J_(h,t.type,t.stateNode):X_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),o&512&&(Nt||a===null||wi(a,a.return)),a!==null&&o&4&&fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),o&512&&(Nt||a===null||wi(a,a.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(ue){Qe(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,fd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(gd=!0);break;case 6:if(cn(i,t),hn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){Qe(t,t.return,ue)}}break;case 3:if(kc=null,h=Wn,Wn=Mc(i.containerInfo),cn(i,t),Wn=h,hn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(ue){Qe(t,t.return,ue)}gd&&(gd=!1,Jy(t));break;case 4:o=Wn,Wn=Mc(t.stateNode.containerInfo),cn(i,t),hn(t),Wn=o;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,vc(t,o)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tc=tn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,vc(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=Qi,G=Nt;if(Qi=z||h,Nt=G||N,cn(i,t),Nt=G,Qi=z,hn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Qi||Nt||Gr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(f=N.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=N.stateNode;var $=N.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){Qe(N,N.return,ue)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ue){Qe(N,N.return,ue)}}}else if(i.tag===18){if(a===null){N=i;try{var H=N.stateNode;h?z_(H,!0):z_(N.stateNode,!1)}catch(ue){Qe(N,N.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,vc(t,a))));break;case 19:cn(i,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,vc(t,o)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(qy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=dd(t);_c(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var T=dd(t);_c(t,T,_);break;case 3:case 4:var N=a.stateNode.containerInfo,z=dd(t);md(t,z,N);break;default:throw Error(r(161))}}catch(G){Qe(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Jy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function $i(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Gy(t,i.alternate,i),i=i.sibling}function Gr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Os(4,i,i.return),Gr(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&zy(i,i.return,a),Gr(i);break;case 27:bl(i.stateNode);case 26:case 5:wi(i,i.return),Gr(i);break;case 22:i.memoizedState===null&&Gr(i);break;case 30:Gr(i);break;default:Gr(i)}t=t.sibling}}function Ji(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(h,f,a),fl(4,f);break;case 1:if(Ji(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Qe(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Ip(N[h],T)}catch(z){Qe(o,o.return,z)}}a&&_&64&&jy(f),dl(f,f.return);break;case 27:Hy(f);case 26:case 5:Ji(h,f,a),a&&o===null&&_&4&&By(f),dl(f,f.return);break;case 12:Ji(h,f,a);break;case 31:Ji(h,f,a),a&&_&4&&Qy(h,f);break;case 13:Ji(h,f,a),a&&_&4&&Xy(h,f);break;case 22:f.memoizedState===null&&Ji(h,f,a),dl(f,f.return);break;case 30:break;default:Ji(h,f,a)}i=i.sibling}}function pd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function yd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t))}function ei(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zy(t,i,a,o),i=i.sibling}function Zy(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,a,o),h&2048&&fl(9,i);break;case 1:ei(t,i,a,o);break;case 3:ei(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){ei(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Qe(i,i.return,N)}}else ei(t,i,a,o);break;case 31:ei(t,i,a,o);break;case 13:ei(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?ei(t,i,a,o):ml(t,i):f._visibility&2?ei(t,i,a,o):(f._visibility|=2,La(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&pd(_,i);break;case 24:ei(t,i,a,o),h&2048&&yd(i.alternate,i);break;default:ei(t,i,a,o)}}function La(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,T=a,N=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:La(f,_,T,N,h),fl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?La(f,_,T,N,h):ml(f,_):(G._visibility|=2,La(f,_,T,N,h)),h&&z&2048&&pd(_.alternate,_);break;case 24:La(f,_,T,N,h),h&&z&2048&&yd(_.alternate,_);break;default:La(f,_,T,N,h)}i=i.sibling}}function ml(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:ml(a,o),h&2048&&pd(o.alternate,o);break;case 24:ml(a,o),h&2048&&yd(o.alternate,o);break;default:ml(a,o)}i=i.sibling}}var gl=8192;function Pa(t,i,a){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)Wy(t,i,a),t=t.sibling}function Wy(t,i,a){switch(t.tag){case 26:Pa(t,i,a),t.flags&gl&&t.memoizedState!==null&&lS(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:Pa(t,i,a);break;case 3:case 4:var o=Wn;Wn=Mc(t.stateNode.containerInfo),Pa(t,i,a),Wn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=gl,gl=16777216,Pa(t,i,a),gl=o):Pa(t,i,a));break;default:Pa(t,i,a)}}function e_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];jt=o,n_(o,t)}e_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)t_(t),t=t.sibling}function t_(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&Os(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ec(t)):pl(t);break;default:pl(t)}}function Ec(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];jt=o,n_(o,t)}e_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Os(8,i,i.return),Ec(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(i));break;default:Ec(i)}t=t.sibling}}function n_(t,i){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Os(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,jt=o;else e:for(a=t;jt!==null;){o=jt;var h=o.sibling,f=o.return;if(Yy(o),o===a){jt=null;break e}if(h!==null){h.return=f,jt=h;break e}jt=f}}}var Sb={getCacheForType:function(t){var i=Ft(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(Rt).controller.signal}},Ab=typeof WeakMap=="function"?WeakMap:Map,He=0,tt=null,Ne=null,De=0,Ke=0,Sn=null,Ms=!1,ja=!1,_d=!1,Zi=0,dt=0,Vs=0,Yr=0,vd=0,An=0,za=0,yl=null,fn=null,Ed=!1,Tc=0,i_=0,bc=1/0,Sc=null,ks=null,kt=0,Us=null,Ba=null,Wi=0,Td=0,bd=null,s_=null,_l=0,Sd=null;function wn(){return(He&2)!==0&&De!==0?De&-De:F.T!==null?Nd():Au()}function r_(){if(An===0)if((De&536870912)===0||Ue){var t=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),An=t}else An=536870912;return t=Tn.current,t!==null&&(t.flags|=32),An}function dn(t,i,a){(t===tt&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Ls(t,De,An,!1)),Er(t,a),((He&2)===0||t!==tt)&&(t===tt&&((He&2)===0&&(Yr|=a),dt===4&&Ls(t,De,An,!1)),Ri(t))}function a_(t,i,a){if((He&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),h=o?Cb(t,i):wd(t,i,!0),f=o;do{if(h===0){ja&&!o&&Ls(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!wb(a)){h=wd(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=yl;var N=T.current.memoizedState.isDehydrated;if(N&&(qa(T,_).flags|=256),_=wd(T,_,!1),_!==2){if(_d&&!N){T.errorRecoveryDisabledLanes|=f,Yr|=f,h=4;break e}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){qa(t,0),Ls(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ls(o,i,An,!Ms);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Tc+300-tn(),10<h)){if(Ls(o,i,An,!Ms),li(o,0,!0)!==0)break e;Wi=i,o.timeoutHandle=L_(o_.bind(null,o,a,fn,Sc,Ed,i,An,Yr,za,Ms,f,"Throttled",-0,0),h);break e}o_(o,a,fn,Sc,Ed,i,An,Yr,za,Ms,f,null,-0,0)}}break}while(!0);Ri(t)}function o_(t,i,a,o,h,f,_,T,N,z,G,$,B,H){if(t.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Wy(i,f,$);var ue=(f&62914560)===f?Tc-tn():(f&4194048)===f?i_-tn():0;if(ue=uS($,ue),ue!==null){Wi=f,t.cancelPendingCommit=ue(g_.bind(null,t,i,f,a,o,h,_,T,N,G,$,null,B,H)),Ls(t,f,_,!z);return}}g_(t,i,f,a,o,h,_,T,N)}function wb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ls(t,i,a,o){i&=~vd,i&=~Yr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-pt(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&Tr(t,a,i)}function Ac(){return(He&6)===0?(vl(0),!1):!0}function Ad(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,qi=Lr=null,zf(t),Oa=null,tl=0,t=Ne;for(;t!==null;)Py(t.alternate,t),t=t.return;Ne=null}}function qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Gb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Wi=0,Ad(),tt=t,Ne=a=zi(t.current,null),De=i,Ke=0,Sn=null,Ms=!1,ja=Fn(t,i),_d=!1,za=An=vd=Yr=Vs=dt=0,fn=yl=null,Ed=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-pt(o),f=1<<h;i|=t[h],o&=~f}return Zi=i,Gu(),a}function l_(t,i){we=null,F.H=ul,i===Da||i===Wu?(i=Ap(),Ke=3):i===If?(i=Ap(),Ke=4):Ke=i===nd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Ne===null&&(dt=1,dc(t,kn(i,t.current)))}function u_(){var t=Tn.current;return t===null?!0:(De&4194048)===De?jn===null:(De&62914560)===De||(De&536870912)!==0?t===jn:!1}function c_(){var t=F.H;return F.H=ul,t===null?ul:t}function h_(){var t=F.A;return F.A=Sb,t}function wc(){dt=4,Ms||(De&4194048)!==De&&Tn.current!==null||(ja=!0),(Vs&134217727)===0&&(Yr&134217727)===0||tt===null||Ls(tt,De,An,!1)}function wd(t,i,a){var o=He;He|=2;var h=c_(),f=h_();(tt!==t||De!==i)&&(Sc=null,qa(t,i)),i=!1;var _=dt;e:do try{if(Ke!==0&&Ne!==null){var T=Ne,N=Sn;switch(Ke){case 8:Ad(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var z=Ke;if(Ke=0,Sn=null,Ha(t,T,N,z),a&&ja){_=0;break e}break;default:z=Ke,Ke=0,Sn=null,Ha(t,T,N,z)}}Rb(),_=dt;break}catch(G){l_(t,G)}while(!0);return i&&t.shellSuspendCounter++,qi=Lr=null,He=o,F.H=h,F.A=f,Ne===null&&(tt=null,De=0,Gu()),_}function Rb(){for(;Ne!==null;)f_(Ne)}function Cb(t,i){var a=He;He|=2;var o=c_(),h=h_();tt!==t||De!==i?(Sc=null,bc=tn()+500,qa(t,i)):ja=Fn(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var f=Sn;t:switch(Ke){case 1:Ke=0,Sn=null,Ha(t,i,f,1);break;case 2:case 9:if(bp(f)){Ke=0,Sn=null,d_(i);break}i=function(){Ke!==2&&Ke!==9||tt!==t||(Ke=7),Ri(t)},f.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:bp(f)?(Ke=0,Sn=null,d_(i)):(Ke=0,Sn=null,Ha(t,i,f,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var T=Ne;if(_?Z_(_):T.stateNode.complete){Ke=0,Sn=null;var N=T.sibling;if(N!==null)Ne=N;else{var z=T.return;z!==null?(Ne=z,Rc(z)):Ne=null}break t}}Ke=0,Sn=null,Ha(t,i,f,5);break;case 6:Ke=0,Sn=null,Ha(t,i,f,6);break;case 8:Ad(),dt=6;break e;default:throw Error(r(462))}}Ib();break}catch(G){l_(t,G)}while(!0);return qi=Lr=null,F.H=o,F.A=h,He=a,Ne!==null?0:(tt=null,De=0,Gu(),dt)}function Ib(){for(;Ne!==null&&!ef();)f_(Ne)}function f_(t){var i=Uy(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,i===null?Rc(t):Ne=i}function d_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=xy(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=xy(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:zf(i);default:Py(a,i),i=Ne=hp(i,Zi),i=Uy(a,i,Zi)}t.memoizedProps=t.pendingProps,i===null?Rc(t):Ne=i}function Ha(t,i,a,o){qi=Lr=null,zf(i),Oa=null,tl=0;var h=i.return;try{if(pb(t,h,i,a,De)){dt=1,dc(t,kn(a,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;dt=1,dc(t,kn(a,t.current)),Ne=null;return}i.flags&32768?(Ue||o===1?t=!0:ja||(De&536870912)!==0?t=!1:(Ms=t=!0,(o===2||o===9||o===3||o===6)&&(o=Tn.current,o!==null&&o.tag===13&&(o.flags|=16384))),m_(i,t)):Rc(i)}function Rc(t){var i=t;do{if((i.flags&32768)!==0){m_(i,Ms);return}t=i.return;var a=vb(i.alternate,i,Zi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);dt===0&&(dt=5)}function m_(t,i){do{var a=Eb(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);dt=6,Ne=null}function g_(t,i,a,o,h,f,_,T,N){t.cancelPendingCommit=null;do Cc();while(kt!==0);if((He&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=df,sf(t,a,f,_,T,N),t===tt&&(Ne=tt=null,De=0),Ba=i,Us=t,Wi=a,Td=f,bd=h,s_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ob(ds,function(){return E_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=te.p,te.p=2,_=He,He|=4;try{Tb(t,i,a)}finally{He=_,te.p=h,F.T=o}}kt=1,p_(),y_(),__()}}function p_(){if(kt===1){kt=0;var t=Us,i=Ba,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=He;He|=4;try{$y(i,t);var f=Ld,_=np(t.containerInfo),T=f.focusedElem,N=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&tp(T.ownerDocument.documentElement,T)){if(N!==null&&lf(T)){var z=N.start,G=N.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var $=T.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ue=T.textContent.length,pe=Math.min(N.start,ue),We=N.end===void 0?pe:Math.min(N.end,ue);!H.extend&&pe>We&&(_=We,We=pe,pe=_);var U=ep(T,pe),M=ep(T,We);if(U&&M&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var j=$.createRange();j.setStart(U.node,U.offset),H.removeAllRanges(),pe>We?(H.addRange(j),H.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),H.addRange(j))}}}}for($=[],H=T;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var K=$[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}jc=!!Ud,Ld=Ud=null}finally{He=h,te.p=o,F.T=a}}t.current=i,kt=2}}function y_(){if(kt===2){kt=0;var t=Us,i=Ba,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=He;He|=4;try{Gy(t,i.alternate,i)}finally{He=h,te.p=o,F.T=a}}kt=3}}function __(){if(kt===4||kt===3){kt=0,yu();var t=Us,i=Ba,a=Wi,o=s_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,Ba=Us=null,v_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ks=null),Ui(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=te.p,te.p=2,F.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var T=o[_];f(T.value,{componentStack:T.stack})}}finally{F.T=i,te.p=h}}(Wi&3)!==0&&Cc(),Ri(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Sd?_l++:(_l=0,Sd=t):_l=0,vl(0)}}function v_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Wo(i)))}function Cc(){return p_(),y_(),__(),E_()}function E_(){if(kt!==5)return!1;var t=Us,i=Td;Td=0;var a=Ui(Wi),o=F.T,h=te.p;try{te.p=32>a?32:a,F.T=null,a=bd,bd=null;var f=Us,_=Wi;if(kt=0,Ba=Us=null,Wi=0,(He&6)!==0)throw Error(r(331));var T=He;if(He|=4,t_(f.current),Zy(f,f.current,_,a),He=T,vl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Hn,f)}catch{}return!0}finally{te.p=h,F.T=o,v_(t,i)}}function T_(t,i,a){i=kn(a,i),i=td(t.stateNode,i,2),t=Ns(t,i,2),t!==null&&(Er(t,2),Ri(t))}function Qe(t,i,a){if(t.tag===3)T_(t,t,a);else for(;i!==null;){if(i.tag===3){T_(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ks===null||!ks.has(o))){t=kn(a,t),a=by(2),o=Ns(i,a,2),o!==null&&(Sy(a,o,i,t),Er(o,2),Ri(o));break}}i=i.return}}function Rd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Ab;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(_d=!0,h.add(a),t=Nb.bind(null,t,i,a),i.then(t,t))}function Nb(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(De&a)===a&&(dt===4||dt===3&&(De&62914560)===De&&300>tn()-Tc?(He&2)===0&&qa(t,0):vd|=a,za===De&&(za=0)),Ri(t)}function b_(t,i){i===0&&(i=Su()),t=Vr(t,i),t!==null&&(Er(t,i),Ri(t))}function xb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),b_(t,a)}function Db(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),b_(t,a)}function Ob(t,i){return Vt(t,i)}var Ic=null,Fa=null,Cd=!1,Nc=!1,Id=!1,Ps=0;function Ri(t){t!==Fa&&t.next===null&&(Fa===null?Ic=Fa=t:Fa=Fa.next=t),Nc=!0,Cd||(Cd=!0,Vb())}function vl(t,i){if(!Id&&Nc){Id=!0;do for(var a=!1,o=Ic;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-pt(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,R_(o,f))}else f=De,f=li(o,o===tt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Fn(o,f)||(a=!0,R_(o,f));o=o.next}while(a);Id=!1}}function Mb(){S_()}function S_(){Nc=Cd=!1;var t=0;Ps!==0&&Fb()&&(t=Ps);for(var i=tn(),a=null,o=Ic;o!==null;){var h=o.next,f=A_(o,i);f===0?(o.next=null,a===null?Ic=h:a.next=h,h===null&&(Fa=a)):(a=o,(t!==0||(f&3)!==0)&&(Nc=!0)),o=h}kt!==0&&kt!==5||vl(t),Ps!==0&&(Ps=0)}function A_(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-pt(f),T=1<<_,N=h[_];N===-1?((T&a)===0||(T&o)!==0)&&(h[_]=nf(T,i)):N<=i&&(t.expiredLanes|=T),f&=~T}if(i=tt,a=De,a=li(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&fs(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&fs(o),Ui(a)){case 2:case 8:a=No;break;case 32:a=ds;break;case 268435456:a=_u;break;default:a=ds}return o=w_.bind(null,t),a=Vt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&fs(o),t.callbackPriority=2,t.callbackNode=null,2}function w_(t,i){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cc()&&t.callbackNode!==a)return null;var o=De;return o=li(t,t===tt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(a_(t,o,i),A_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?w_.bind(null,t):null)}function R_(t,i){if(Cc())return null;a_(t,i,!0)}function Vb(){Yb(function(){(He&6)!==0?Vt(Io,Mb):S_()})}function Nd(){if(Ps===0){var t=Na;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ps=t}return Ps}function C_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function I_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function kb(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=C_((h[Lt]||null).action),_=o.submitter;_&&(i=(i=_[Lt]||null)?C_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var T=new vi("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ps!==0){var N=_?I_(h,_):new FormData(h);Xf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(T.preventDefault(),N=_?I_(h,_):new FormData(h),Xf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var xd=0;xd<ff.length;xd++){var Dd=ff[xd],Ub=Dd.toLowerCase(),Lb=Dd[0].toUpperCase()+Dd.slice(1);Zn(Ub,"on"+Lb)}Zn(rp,"onAnimationEnd"),Zn(ap,"onAnimationIteration"),Zn(op,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(W1,"onTransitionRun"),Zn(eb,"onTransitionStart"),Zn(tb,"onTransitionCancel"),Zn(lp,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function N_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var T=o[_],N=T.instance,z=T.currentTarget;if(T=T.listener,N!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(G){Fu(G)}h.currentTarget=null,f=N}else for(_=0;_<o.length;_++){if(T=o[_],N=T.instance,z=T.currentTarget,T=T.listener,N!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(G){Fu(G)}h.currentTarget=null,f=N}}}}function xe(t,i){var a=i[ua];a===void 0&&(a=i[ua]=new Set);var o=t+"__bubble";a.has(o)||(x_(i,t,2,!1),a.add(o))}function Od(t,i,a){var o=0;i&&(o|=4),x_(a,t,o,i)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Md(t){if(!t[xc]){t[xc]=!0,Oo.forEach(function(a){a!=="selectionchange"&&(Pb.has(a)||Od(a,!1,t),Od(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[xc]||(i[xc]=!0,Od("selectionchange",!1,i))}}function x_(t,i,a,o){switch(r0(i)){case 2:var h=fS;break;case 8:h=dS;break;default:h=Qd}a=h.bind(null,i,a,t),h=void 0,!Rr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Vd(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=fi(T),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){o=f=_;continue e}T=T.parentNode}}o=o.return}vs(function(){var z=f,G=Dn(a),$=[];e:{var B=up.get(t);if(B!==void 0){var H=vi,ue=t;switch(t){case"keypress":if(Ir(a)===0)break e;case"keydown":case"keyup":H=Bu;break;case"focusin":ue="focus",H=xr;break;case"focusout":ue="blur",H=xr;break;case"beforeblur":case"afterblur":H=xr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case rp:case ap:case op:H=Vu;break;case lp:H=b;break;case"scroll":case"scrollend":H=Fo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ji;break;case"toggle":case"beforetoggle":H=Ae}var pe=(i&4)!==0,We=!pe&&(t==="scroll"||t==="scrollend"),U=pe?B!==null?B+"Capture":null:B;pe=[];for(var M=z,j;M!==null;){var K=M;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||U===null||(K=Qn(M,U),K!=null&&pe.push(Tl(M,K,j))),We)break;M=M.return}0<pe.length&&(B=new H(B,ue,null,a,G),$.push({event:B,listeners:pe}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Bo&&(ue=a.relatedTarget||a.fromElement)&&(fi(ue)||ue[ci]))break e;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ue=a.relatedTarget||a.toElement,H=z,ue=ue?fi(ue):null,ue!==null&&(We=u(ue),pe=ue.tag,ue!==We||pe!==5&&pe!==27&&pe!==6)&&(ue=null)):(H=null,ue=z),H!==ue)){if(pe=Go,K="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(pe=ji,K="onPointerLeave",U="onPointerEnter",M="pointer"),We=H==null?B:yn(H),j=ue==null?B:yn(ue),B=new pe(K,M+"leave",H,a,G),B.target=We,B.relatedTarget=j,K=null,fi(G)===z&&(pe=new pe(U,M+"enter",ue,a,G),pe.target=j,pe.relatedTarget=We,K=pe),We=K,H&&ue)t:{for(pe=jb,U=H,M=ue,j=0,K=U;K;K=pe(K))j++;K=0;for(var de=M;de;de=pe(de))K++;for(;0<j-K;)U=pe(U),j--;for(;0<K-j;)M=pe(M),K--;for(;j--;){if(U===M||M!==null&&U===M.alternate){pe=U;break t}U=pe(U),M=pe(M)}pe=null}else pe=null;H!==null&&D_($,B,H,pe,!1),ue!==null&&We!==null&&D_($,We,ue,pe,!0)}}e:{if(B=z?yn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var ze=Qg;else if(Yg(B))if(Xg)ze=$1;else{ze=Q1;var he=K1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&da(z.elementType)&&(ze=Qg):ze=X1;if(ze&&(ze=ze(t,z))){Kg($,ze,a,G);break e}he&&he(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Po(B,"number",B.value)}switch(he=z?yn(z):window,t){case"focusin":(Yg(he)||he.contentEditable==="true")&&(Ta=he,uf=z,$o=null);break;case"focusout":$o=uf=Ta=null;break;case"mousedown":cf=!0;break;case"contextmenu":case"mouseup":case"dragend":cf=!1,ip($,a,G);break;case"selectionchange":if(Z1)break;case"keydown":case"keyup":ip($,a,G)}var Ce;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ea?Dr(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(bi&&a.locale!=="ko"&&(Ea||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ea&&(Ce=Ho()):(_i=G,qo="value"in _i?_i.value:_i.textContent,Ea=!0)),he=Dc(z,Oe),0<he.length&&(Oe=new Ti(Oe,t,null,a,G),$.push({event:Oe,listeners:he}),Ce?Oe.data=Ce:(Ce=va(a),Ce!==null&&(Oe.data=Ce)))),(Ce=Mn?H1(t,a):F1(t,a))&&(Oe=Dc(z,"onBeforeInput"),0<Oe.length&&(he=new Ti("onBeforeInput","beforeinput",null,a,G),$.push({event:he,listeners:Oe}),he.data=Ce)),kb($,t,z,a,G)}N_($,i)})}function Tl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Dc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(t,a),h!=null&&o.unshift(Tl(t,h,f)),h=Qn(t,i),h!=null&&o.push(Tl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function jb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function D_(t,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var T=a,N=T.alternate,z=T.stateNode;if(T=T.tag,N!==null&&N===o)break;T!==5&&T!==26&&T!==27||z===null||(N=z,h?(z=Qn(a,f),z!=null&&_.unshift(Tl(a,z,N))):h||(z=Qn(a,f),z!=null&&_.push(Tl(a,z,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var zb=/\r\n?/g,Bb=/\u0000|\uFFFD/g;function O_(t){return(typeof t=="string"?t:""+t).replace(zb,`
`).replace(Bb,"")}function M_(t,i){return i=O_(i),O_(t)===i}function Ze(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ln(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ln(t,""+o);break;case"className":_n(t,"class",o);break;case"tabIndex":_n(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,o);break;case"style":zo(t,o,f);break;case"data":if(i!=="object"){_n(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ma(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ma(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Kn);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ma(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":xe("beforetoggle",t),xe("toggle",t),ha(t,"popover",o);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ha(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Du.get(a)||a,ha(t,a,o))}}function kd(t,i,a,o,h,f){switch(a){case"style":zo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ln(t,o):(typeof o=="number"||typeof o=="bigint")&&ln(t,""+o);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Lt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ha(t,a,o)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ze(t,i,f,_,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),o&&Ze(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var T=f=_=h=null,N=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":_=G;break;case"checked":N=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Ze(t,i,o,G,a,null)}}Iu(t,f,T,N,z,_,h,!1);return;case"select":xe("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:Ze(t,i,h,T,a,null)}i=f,a=_,t.multiple=!!o,i!=null?gs(t,!!o,i,!1):a!=null&&gs(t,!!o,a,!0);return;case"textarea":xe("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Ze(t,i,_,T,a,null)}ps(t,o,h,f);return;case"option":for(N in a)a.hasOwnProperty(N)&&(o=a[N],o!=null)&&(N==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Ze(t,i,N,o,a,null));return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(o=0;o<El.length;o++)xe(El[o],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ze(t,i,z,o,a,null)}return;default:if(da(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&kd(t,i,G,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Ze(t,i,T,o,a,null))}function qb(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,N=null,z=null,G=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=$;default:o.hasOwnProperty(H)||Ze(t,i,H,null,o,$)}}for(var B in o){var H=o[B];if($=a[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==$&&Ze(t,i,B,H,o,$)}}fa(t,_,T,N,z,G,f,h);return;case"select":H=_=T=B=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:o.hasOwnProperty(f)||Ze(t,i,f,null,o,N)}for(h in o)if(f=o[h],N=a[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==N&&Ze(t,i,h,f,o,N)}i=T,a=_,o=H,B!=null?gs(t,!!a,B,!1):!!o!=!!a&&(i!=null?gs(t,!!a,i,!0):gs(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,i,T,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Ze(t,i,_,h,o,f)}Nu(t,B,H);return;case"option":for(var ue in a)B=a[ue],a.hasOwnProperty(ue)&&B!=null&&!o.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:Ze(t,i,ue,null,o,B));for(N in o)B=o[N],H=a[N],o.hasOwnProperty(N)&&B!==H&&(B!=null||H!=null)&&(N==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Ze(t,i,N,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)B=a[pe],a.hasOwnProperty(pe)&&B!=null&&!o.hasOwnProperty(pe)&&Ze(t,i,pe,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:Ze(t,i,z,B,o,H)}return;default:if(da(i)){for(var We in a)B=a[We],a.hasOwnProperty(We)&&B!==void 0&&!o.hasOwnProperty(We)&&kd(t,i,We,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||kd(t,i,G,B,o,H);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&Ze(t,i,U,null,o,B);for($ in o)B=o[$],H=a[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||Ze(t,i,$,B,o,H)}function V_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&V_(_)){for(_=0,T=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],z=N.startTime;if(z>T)break;var G=N.transferSize,$=N.initiatorType;G&&V_($)&&(N=N.responseEnd,_+=G*(N<T?1:(T-z)/(N-z)))}if(--o,i+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ud=null,Ld=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function k_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Pd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jd=null;function Fb(){var t=window.event;return t&&t.type==="popstate"?t===jd?!1:(jd=t,!0):(jd=null,!1)}var L_=typeof setTimeout=="function"?setTimeout:void 0,Gb=typeof clearTimeout=="function"?clearTimeout:void 0,P_=typeof Promise=="function"?Promise:void 0,Yb=typeof queueMicrotask=="function"?queueMicrotask:typeof P_<"u"?function(t){return P_.resolve(null).then(t).catch(Kb)}:L_;function Kb(t){setTimeout(function(){throw t})}function js(t){return t==="head"}function j_(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Qa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")bl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,bl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[hi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&bl(t.ownerDocument.body);a=h}while(a);Qa(i)}function z_(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function zd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zd(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Qb(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[hi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function Xb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function B_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function Bd(t){return t.data==="$?"||t.data==="$~"}function qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $b(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Hd=null;function q_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function H_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function F_(t,i,a){switch(i=Oc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ca(t)}var Bn=new Map,G_=new Set;function Mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var es=te.d;te.d={f:Jb,r:Zb,D:Wb,C:eS,L:tS,m:nS,X:sS,S:iS,M:rS};function Jb(){var t=es.f(),i=Ac();return t||i}function Zb(t){var i=xn(t);i!==null&&i.tag===5&&i.type==="form"?ly(i):es.r(t)}var Ga=typeof document>"u"?null:document;function Y_(t,i,a){var o=Ga;if(o&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),G_.has(h)||(G_.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Yt(i,"link",t),At(i),o.head.appendChild(i)))}}function Wb(t){es.D(t),Y_("dns-prefetch",t,null)}function eS(t,i){es.C(t,i),Y_("preconnect",t,i)}function tS(t,i,a){es.L(t,i,a);var o=Ga;if(o&&t&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(t)+'"]';var f=h;switch(i){case"style":f=Ya(t);break;case"script":f=Ka(t)}Bn.has(f)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Sl(f))||i==="script"&&o.querySelector(Al(f))||(i=o.createElement("link"),Yt(i,"link",t),At(i),o.head.appendChild(i)))}}function nS(t,i){es.m(t,i);var a=Ga;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(t)}if(!Bn.has(f)&&(t=S({rel:"modulepreload",href:t},i),Bn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(f)))return}o=a.createElement("link"),Yt(o,"link",t),At(o),a.head.appendChild(o)}}}function iS(t,i,a){es.S(t,i,a);var o=Ga;if(o&&t){var h=di(o).hoistableStyles,f=Ya(t);i=i||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(Sl(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(f))&&Fd(t,a);var N=_=o.createElement("link");At(N),Yt(N,"link",t),N._p=new Promise(function(z,G){N.onload=z,N.onerror=G}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Vc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function sS(t,i){es.X(t,i);var a=Ga;if(a&&t){var o=di(a).hoistableScripts,h=Ka(t),f=o.get(h);f||(f=a.querySelector(Al(h)),f||(t=S({src:t,async:!0},i),(i=Bn.get(h))&&Gd(t,i),f=a.createElement("script"),At(f),Yt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function rS(t,i){es.M(t,i);var a=Ga;if(a&&t){var o=di(a).hoistableScripts,h=Ka(t),f=o.get(h);f||(f=a.querySelector(Al(h)),f||(t=S({src:t,async:!0,type:"module"},i),(i=Bn.get(h))&&Gd(t,i),f=a.createElement("script"),At(f),Yt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function K_(t,i,a,o){var h=(h=Re.current)?Mc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ya(a.href),a=di(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var f=di(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Sl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),f||aS(h,t,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ka(a),a=di(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ya(t){return'href="'+on(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function Q_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function aS(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Yt(i,"link",a),At(i),t.head.appendChild(i))}function Ka(t){return'[src="'+on(t)+'"]'}function Al(t){return"script[async]"+t}function X_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(o)return i.instance=o,At(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),At(o),Yt(o,"style",h),Vc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Ya(a.href);var f=t.querySelector(Sl(h));if(f)return i.state.loading|=4,i.instance=f,At(f),f;o=Q_(a),(h=Bn.get(h))&&Fd(o,h),f=(t.ownerDocument||t).createElement("link"),At(f);var _=f;return _._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),Yt(f,"link",o),i.state.loading|=4,Vc(f,a.precedence,t),i.instance=f;case"script":return f=Ka(a.src),(h=t.querySelector(Al(f)))?(i.instance=h,At(h),h):(o=a,(h=Bn.get(f))&&(o=S({},a),Gd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Yt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Vc(o,a.precedence,t));return i.instance}function Vc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===i)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Fd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var kc=null;function $_(t,i,a){if(kc===null){var o=new Map,h=kc=new Map;h.set(a,o)}else h=kc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[hi]||f[St]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var T=o.get(_);T?T.push(f):o.set(_,[f])}}return o}function J_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function oS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Z_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lS(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ya(o.href),f=i.querySelector(Sl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Uc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,At(f);return}f=i.ownerDocument||i,o=Q_(o),(h=Bn.get(h))&&Fd(o,h),f=f.createElement("link"),At(f);var _=f;_._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),Yt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Yd=0;function uS(t,i){return t.stylesheets&&t.count===0&&Pc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Pc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Yd===0&&(Yd=62500*Hb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Yd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function Pc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,i.forEach(cS,t),Lc=null,Uc.call(t))}function cS(t,i){if(!(i.state.loading&4)){var a=Lc.get(t);if(a)var o=a.get(null);else{a=new Map,Lc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Uc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var wl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function hS(t,i,a,o,h,f,_,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function W_(t,i,a,o,h,f,_,T,N,z,G,$){return t=new hS(t,i,a,_,N,z,G,$,T),i=1,f===!0&&(i|=24),f=En(3,null,null,i),t.current=f,f.stateNode=t,i=wf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Nf(f),t}function e0(t){return t?(t=Aa,t):Aa}function t0(t,i,a,o,h,f){h=e0(h),o.context===null?o.context=h:o.pendingContext=h,o=Is(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ns(t,o,i),a!==null&&(dn(a,t,i),il(a,t,i))}function n0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Kd(t,i){n0(t,i),(t=t.alternate)&&n0(t,i)}function i0(t){if(t.tag===13||t.tag===31){var i=Vr(t,67108864);i!==null&&dn(i,t,67108864),Kd(t,67108864)}}function s0(t){if(t.tag===13||t.tag===31){var i=wn();i=br(i);var a=Vr(t,i);a!==null&&dn(a,t,i),Kd(t,i)}}var jc=!0;function fS(t,i,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=2,Qd(t,i,a,o)}finally{te.p=f,F.T=h}}function dS(t,i,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=8,Qd(t,i,a,o)}finally{te.p=f,F.T=h}}function Qd(t,i,a,o){if(jc){var h=Xd(o);if(h===null)Vd(t,i,o,zc,a),a0(t,o);else if(gS(h,t,i,a,o))o.stopPropagation();else if(a0(t,o),i&4&&-1<mS.indexOf(t)){for(;h!==null;){var f=xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=oi(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var N=1<<31-pt(_);T.entanglements[1]|=N,_&=~N}Ri(f),(He&6)===0&&(bc=tn()+500,vl(0))}}break;case 31:case 13:T=Vr(f,2),T!==null&&dn(T,f,2),Ac(),Kd(f,2)}if(f=Xd(o),f===null&&Vd(t,i,o,zc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Vd(t,i,o,null,a)}}function Xd(t){return t=Dn(t),$d(t)}var zc=null;function $d(t){if(zc=null,t=fi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return zc=t,null}function r0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case Io:return 2;case No:return 8;case ds:case tf:return 32;case _u:return 268435456;default:return 32}default:return 32}}var Jd=!1,zs=null,Bs=null,qs=null,Rl=new Map,Cl=new Map,Hs=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a0(t,i){switch(t){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Il(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=xn(i),i!==null&&i0(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function gS(t,i,a,o,h){switch(i){case"focusin":return zs=Il(zs,t,i,a,o,h),!0;case"dragenter":return Bs=Il(Bs,t,i,a,o,h),!0;case"mouseover":return qs=Il(qs,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Rl.set(f,Il(Rl.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Cl.set(f,Il(Cl.get(f)||null,t,i,a,o,h)),!0}return!1}function o0(t){var i=fi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){s0(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){s0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Xd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Bo=o,a.target.dispatchEvent(o),Bo=null}else return i=xn(a),i!==null&&i0(i),t.blockedOn=a,!1;i.shift()}return!0}function l0(t,i,a){Bc(t)&&a.delete(i)}function pS(){Jd=!1,zs!==null&&Bc(zs)&&(zs=null),Bs!==null&&Bc(Bs)&&(Bs=null),qs!==null&&Bc(qs)&&(qs=null),Rl.forEach(l0),Cl.forEach(l0)}function qc(t,i){t.blockedOn===i&&(t.blockedOn=null,Jd||(Jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,pS)))}var Hc=null;function u0(t){Hc!==t&&(Hc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Hc===t&&(Hc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if($d(o||a)===null)continue;break}var f=xn(a);f!==null&&(t.splice(i,3),i-=3,Xf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Qa(t){function i(N){return qc(N,t)}zs!==null&&qc(zs,t),Bs!==null&&qc(Bs,t),qs!==null&&qc(qs,t),Rl.forEach(i),Cl.forEach(i);for(var a=0;a<Hs.length;a++){var o=Hs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Hs.length&&(a=Hs[0],a.blockedOn===null);)o0(a),a.blockedOn===null&&Hs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Lt]||null;if(typeof f=="function")_||u0(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Lt]||null)T=_.formAction;else if($d(h)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),u0(a)}}}function c0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Zd(t){this._internalRoot=t}Fc.prototype.render=Zd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=wn();t0(a,o,t,i,null,null)},Fc.prototype.unmount=Zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t0(t.current,2,null,t,null,null),Ac(),i[ci]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Au();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Hs.length&&i!==0&&i<Hs[a].priority;a++);Hs.splice(a,0,t),a===0&&o0(t)}};var h0=e.version;if(h0!=="19.2.4")throw Error(r(527,h0,"19.2.4"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var yS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Hn=Gc.inject(yS),Bt=Gc}catch{}}return xl.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=_y,f=vy,_=Ey;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=W_(t,1,!1,null,null,a,o,null,h,f,_,c0),t[ci]=i.current,Md(t),new Zd(i)},xl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=_y,_=vy,T=Ey,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=W_(t,1,!0,i,a??null,o,h,N,f,_,T,c0),i.context=e0(null),a=i.current,o=wn(),o=br(o),h=Is(o),h.callback=null,Ns(a,h,o),a=o,i.current.lanes=a,Er(i,a),Ri(i),t[ci]=i.current,Md(t),new Fc(i)},xl.version="19.2.4",xl}var T0;function CS(){if(T0)return tm.exports;T0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),tm.exports=RS(),tm.exports}var IS=CS();const NS=()=>{};var b0={};const iE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},xS=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],g=s[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,p=y?s[l+2]:0,E=u>>2,S=(u&3)<<4|g>>4;let I=(g&15)<<2|p>>6,k=p&63;y||(k=64,d||(I=64)),r.push(n[E],n[S],n[I],n[k])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(iE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):xS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const p=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||g==null||p==null||S==null)throw new DS;const I=u<<2|g>>4;if(r.push(I),p!==64){const k=g<<4&240|p>>2;if(r.push(k),S!==64){const Y=p<<6&192|S;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class DS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OS=function(s){const e=iE(s);return sE.encodeByteArray(e,!0)},lh=function(s){return OS(s).replace(/\./g,"")},rE=function(s){try{return sE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function MS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VS=()=>MS().__FIREBASE_DEFAULTS__,kS=()=>{if(typeof process>"u"||typeof b0>"u")return;const s=b0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},US=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&rE(s[1]);return e&&JSON.parse(e)},Nh=()=>{try{return NS()||VS()||kS()||US()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},aE=s=>Nh()?.emulatorHosts?.[s],LS=s=>{const e=aE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oE=()=>Nh()?.config,lE=s=>Nh()?.[`_${s}`];class PS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function go(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uE(s){return(await fetch(s,{credentials:"include"})).ok}function jS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[lh(JSON.stringify(n)),lh(JSON.stringify(d)),""].join(".")}const Bl={};function zS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?s.emulator.push(e):s.prod.push(e);return s}function BS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let S0=!1;function cE(s,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Bl[s]===e||Bl[s]||S0)return;Bl[s]=e;function n(I){return`__firebase__banner__${I}`}const r="__firebase__banner",u=zS().prod.length>0;function d(){const I=document.getElementById(r);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,k){I.setAttribute("width","24"),I.setAttribute("id",k),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function p(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{S0=!0,d()},I}function E(I,k){I.setAttribute("id",k),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=BS(r),k=n("text"),Y=document.getElementById(k)||document.createElement("span"),Z=n("learnmore"),X=document.getElementById(Z)||document.createElement("a"),ee=n("preprendIcon"),ae=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ie=I.element;g(ie),E(X,Z);const ce=p();y(ae,ee),ie.append(ae,Y,X,ce),document.body.appendChild(ie)}u?(Y.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function HS(){const s=Nh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function YS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KS(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function QS(){return!HS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const JS="FirebaseError";class us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JS,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?ZS(u,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new us(l,g,r)}}function ZS(s,e){return s.replace(WS,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const WS=/\{\$([^}]+)}/g;function eA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function nr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(A0(u)&&A0(d)){if(!nr(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function A0(s){return s!==null&&typeof s=="object"}function su(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ml(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Vl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function tA(s,e){const n=new nA(s,e);return n.subscribe.bind(n)}class nA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iA(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=rm),l.error===void 0&&(l.error=rm),l.complete===void 0&&(l.complete=rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iA(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function rm(){}function gt(s){return s&&s._delegate?s._delegate:s}class Zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Kr="[DEFAULT]";class sA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new PS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aA(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rA(s){return s===Kr?void 0:s}function aA(s){return s.instantiationMode==="EAGER"}class oA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Me||(Me={}));const lA={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},uA=Me.INFO,cA={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},hA=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=cA[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=uA,this._logHandler=hA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const fA=(s,e)=>e.some(n=>s instanceof n);let w0,R0;function dA(){return w0||(w0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mA(){return R0||(R0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,vm=new WeakMap,fE=new WeakMap,am=new WeakMap,Xm=new WeakMap;function gA(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Js(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&hE.set(n,s)}).catch(()=>{}),Xm.set(e,s),e}function pA(s){if(vm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});vm.set(s,e)}let Em={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return vm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||fE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Js(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function yA(s){Em=s(Em)}function _A(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(om(this),e,...n);return fE.set(r,e.sort?e.sort():[e]),Js(r)}:mA().includes(s)?function(...e){return s.apply(om(this),e),Js(hE.get(this))}:function(...e){return Js(s.apply(om(this),e))}}function vA(s){return typeof s=="function"?_A(s):(s instanceof IDBTransaction&&pA(s),fA(s,dA())?new Proxy(s,Em):s)}function Js(s){if(s instanceof IDBRequest)return gA(s);if(am.has(s))return am.get(s);const e=vA(s);return e!==s&&(am.set(s,e),Xm.set(e,s)),e}const om=s=>Xm.get(s);function EA(s,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),g=Js(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Js(d.result),y.oldVersion,y.newVersion,Js(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const TA=["get","getKey","getAll","getAllKeys","count"],bA=["put","add","delete","clear"],lm=new Map;function C0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=bA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||TA.includes(n)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),l&&y.done]))[0]};return lm.set(e,u),u}yA(s=>({...s,get:(e,n,r)=>C0(e,n)||s.get(e,n,r),has:(e,n)=>!!C0(e,n)||s.has(e,n)}));class SA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AA(s){return s.getComponent()?.type==="VERSION"}const Tm="@firebase/app",I0="0.14.7";const ss=new Qm("@firebase/app"),wA="@firebase/app-compat",RA="@firebase/analytics-compat",CA="@firebase/analytics",IA="@firebase/app-check-compat",NA="@firebase/app-check",xA="@firebase/auth",DA="@firebase/auth-compat",OA="@firebase/database",MA="@firebase/data-connect",VA="@firebase/database-compat",kA="@firebase/functions",UA="@firebase/functions-compat",LA="@firebase/installations",PA="@firebase/installations-compat",jA="@firebase/messaging",zA="@firebase/messaging-compat",BA="@firebase/performance",qA="@firebase/performance-compat",HA="@firebase/remote-config",FA="@firebase/remote-config-compat",GA="@firebase/storage",YA="@firebase/storage-compat",KA="@firebase/firestore",QA="@firebase/ai",XA="@firebase/firestore-compat",$A="firebase",JA="12.8.0";const bm="[DEFAULT]",ZA={[Tm]:"fire-core",[wA]:"fire-core-compat",[CA]:"fire-analytics",[RA]:"fire-analytics-compat",[NA]:"fire-app-check",[IA]:"fire-app-check-compat",[xA]:"fire-auth",[DA]:"fire-auth-compat",[OA]:"fire-rtdb",[MA]:"fire-data-connect",[VA]:"fire-rtdb-compat",[kA]:"fire-fn",[UA]:"fire-fn-compat",[LA]:"fire-iid",[PA]:"fire-iid-compat",[jA]:"fire-fcm",[zA]:"fire-fcm-compat",[BA]:"fire-perf",[qA]:"fire-perf-compat",[HA]:"fire-rc",[FA]:"fire-rc-compat",[GA]:"fire-gcs",[YA]:"fire-gcs-compat",[KA]:"fire-fst",[XA]:"fire-fst-compat",[QA]:"fire-vertex","fire-js":"fire-js",[$A]:"fire-js-all"};const uh=new Map,WA=new Map,Sm=new Map;function N0(s,e){try{s.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ro(s){const e=s.name;if(Sm.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,s);for(const n of uh.values())N0(n,s);for(const n of WA.values())N0(n,s);return!0}function $m(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Rn(s){return s==null?!1:s.settings!==void 0}const ew={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new iu("app","Firebase",ew);class tw{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const po=JA;function dE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:bm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Zs.create("bad-app-name",{appName:String(l)});if(n||(n=oE()),!n)throw Zs.create("no-options");const u=uh.get(l);if(u){if(nr(n,u.options)&&nr(r,u.config))return u;throw Zs.create("duplicate-app",{appName:l})}const d=new oA(l);for(const y of Sm.values())d.addComponent(y);const g=new tw(n,r,d);return uh.set(l,g),g}function mE(s=bm){const e=uh.get(s);if(!e&&s===bm&&oE())return dE();if(!e)throw Zs.create("no-app",{appName:s});return e}function Ws(s,e,n){let r=ZA[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(d.join(" "));return}ro(new Zr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const nw="firebase-heartbeat-database",iw=1,Kl="firebase-heartbeat-store";let um=null;function gE(){return um||(um=EA(nw,iw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Zs.create("idb-open",{originalErrorMessage:s.message})})),um}async function sw(s){try{const n=(await gE()).transaction(Kl),r=await n.objectStore(Kl).get(pE(s));return await n.done,r}catch(e){if(e instanceof us)ss.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e?.message});ss.warn(n.message)}}}async function x0(s,e){try{const r=(await gE()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,pE(s)),await r.done}catch(n){if(n instanceof us)ss.warn(n.message);else{const r=Zs.create("idb-set",{originalErrorMessage:n?.message});ss.warn(r.message)}}}function pE(s){return`${s.name}!${s.options.appId}`}const rw=1024,aw=30;class ow{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=D0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>aw){const l=cw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=D0(),{heartbeatsToSend:n,unsentEntries:r}=lw(this._heartbeatsCache.heartbeats),l=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ss.warn(e),""}}}function D0(){return new Date().toISOString().substring(0,10)}function lw(s,e=rw){const n=[];let r=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),O0(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),O0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function O0(s){return lh(JSON.stringify({version:2,heartbeats:s})).length}function cw(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function hw(s){ro(new Zr("platform-logger",e=>new SA(e),"PRIVATE")),ro(new Zr("heartbeat",e=>new ow(e),"PRIVATE")),Ws(Tm,I0,s),Ws(Tm,I0,"esm2020"),Ws("fire-js","")}hw("");var fw="firebase",dw="12.8.0";Ws(fw,dw,"app");function yE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mw=yE,_E=new iu("auth","Firebase",yE());const ch=new Qm("@firebase/auth");function gw(s,...e){ch.logLevel<=Me.WARN&&ch.warn(`Auth (${po}): ${s}`,...e)}function Zc(s,...e){ch.logLevel<=Me.ERROR&&ch.error(`Auth (${po}): ${s}`,...e)}function ii(s,...e){throw Jm(s,...e)}function Ii(s,...e){return Jm(s,...e)}function vE(s,e,n){const r={...mw(),[e]:n};return new iu("auth","Firebase",r).create(e,{appName:s.name})}function Ni(s){return vE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jm(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return _E.create(s,...e)}function ye(s,e,...n){if(!s)throw Jm(e,...n)}function ts(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Zc(e),new Error(e)}function rs(s,e){s||ts(e)}function Am(){return typeof self<"u"&&self.location?.href||""}function pw(){return M0()==="http:"||M0()==="https:"}function M0(){return typeof self<"u"&&self.location?.protocol||null}function yw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pw()||GS()||"connection"in navigator)?navigator.onLine:!0}function _w(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=qS()||YS()}get(){return yw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zm(s,e){rs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class EE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ew=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tw=new ru(3e4,6e4);function cs(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function hs(s,e,n,r,l={}){return TE(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const g=su({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:y,...u};return FS()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&go(s.emulatorConfig.host)&&(p.credentials="include"),EE.fetch()(await bE(s,s.config.apiHost,n,g),p)})}async function TE(s,e,n){s._canInitEmulator=!1;const r={...vw,...e};try{const l=new Sw(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Yc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Yc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Yc(s,"user-disabled",d);const E=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw vE(s,E,p);ii(s,E)}}catch(l){if(l instanceof us)throw l;ii(s,"network-request-failed",{message:String(l)})}}async function yo(s,e,n,r,l={}){const u=await hs(s,e,n,r,l);return"mfaPendingCredential"in u&&ii(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function bE(s,e,n,r){const l=`${e}${n}?${r}`,u=s,d=u.config.emulator?Zm(s.config,l):`${s.config.apiScheme}://${l}`;return Ew.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function bw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Sw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),Tw.get())})}}function Yc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ii(s,e,r);return l.customData._tokenResponse=n,l}function V0(s){return s!==void 0&&s.enterprise!==void 0}class Aw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bw(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ww(s,e){return hs(s,"GET","/v2/recaptchaConfig",cs(s,e))}async function Rw(s,e){return hs(s,"POST","/v1/accounts:delete",e)}async function hh(s,e){return hs(s,"POST","/v1/accounts:lookup",e)}function ql(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Cw(s,e=!1){const n=gt(s),r=await n.getIdToken(e),l=Wm(r);ye(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:ql(cm(l.auth_time)),issuedAtTime:ql(cm(l.iat)),expirationTime:ql(cm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function cm(s){return Number(s)*1e3}function Wm(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=rE(n);return l?JSON.parse(l):(Zc("Failed to decode base64 JWT payload"),null)}catch(l){return Zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function k0(s){const e=Wm(s);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ao(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof us&&Iw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Iw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Nw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(s){const e=s.auth,n=await s.getIdToken(),r=await ao(s,hh(e,{idToken:n}));ye(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?SE(l.providerUserInfo):[],d=Dw(s.providerData,u),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,p=g?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new wm(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,E)}async function xw(s){const e=gt(s);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Dw(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function SE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Ow(s,e){const n=await TE(s,{},async()=>{const r=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await bE(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&go(s.emulatorConfig.host)&&(y.credentials="include"),EE.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Mw(s,e){return hs(s,"POST","/v2/accounts:revokeToken",cs(s,e))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=k0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await Ow(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,d=new eo;return r&&(ye(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(ye(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(ye(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return ts("not implemented")}}function Gs(s,e){ye(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Nw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new wm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await ao(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Cw(this,e)}reload(){return xw(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await ao(this,Rw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:k,providerData:Y,stsTokenManager:Z}=n;ye(S&&Z,e,"internal-error");const X=eo.fromJSON(this.name,Z);ye(typeof S=="string",e,"internal-error"),Gs(r,e.name),Gs(l,e.name),ye(typeof I=="boolean",e,"internal-error"),ye(typeof k=="boolean",e,"internal-error"),Gs(u,e.name),Gs(d,e.name),Gs(g,e.name),Gs(y,e.name),Gs(p,e.name),Gs(E,e.name);const ee=new ti({uid:S,auth:e,email:l,emailVerified:I,displayName:r,isAnonymous:k,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:X,createdAt:p,lastLoginAt:E});return Y&&Array.isArray(Y)&&(ee.providerData=Y.map(ae=>({...ae}))),y&&(ee._redirectEventId=y),ee}static async _fromIdTokenResponse(e,n,r=!1){const l=new eo;l.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await fh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];ye(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?SE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new eo;g.updateFromIdToken(r);const y=new ti({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new wm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const U0=new Map;function ns(s){rs(s instanceof Function,"Expected a class definition");let e=U0.get(s);return e?(rs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,U0.set(s,e),e)}class AE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AE.type="NONE";const L0=AE;function Wc(s,e,n){return`firebase:${s}:${e}:${n}`}class to{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Wc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hh(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new to(ns(L0),e,r);const l=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||ns(L0);const d=Wc(r,e.config.apiKey,e.name);let g=null;for(const p of n)try{const E=await p._get(d);if(E){let S;if(typeof E=="string"){const I=await hh(e,{idToken:E}).catch(()=>{});if(!I)break;S=await ti._fromGetAccountInfoResponse(e,I,E)}else S=ti._fromJSON(e,E);p!==u&&(g=S),u=p;break}}catch{}const y=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new to(u,e,r):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new to(u,e,r))}}function P0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xE(e))return"Blackberry";if(DE(e))return"Webos";if(RE(e))return"Safari";if((e.includes("chrome/")||CE(e))&&!e.includes("edge/"))return"Chrome";if(NE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function wE(s=en()){return/firefox\//i.test(s)}function RE(s=en()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CE(s=en()){return/crios\//i.test(s)}function IE(s=en()){return/iemobile/i.test(s)}function NE(s=en()){return/android/i.test(s)}function xE(s=en()){return/blackberry/i.test(s)}function DE(s=en()){return/webos/i.test(s)}function eg(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Vw(s=en()){return eg(s)&&!!window.navigator?.standalone}function kw(){return KS()&&document.documentMode===10}function OE(s=en()){return eg(s)||NE(s)||DE(s)||xE(s)||/windows phone/i.test(s)||IE(s)}function ME(s,e=[]){let n;switch(s){case"Browser":n=P0(en());break;case"Worker":n=`${P0(en())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${r}`}class Uw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Lw(s,e={}){return hs(s,"GET","/v2/passwordPolicy",cs(s,e))}const Pw=6;class jw{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Pw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class zw{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j0(this),this.idTokenSubscription=new j0(this),this.beforeStateQueue=new Uw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_E,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await to.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hh(this,{idToken:e}),r=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_w()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Ni(this));const n=e?gt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Lw(this),n=new jw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Mw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ns(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ME(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fr(s){return gt(s)}class j0{constructor(e){this.auth=e,this.observer=null,this.addObserver=tA(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bw(s){xh=s}function VE(s){return xh.loadJS(s)}function qw(){return xh.recaptchaEnterpriseScript}function Hw(){return xh.gapiScript}function Fw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Gw{constructor(){this.enterprise=new Yw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Yw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Kw="recaptcha-enterprise",kE="NO_RECAPTCHA";class Qw{constructor(e){this.type=Kw,this.auth=fr(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{ww(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new Aw(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,d(p.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;V0(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(p=>{d(p)}).catch(()=>{d(kE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Gw().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(g=>{if(!n&&V0(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=qw();y.length!==0&&(y+=g),VE(y).then(()=>{l(g,u,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function z0(s,e,n,r=!1,l=!1){const u=new Qw(s);let d;if(l)d=kE;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Rm(s,e,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await z0(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await z0(s,e,n,n==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function Xw(s,e){const n=$m(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(nr(u,e??{}))return l;ii(l,"already-initialized")}return n.initialize({options:e})}function $w(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ns);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Jw(s,e,n){const r=fr(s);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=UE(e),{host:d,port:g}=Zw(e),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},E=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(nr(p,r.config.emulator)&&nr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,go(d)?(uE(`${u}//${d}${y}`),cE("Auth",!0)):Ww()}function UE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Zw(s){const e=UE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:B0(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:B0(d)}}}function B0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Ww(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class tg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,n){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function e2(s,e){return hs(s,"POST","/v1/accounts:signUp",e)}async function t2(s,e){return yo(s,"POST","/v1/accounts:signInWithPassword",cs(s,e))}async function n2(s,e){return yo(s,"POST","/v1/accounts:signInWithEmailLink",cs(s,e))}async function i2(s,e){return yo(s,"POST","/v1/accounts:signInWithEmailLink",cs(s,e))}class Ql extends tg{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Ql(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ql(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,n,"signInWithPassword",t2);case"emailLink":return n2(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,r,"signUpPassword",e2);case"emailLink":return i2(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function no(s,e){return yo(s,"POST","/v1/accounts:signInWithIdp",cs(s,e))}const s2="http://localhost";class Wr extends tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const d=new Wr(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return no(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,no(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:s2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}function r2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a2(s){const e=Ml(Vl(s)).link,n=e?Ml(Vl(e)).deep_link_id:null,r=Ml(Vl(s)).deep_link_id;return(r?Ml(Vl(r)).link:null)||r||n||e||s}class ng{constructor(e){const n=Ml(Vl(e)),r=n.apiKey??null,l=n.oobCode??null,u=r2(n.mode??null);ye(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=a2(e);try{return new ng(n)}catch{return null}}}class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,n){return Ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ng.parseLink(n);return ye(r,"argument-error"),Ql._fromEmailAndCode(e,r.code,r.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class LE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class au extends LE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ys extends au{constructor(){super("facebook.com")}static credential(e){return Wr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";class Ks extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ks.credential(n,r)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";class Qs extends au{constructor(){super("github.com")}static credential(e){return Wr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";class Xs extends au{constructor(){super("twitter.com")}static credential(e,n){return Wr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xs.credential(n,r)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";async function o2(s,e){return yo(s,"POST","/v1/accounts:signUp",cs(s,e))}class ir{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await ti._fromIdTokenResponse(e,r,l),d=q0(r);return new ir({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=q0(r);return new ir({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function q0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class dh extends us{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new dh(e,n,r,l)}}function PE(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(s,u,e,r):u})}async function l2(s,e,n=!1){const r=await ao(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ir._forOperation(s,"link",r)}async function u2(s,e,n=!1){const{auth:r}=s;if(Rn(r.app))return Promise.reject(Ni(r));const l="reauthenticate";try{const u=await ao(s,PE(r,l,e,s),n);ye(u.idToken,r,"internal-error");const d=Wm(u.idToken);ye(d,r,"internal-error");const{sub:g}=d;return ye(s.uid===g,r,"user-mismatch"),ir._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ii(r,"user-mismatch"),u}}async function jE(s,e,n=!1){if(Rn(s.app))return Promise.reject(Ni(s));const r="signIn",l=await PE(s,r,e),u=await ir._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function c2(s,e){return jE(fr(s),e)}async function h2(s,e){return yo(s,"POST","/v1/accounts:signInWithCustomToken",cs(s,e))}async function f2(s,e){if(Rn(s.app))return Promise.reject(Ni(s));const n=fr(s),r=await h2(n,{token:e,returnSecureToken:!0}),l=await ir._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(l.user),l}async function zE(s){const e=fr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function d2(s,e,n){if(Rn(s.app))return Promise.reject(Ni(s));const r=fr(s),d=await Rm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",o2).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&zE(s),y}),g=await ir._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function m2(s,e,n){return Rn(s.app)?Promise.reject(Ni(s)):c2(gt(s),_o.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zE(s),r})}async function g2(s,e){return hs(s,"POST","/v1/accounts:update",e)}async function BE(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=gt(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await ao(r,g2(r.auth,u));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const g=r.providerData.find(({providerId:y})=>y==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function p2(s,e,n,r){return gt(s).onIdTokenChanged(e,n,r)}function y2(s,e,n){return gt(s).beforeAuthStateChanged(e,n)}function _2(s,e,n,r){return gt(s).onAuthStateChanged(e,n,r)}function v2(s){return gt(s).signOut()}const mh="__sak";class qE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const E2=1e3,T2=10;class HE extends qE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);kw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,T2):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},E2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HE.type="LOCAL";const b2=HE;class FE extends qE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FE.type="SESSION";const GE=FE;function S2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async p=>p(n.origin,u)),y=await S2(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];function ig(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class A2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=ig("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const I=S;if(I.data.eventId===p)switch(I.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(I.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function xi(){return window}function w2(s){xi().location.href=s}function YE(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function R2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C2(){return navigator?.serviceWorker?.controller||null}function I2(){return YE()?self:null}const KE="firebaseLocalStorageDb",N2=1,gh="firebaseLocalStorage",QE="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(s,e){return s.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function x2(){const s=indexedDB.deleteDatabase(KE);return new ou(s).toPromise()}function Cm(){const s=indexedDB.open(KE,N2);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(gh,{keyPath:QE})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(gh)?e(r):(r.close(),await x2(),e(await Cm()))})})}async function H0(s,e,n){const r=Oh(s,!0).put({[QE]:e,value:n});return new ou(r).toPromise()}async function D2(s,e){const n=Oh(s,!1).get(e),r=await new ou(n).toPromise();return r===void 0?null:r.value}function F0(s,e){const n=Oh(s,!0).delete(e);return new ou(n).toPromise()}const O2=800,M2=3;class XE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>M2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(I2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await R2(),!this.activeServiceWorker)return;this.sender=new A2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await H0(e,mh,"1"),await F0(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>H0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>D2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>F0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Oh(l,!1).getAll();return new ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XE.type="LOCAL";const V2=XE;new ru(3e4,6e4);function k2(s,e){return e?ns(e):(ye(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class sg extends tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U2(s){return jE(s.auth,new sg(s),s.bypassAuthState)}function L2(s){const{auth:e,user:n}=s;return ye(n,e,"internal-error"),u2(n,new sg(s),s.bypassAuthState)}async function P2(s){const{auth:e,user:n}=s;return ye(n,e,"internal-error"),l2(n,new sg(s),s.bypassAuthState)}class $E{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U2;case"linkViaPopup":case"linkViaRedirect":return P2;case"reauthViaPopup":case"reauthViaRedirect":return L2;default:ii(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const j2=new ru(2e3,1e4);class Wa extends $E{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j2.get())};e()}}Wa.currentPopupAction=null;const z2="pendingRedirect",eh=new Map;class B2 extends $E{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const r=await q2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q2(s,e){const n=G2(e),r=F2(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function H2(s,e){eh.set(s._key(),e)}function F2(s){return ns(s._redirectPersistence)}function G2(s){return Wc(z2,s.config.apiKey,s.name)}async function Y2(s,e,n=!1){if(Rn(s.app))return Promise.reject(Ni(s));const r=fr(s),l=k2(r,e),d=await new B2(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const K2=600*1e3;class Q2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!JE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K2&&this.cachedEventUids.clear(),this.cachedEventUids.has(G0(e))}saveEventToCache(e){this.cachedEventUids.add(G0(e)),this.lastProcessedEventTime=Date.now()}}function G0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function JE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function X2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JE(s);default:return!1}}async function $2(s,e={}){return hs(s,"GET","/v1/projects",e)}const J2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z2=/^https?/;async function W2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await $2(s);for(const n of e)try{if(eR(n))return}catch{}ii(s,"unauthorized-domain")}function eR(s){const e=Am(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!Z2.test(n))return!1;if(J2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const tR=new ru(3e4,6e4);function Y0(){const s=xi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function nR(s){return new Promise((e,n)=>{function r(){Y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y0(),n(Ii(s,"network-request-failed"))},timeout:tR.get()})}if(xi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xi().gapi?.load)r();else{const l=Fw("iframefcb");return xi()[l]=()=>{gapi.load?r():n(Ii(s,"network-request-failed"))},VE(`${Hw()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw th=null,e})}let th=null;function iR(s){return th=th||nR(s),th}const sR=new ru(5e3,15e3),rR="__/auth/iframe",aR="emulator/auth/iframe",oR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uR(s){const e=s.config;ye(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Zm(e,aR):`https://${s.config.authDomain}/${rR}`,r={apiKey:e.apiKey,appName:s.name,v:po},l=lR.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${su(r).slice(1)}`}async function cR(s){const e=await iR(s),n=xi().gapi;return ye(n,s,"internal-error"),e.open({where:document.body,url:uR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oR,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ii(s,"network-request-failed"),g=xi().setTimeout(()=>{u(d)},sR.get());function y(){xi().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{u(d)})}))}const hR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fR=500,dR=600,mR="_blank",gR="http://localhost";class K0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pR(s,e,n,r=fR,l=dR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...hR,width:r.toString(),height:l.toString(),top:u,left:d},p=en().toLowerCase();n&&(g=CE(p)?mR:n),wE(p)&&(e=e||gR,y.scrollbars="yes");const E=Object.entries(y).reduce((I,[k,Y])=>`${I}${k}=${Y},`,"");if(Vw(p)&&g!=="_self")return yR(e||"",g),new K0(null);const S=window.open(e||"",g,E);ye(S,s,"popup-blocked");try{S.focus()}catch{}return new K0(S)}function yR(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const _R="__/auth/handler",vR="emulator/auth/handler",ER=encodeURIComponent("fac");async function Q0(s,e,n,r,l,u){ye(s.config.authDomain,s,"auth-domain-config-required"),ye(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:po,eventId:l};if(e instanceof LE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",eA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(e instanceof au){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await s._getAppCheckToken(),p=y?`#${ER}=${encodeURIComponent(y)}`:"";return`${TR(s)}?${su(g).slice(1)}${p}`}function TR({config:s}){return s.emulator?Zm(s,vR):`https://${s.authDomain}/${_R}`}const hm="webStorageSupport";class bR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GE,this._completeRedirectFn=Y2,this._overrideRedirectResult=H2}async _openPopup(e,n,r,l){rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Q0(e,n,r,Am(),l);return pR(e,u,ig())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await Q0(e,n,r,Am(),l);return w2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(rs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cR(e),r=new Q2(e);return n.register("authEvent",l=>(ye(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},l=>{const u=l?.[0]?.[hm];u!==void 0&&n(!!u),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OE()||RE()||eg()}}const SR=bR;var X0="@firebase/auth",$0="1.12.0";class AR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RR(s){ro(new Zr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;ye(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ME(s)},p=new zw(r,l,u,y);return $w(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ro(new Zr("auth-internal",e=>{const n=fr(e.getProvider("auth").getImmediate());return(r=>new AR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(X0,$0,wR(s)),Ws(X0,$0,"esm2020")}const CR=300,IR=lE("authIdTokenMaxAge")||CR;let J0=null;const NR=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>IR)return;const l=n?.token;J0!==l&&(J0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function xR(s=mE()){const e=$m(s,"auth");if(e.isInitialized())return e.getImmediate();const n=Xw(s,{popupRedirectResolver:SR,persistence:[V2,b2,GE]}),r=lE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=NR(u.toString());y2(n,d,()=>d(n.currentUser)),p2(n,g=>d(g))}}const l=aE("auth");return l&&Jw(n,`http://${l}`),n}function DR(){return document.getElementsByTagName("head")?.[0]??document}Bw({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=Ii("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",DR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RR("Browser");var Z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var er,ZE;(function(){var s;function e(x,w){function R(){}R.prototype=w.prototype,x.F=w.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(O,D,L){for(var C=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)C[Xe-2]=arguments[Xe];return w.prototype[D].apply(O,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,R){R||(R=0);const O=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)O[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;D<16;++D)O[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=x.g[0],R=x.g[1],D=x.g[2];let L=x.g[3],C;C=w+(L^R&(D^L))+O[0]+3614090360&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(D^w&(R^D))+O[1]+3905402710&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(R^L&(w^R))+O[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(w^D&(L^w))+O[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(L^R&(D^L))+O[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(D^w&(R^D))+O[5]+1200080426&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(R^L&(w^R))+O[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(w^D&(L^w))+O[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(L^R&(D^L))+O[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(D^w&(R^D))+O[9]+2336552879&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(R^L&(w^R))+O[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(w^D&(L^w))+O[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(L^R&(D^L))+O[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(D^w&(R^D))+O[13]+4254626195&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(R^L&(w^R))+O[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(w^D&(L^w))+O[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(D^L&(R^D))+O[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(w^R))+O[6]+3225465664&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(L^w))+O[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(D^L))+O[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^L&(R^D))+O[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(w^R))+O[10]+38016083&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(L^w))+O[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(D^L))+O[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^L&(R^D))+O[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(w^R))+O[14]+3275163606&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(L^w))+O[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(D^L))+O[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^L&(R^D))+O[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(w^R))+O[2]+4243563512&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(L^w))+O[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(D^L))+O[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(R^D^L)+O[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^D)+O[8]+2272392833&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^R)+O[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^w)+O[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^L)+O[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^D)+O[4]+1272893353&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^R)+O[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^w)+O[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^L)+O[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^D)+O[0]+3936430074&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^R)+O[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^w)+O[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^L)+O[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^D)+O[12]+3873151461&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^R)+O[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^w)+O[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(D^(R|~L))+O[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~D))+O[7]+1126891415&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~R))+O[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~w))+O[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~L))+O[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~D))+O[3]+2399980690&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~R))+O[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~w))+O[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~L))+O[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~D))+O[15]+4264355552&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~R))+O[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~w))+O[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~L))+O[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~D))+O[11]+3174756917&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~R))+O[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~w))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+L&4294967295}r.prototype.v=function(x,w){w===void 0&&(w=x.length);const R=w-this.blockSize,O=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=R;)l(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<w;)if(O[D++]=x.charCodeAt(L++),D==this.blockSize){l(this,O),D=0;break}}else for(;L<w;)if(O[D++]=x[L++],D==this.blockSize){l(this,O),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)x[w++]=this.g[R]>>>O&255;return x};function u(x,w){var R=g;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=w(x)}function d(x,w){this.h=w;const R=[];let O=!0;for(let D=x.length-1;D>=0;D--){const L=x[D]|0;O&&L==w||(R[D]=L,O=!1)}this.g=R}var g={};function y(x){return-128<=x&&x<128?u(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return X(p(-x));const w=[];let R=1;for(let O=0;x>=R;O++)w[O]=x/R|0,R*=4294967296;return new d(w,0)}function E(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return X(E(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(w,8));let O=S;for(let L=0;L<x.length;L+=8){var D=Math.min(8,x.length-L);const C=parseInt(x.substring(L,L+D),w);D<8?(D=p(Math.pow(w,D)),O=O.j(D).add(p(C))):(O=O.j(R),O=O.add(p(C)))}return O}var S=y(0),I=y(1),k=y(16777216);s=d.prototype,s.m=function(){if(Z(this))return-X(this).m();let x=0,w=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);x+=(O>=0?O:4294967296+O)*w,w*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Y(this))return"0";if(Z(this))return"-"+X(this).toString(x);const w=p(Math.pow(x,6));var R=this;let O="";for(;;){const D=ce(R,w).g;R=ee(R,D.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=D,Y(R))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Y(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function Z(x){return x.h==-1}s.l=function(x){return x=ee(this,x),Z(x)?-1:Y(x)?0:1};function X(x){const w=x.g.length,R=[];for(let O=0;O<w;O++)R[O]=~x.g[O];return new d(R,~x.h).add(I)}s.abs=function(){return Z(this)?X(this):this},s.add=function(x){const w=Math.max(this.g.length,x.g.length),R=[];let O=0;for(let D=0;D<=w;D++){let L=O+(this.i(D)&65535)+(x.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);O=C>>>16,L&=65535,C&=65535,R[D]=C<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ee(x,w){return x.add(X(w))}s.j=function(x){if(Y(this)||Y(x))return S;if(Z(this))return Z(x)?X(this).j(X(x)):X(X(this).j(x));if(Z(x))return X(this.j(X(x)));if(this.l(k)<0&&x.l(k)<0)return p(this.m()*x.m());const w=this.g.length+x.g.length,R=[];for(var O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<x.g.length;D++){const L=this.i(O)>>>16,C=this.i(O)&65535,Xe=x.i(D)>>>16,ht=x.i(D)&65535;R[2*O+2*D]+=C*ht,ae(R,2*O+2*D),R[2*O+2*D+1]+=L*ht,ae(R,2*O+2*D+1),R[2*O+2*D+1]+=C*Xe,ae(R,2*O+2*D+1),R[2*O+2*D+2]+=L*Xe,ae(R,2*O+2*D+2)}for(x=0;x<w;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=w;x<2*w;x++)R[x]=0;return new d(R,0)};function ae(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function ie(x,w){this.g=x,this.h=w}function ce(x,w){if(Y(w))throw Error("division by zero");if(Y(x))return new ie(S,S);if(Z(x))return w=ce(X(x),w),new ie(X(w.g),X(w.h));if(Z(w))return w=ce(x,X(w)),new ie(X(w.g),w.h);if(x.g.length>30){if(Z(x)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var R=I,O=w;O.l(x)<=0;)R=Ie(R),O=Ie(O);var D=Se(R,1),L=Se(O,1);for(O=Se(O,2),R=Se(R,2);!Y(O);){var C=L.add(O);C.l(x)<=0&&(D=D.add(R),L=C),O=Se(O,1),R=Se(R,1)}return w=ee(x,D.j(w)),new ie(D,w)}for(D=S;x.l(w)>=0;){for(R=Math.max(1,Math.floor(x.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=p(R),C=L.j(w);Z(C)||C.l(x)>0;)R-=O,L=p(R),C=L.j(w);Y(L)&&(L=I),D=D.add(L),x=ee(x,C)}return new ie(D,x)}s.B=function(x){return ce(this,x).h},s.and=function(x){const w=Math.max(this.g.length,x.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)&x.i(O);return new d(R,this.h&x.h)},s.or=function(x){const w=Math.max(this.g.length,x.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)|x.i(O);return new d(R,this.h|x.h)},s.xor=function(x){const w=Math.max(this.g.length,x.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)^x.i(O);return new d(R,this.h^x.h)};function Ie(x){const w=x.g.length+1,R=[];for(let O=0;O<w;O++)R[O]=x.i(O)<<1|x.i(O-1)>>>31;return new d(R,x.h)}function Se(x,w){const R=w>>5;w%=32;const O=x.g.length-R,D=[];for(let L=0;L<O;L++)D[L]=w>0?x.i(L+R)>>>w|x.i(L+R+1)<<32-w:x.i(L+R);return new d(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ZE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,er=d}).apply(typeof Z0<"u"?Z0:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var WE,kl,eT,nh,Im,tT,nT,iT;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,m){if(m)e:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var P=c[b];if(!(P in v))break e;v=v[P]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function p(c,m,v){return p=y,p.apply(null,arguments)}function E(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,P,q){for(var ne=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ne[Ae-2]=arguments[Ae];return m.prototype[P].apply(b,ne)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const m=c.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function Y(c,m){for(let b=1;b<arguments.length;b++){const P=arguments[b];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const q=P.length||0;c.length=v+q;for(let ne=0;ne<q;ne++)c[v+ne]=P[ne]}else c.push(P)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(c){d.setTimeout(()=>{throw c},0)}function ee(){var c=x;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ae{constructor(){this.h=this.g=null}add(m,v){const b=ie.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ie=new Z(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,Se=!1,x=new ae,w=()=>{const c=Promise.resolve(void 0);Ie=()=>{c.then(R)}};function R(){for(var c;c=ee();){try{c.h.call(c.g)}catch(v){X(v)}var m=ie;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Se=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Xe(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(Xe,D),Xe.prototype.init=function(c,m){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(c,m,v,b,P){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=P,this.key=++F,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function Ge(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function V(c){const m={};for(const v in c)m[v]=c[v];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,m){let v,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(v in b)c[v]=b[v];for(let q=0;q<J.length;q++)v=J[q],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,m,v,b,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ne=Re(c,m,b,P);return ne>-1?(m=c[ne],v||(m.fa=!1)):(m=new te(m,this.src,q,!!b,P),m.fa=v,c.push(m)),m};function ve(c,m){const v=m.type;if(v in c.g){var b=c.g[v],P=Array.prototype.indexOf.call(b,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(b,P,1),q&&(ge(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Re(c,m,v,b){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return P}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Mt={};function ot(c,m,v,b,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ot(c,m[q],v,b,P);return null}return v=Co(v),c&&c[ht]?c.J(m,v,g(b)?!!b.capture:!1,P):pr(c,m,v,!1,b,P)}function pr(c,m,v,b,P,q){if(!m)throw Error("Invalid event type");const ne=g(P)?!!P.capture:!!P;let Ae=yr(c);if(Ae||(c[Le]=Ae=new le(c)),v=Ae.add(m,v,b,ne,q),v.proxy)return v;if(b=ra(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)L||(P=ne),P===void 0&&(P=!1),c.addEventListener(m.toString(),b,P);else if(c.attachEvent)c.attachEvent(ri(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ra(){function c(v){return m.call(c.src,c.listener,v)}const m=wo;return c}function aa(c,m,v,b,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)aa(c,m[q],v,b,P);else b=g(b)?!!b.capture:!!b,v=Co(v),c&&c[ht]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=Re(m,v,b,P),v>-1&&(ge(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=yr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Re(m,v,b,P)),(v=c>-1?m[c]:null)&&oa(v))}function oa(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ht])ve(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(ri(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=yr(m))?(ve(v,c),v.h==0&&(v.src=null,m[Le]=null)):ge(c)}}}function ri(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function wo(c,m){if(c.da)c=!0;else{m=new Xe(m,this);const v=c.listener,b=c.ha||c.src;c.fa&&oa(c),c=v.call(b,m)}return c}function yr(c){return c=c[Le],c instanceof le?c:null}var Ro="__closure_events_fn_"+(Math.random()*1e9>>>0);function Co(c){return typeof c=="function"?c:(c[Ro]||(c[Ro]=function(m){return c.handleEvent(m)}),c[Ro])}function Tt(){O.call(this),this.i=new le(this),this.M=this,this.G=null}S(Tt,O),Tt.prototype[ht]=!0,Tt.prototype.removeEventListener=function(c,m,v,b){aa(this,c,m,v,b)};function Vt(c,m){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var P=m;m=new D(b,c),se(m,P)}P=!0;let q,ne;if(v)for(ne=v.length-1;ne>=0;ne--)q=m.g=v[ne],P=fs(q,b,!0,m)&&P;if(q=m.g=c,P=fs(q,b,!0,m)&&P,P=fs(q,b,!1,m)&&P,v)for(ne=0;ne<v.length;ne++)q=m.g=v[ne],P=fs(q,b,!1,m)&&P}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let b=0;b<v.length;b++)ge(v[b]);delete c.g[m],c.h--}}this.G=null},Tt.prototype.J=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},Tt.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function fs(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const ne=m[q];if(ne&&!ne.da&&ne.capture==v){const Ae=ne.listener,yt=ne.ha||ne.src;ne.fa&&ve(c.i,ne),P=Ae.call(yt,b)!==!1&&P}}return P&&!b.defaultPrevented}function ef(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function yu(c){c.g=ef(()=>{c.g=null,c.i&&(c.i=!1,yu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class tn extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(c){O.call(this),this.h=c,this.g={}}S(_r,O);var Io=[];function No(c){je(c.g,function(m,v){this.g.hasOwnProperty(v)&&oa(m)},c),c.g={}}_r.prototype.N=function(){_r.Z.N.call(this),No(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=d.JSON.stringify,tf=d.JSON.parse,_u=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function vu(){}function Eu(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){D.call(this,"d")}S(Bt,D);function Nn(){D.call(this,"c")}S(Nn,D);var pt={},Tu=null;function la(){return Tu=Tu||new Tt}pt.Ia="serverreachability";function bu(c){D.call(this,pt.Ia,c)}S(bu,D);function ai(c){const m=la();Vt(m,new bu(m))}pt.STAT_EVENT="statevent";function vr(c,m){D.call(this,pt.STAT_EVENT,c),this.stat=m}S(vr,D);function bt(c){const m=la();Vt(m,new vr(m,c))}pt.Ja="timingevent";function oi(c,m){D.call(this,pt.Ja,c),this.size=m}S(oi,D);function li(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function nf(c,m,v,b,P,q){c.info(function(){if(c.g)if(q){var ne="",Ae=q.split("&");for(let qe=0;qe<Ae.length;qe++){var yt=Ae[qe].split("=");if(yt.length>1){const lt=yt[0];yt=yt[1];const Mn=lt.split("_");ne=Mn.length>=2&&Mn[1]=="type"?ne+(lt+"="+yt+"&"):ne+(lt+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+m+`
`+v+`
`+ne})}function Su(c,m,v,b,P,q,ne){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+ne})}function ui(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+sf(c,v)+(b?" "+b:"")})}function Er(c,m){c.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function sf(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ne=1;ne<b.length;ne++)b[ne]=""}}}}return ds(q)}catch{return m}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Do;function br(){}S(br,vu),br.prototype.g=function(){return new XMLHttpRequest},Do=new br;function Ui(c){return encodeURIComponent(String(c))}function Au(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Gn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.S=b||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var St={},Lt={};function ci(c,m,v){c.M=1,c.A=Sr(wt(m)),c.u=v,c.R=!0,ua(c,null)}function ua(c,m){c.F=Date.now(),hi(c),c.B=wt(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),da(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Yn,c.g=ju(c.j,v?m:null,!c.u),c.P>0&&(c.O=new tn(p(c.Y,c,c.g),c.P)),m=c.V,v=c.g,b=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Io[0]=P.toString()),P=Io);for(let q=0;q<P.length;q++){const ne=ot(v,P[q],b||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ai(),nf(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Xn(c)==3?m.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Xn(this.g),yt=this.g.ya(),qe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Ae!=4||yt==7||(yt==8||qe<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=rf(this);if(this.o=m==200,Su(this.i,this.v,this.B,this.l,this.S,Ae,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var q=b;break t}}q=null}if(c=q)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,bt(12),yn(this),xn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=Ru(this,v),lt==Lt){Ae==4&&(this.m=4,bt(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==St){this.m=4,bt(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,lt,null),di(this,lt);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||v.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(ne),ne.P=!0,bt(11))}}else ui(this.i,this.l,v,null),di(this,v);Ae==4&&yn(this),this.o&&!this.K&&(Ae==4?ku(this.j,this):(this.o=!1,hi(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),yn(this),xn(this)}}}catch{}};function rf(c){if(!wu(c))return c.g.la();const m=qt(c.g);if(m==="")return"";let v="";const b=m.length,P=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return yn(c),xn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<b;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(P&&q==b-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function wu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ru(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?Lt:(v=Number(m.substring(v,b)),isNaN(v)?St:(b+=1,b+v>m.length?Lt:(m=m.slice(b,b+v),c.C=b+v,m)))}Gn.prototype.cancel=function(){this.K=!0,yn(this)};function hi(c){c.T=Date.now()+c.H,ca(c,c.H)}function ca(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(p(c.aa,c),m)}function fi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Er(this.i,this.B),this.M!=2&&(ai(),bt(17)),yn(this),this.m=2,xn(this)):ca(this,this.T-c)};function xn(c){c.j.I==0||c.K||ku(c.j,c)}function yn(c){fi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,No(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function di(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||gi(v.h,c))){if(!c.L&&gi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)_a(v),Ts(v);else break e;xr(v),bt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(p(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&_a(v),!C(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let qe=P[m];const lt=qe[0];if(!(lt<=v.K))if(v.K=lt,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Mn=qe[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const bi=qe[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const $n=qe[5];$n!=null&&typeof $n=="number"&&$n>0&&(b=1.5*$n,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Jn=c.g;if(Jn){const Dr=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var q=b.h;q.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Vo(q,q.h),q.h=null))}if(b.G){const va=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(b.wa=va,Ye(b.J,b.G,va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ne=c;if(b.na=Pu(b,b.L?b.ba:null,b.W),ne.L){ko(b.h,ne);var Ae=ne,yt=b.O;yt&&(Ae.H=yt),Ae.D&&(fi(Ae),hi(Ae)),b.g=ne}else Mu(b);v.i.length>0&&Ei(v)}else qe[0]!="stop"&&qe[0]!="close"||Ti(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ti(v,7):Fo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}ai(4)}catch{}}var At=class{constructor(c,m){this.g=c,this.map=m}};function Oo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function gi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Vo(c,m){c.g?c.g.add(m):c.h=m}function ko(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Oo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return k(c.i)}var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let P,q=null;b>=0?(P=c[v].substring(0,b),q=c[v].substring(b+1)):P=c[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof _n?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,ms(this,c.u),this.h=c.h,Lo(this,Du(c.i)),this.m=c.m):c&&(m=String(c).match(Cu))?(this.l=!1,Pt(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),ms(this,m[4]),this.h=pi(m[5]||"",!0),Lo(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}_n.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Ar(m,fa,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ar(m,fa,!0),"@"),c.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ar(v,v.charAt(0)=="/"?Po:Iu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ar(v,Nu)),c.join("")},_n.prototype.resolve=function(c){const m=wt(this);let v=!!c.j;v?Pt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var b=c.h;if(v)ms(m,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=m.h.lastIndexOf("/");P!=-1&&(b=m.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let ne=0;ne<P.length;){const Ae=P[ne++];Ae=="."?b&&ne==P.length&&q.push(""):Ae==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&ne==P.length&&q.push("")):(q.push(Ae),b=!0)}b=q.join("/")}else b=P}return v?m.h=b:v=c.i.toString()!=="",v?Lo(m,Du(c.i)):v=!!c.m,v&&(m.m=c.m),m};function wt(c){return new _n(c)}function Pt(c,m,v){c.j=v?pi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ms(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Lo(c,m,v){m instanceof ps?(c.i=m,ma(c.i,c.l)):(v||(m=Ar(m,gs)),c.i=new ps(m,c.l))}function Ye(c,m,v){c.i.set(m,v)}function Sr(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ar(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fa=/[#\/\?@]/g,Iu=/[#\?:]/g,Po=/[#\?]/g,gs=/[#\?@]/g,Nu=/#/g;function ps(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ha(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ps.prototype,s.add=function(c,m){ln(this),this.i=null,c=ys(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function xu(c,m){ln(c),m=ys(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function jo(c,m){return ln(c),m=ys(c,m),c.g.has(m)}s.forEach=function(c,m){ln(this),this.g.forEach(function(v,b){v.forEach(function(P){c.call(m,P,b,this)},this)},this)};function zo(c,m){ln(c);let v=[];if(typeof m=="string")jo(c,m)&&(v=v.concat(c.g.get(ys(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return ln(this),this.i=null,c=ys(this,c),jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=zo(this,c),c.length>0?String(c[0]):m):m};function da(c,m,v){xu(c,m),v.length>0&&(c.i=null,c.g.set(ys(c,m),k(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const P=Ui(v);v=zo(this,v);for(let q=0;q<v.length;q++){let ne=P;v[q]!==""&&(ne+="="+Ui(v[q])),c.push(ne)}}return this.i=c.join("&")};function Du(c){const m=new ps;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function ys(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ma(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,b){const P=b.toLowerCase();b!=P&&(xu(this,b),da(this,P,v))},c)),c.j=m}function Kn(c,m){const v=new Fn;if(d.Image){const b=new Image;b.onload=E(Dn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Dn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Dn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Dn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function Bo(c,m){const v=new Fn,b=new AbortController,P=setTimeout(()=>{b.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(q=>{clearTimeout(P),q.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Dn(v,"TestPingServer: error",!1,m)})}function Dn(c,m,v,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(v)}catch{}}function _s(){this.g=new _u}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(yi,vu),yi.prototype.g=function(){return new wr(this.i,this.h)};function wr(c,m){Tt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(wr,Tt),s=wr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Qn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?vs(this):Qn(this),this.readyState==3&&ga(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,vs(this))},s.Na=function(c){this.g&&(this.response=c,vs(this))},s.ga=function(){this.g&&vs(this)};function vs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let m="";return je(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Rr(c,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=On(v),typeof c=="string"?v!=null&&Ui(v):Ye(c,m,v))}function $e(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($e,Tt);var _i=/^https?$/i,qo=["POST","PUT"];s=$e.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Do.g(),this.g.onreadystatechange=I(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Cr(this,q);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)v.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(qo,m,void 0)>=0)||b||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of v)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Cr(this,q)}};function Cr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Ho(c),Li(c)}function Ho(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Li(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),$e.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ir(this):this.Xa())},s.Xa=function(){Ir(this)};function Ir(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let ne=String(c.D).match(Cu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),b=!_i.test(ne?ne.toLowerCase():"")}v=b}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var P=Xn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Ho(c)}}finally{Li(c)}}}}function Li(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),tf(m)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const m={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(C(c[b]))continue;var v=Au(c[b]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Ge(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Es(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Oo(c&&c.concurrentRequestLimit),this.Ba=new _s,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Es.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,b){bt(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Pu(this,null,this.W),Ei(this)};function Fo(c){if(pa(c),c.I==3){var m=c.V++,v=wt(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),Nr(c,v),m=new Gn(c,c.j,m),m.M=2,m.A=Sr(wt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=ju(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}Lu(c)}function Ts(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function pa(c){Ts(c),c.v&&(d.clearTimeout(c.v),c.v=null),_a(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ei(c){if(!Mo(c.h)&&!c.m){c.m=!0;var m=c.Ea;Ie||w(),Se||(Ie(),Se=!0),x.add(m,c),c.D=0}}function ya(c,m){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(p(c.Ea,c,m),Uu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Gn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=V(q),se(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ou(this,P,m),v=wt(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Nr(this,v),q&&(this.R?m="headers="+Ui(On(q))+"&"+m:this.u&&Rr(v,this.u,q)),Vo(this.h,P),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",m),Ye(v,"SID","null"),P.U=!0,ci(P,v,null)):ci(P,v,m),this.I=2}}else this.I==3&&(c?Go(this,c):this.i.length==0||Mo(this.h)||Go(this))};function Go(c,m){var v;m?v=m.l:v=c.V++;const b=wt(c.J);Ye(b,"SID",c.M),Ye(b,"RID",v),Ye(b,"AID",c.K),Nr(c,b),c.u&&c.o&&Rr(b,c.u,c.o),v=new Gn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Ou(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Vo(c.h,v),ci(v,b,m)}function Nr(c,m){c.H&&je(c.H,function(v,b){Ye(m,b,v)}),c.l&&je({},function(v,b){Ye(m,b,v)})}function Ou(c,m,v){v=Math.min(c.i.length,v);const b=c.l?p(c.l.Ka,c.l,c):null;e:{var P=c.i;let Ae=-1;for(;;){const yt=["count="+v];Ae==-1?v>0?(Ae=P[0].g,yt.push("ofs="+Ae)):Ae=0:yt.push("ofs="+Ae);let qe=!0;for(let lt=0;lt<v;lt++){var q=P[lt].g;const Mn=P[lt].map;if(q-=Ae,q<0)Ae=Math.max(0,P[lt].g-100),qe=!1;else try{q="req"+q+"_"||"";try{var ne=Mn instanceof Map?Mn:Object.entries(Mn);for(const[bi,$n]of ne){let Jn=$n;g($n)&&(Jn=ds($n)),yt.push(q+bi+"="+encodeURIComponent(Jn))}}catch(bi){throw yt.push(q+"type="+encodeURIComponent("_badmap")),bi}}catch{b&&b(Mn)}}if(qe){ne=yt.join("&");break e}}ne=void 0}return c=c.i.splice(0,v),m.G=c,ne}function Mu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Ie||w(),Se||(Ie(),Se=!0),x.add(m,c),c.A=0}}function xr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(p(c.Da,c),Uu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(p(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Ts(this),Vu(this))};function Yo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Vu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=wt(c.na);Ye(m,"RID","rpc"),Ye(m,"SID",c.M),Ye(m,"AID",c.K),Ye(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(m,"TO",c.ia),Ye(m,"TYPE","xmlhttp"),Nr(c,m),c.u&&c.o&&Rr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Sr(wt(m)),v.u=null,v.R=!0,ua(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Ts(this),xr(this),bt(19))};function _a(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ku(c,m){var v=null;if(c.g==m){_a(c),Yo(c),c.g=null;var b=2}else if(gi(c.h,m))v=m.G,ko(c.h,m),b=1;else return;if(c.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;b=la(),Vt(b,new oi(b,v)),Ei(c)}else Mu(c);else if(P=m.m,P==3||P==0&&m.X>0||!(b==1&&ya(c,m)||b==2&&xr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),P){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Uu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ti(c,m){if(c.j.info("Error code "+m),m==2){var v=p(c.bb,c),b=c.Ua;const P=!b;b=new _n(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pt(b,"https"),Sr(b),P?Kn(b.toString(),v):Bo(b.toString(),v)}else bt(2);c.I=0,c.l&&c.l.pa(m),Lu(c),pa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Lu(c){if(c.I=0,c.ja=[],c.l){const m=Uo(c.h);(m.length!=0||c.i.length!=0)&&(Y(c.ja,m),Y(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Pu(c,m,v){var b=v instanceof _n?wt(v):new _n(v);if(b.g!="")m&&(b.g=m+"."+b.g),ms(b,b.u);else{var P=d.location;b=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new _n(null);b&&Pt(q,b),m&&(q.g=m),P&&ms(q,P),v&&(q.h=v),b=q}return v=c.G,m=c.wa,v&&m&&Ye(b,v,m),Ye(b,"VER",c.ka),Nr(c,b),b}function ju(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $e(new yi({ab:v})):new $e(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}s=zu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function bs(){}bs.prototype.g=function(c,m){return new nn(c,m)};function nn(c,m){Tt.call(this),this.g=new Es(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ji(this)}S(nn,Tt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Fo(this.g)},nn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ds(c),c=v);m.i.push(new At(m.Ya++,c)),m.I==3&&Ei(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,nn.Z.N.call(this)};function Bu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Bu,Bt);function qu(){Nn.call(this),this.status=1}S(qu,Nn);function ji(c){this.g=c}S(ji,zu),ji.prototype.ra=function(){Vt(this.g,"a")},ji.prototype.qa=function(c){Vt(this.g,new Bu(c))},ji.prototype.pa=function(c){Vt(this.g,new qu)},ji.prototype.oa=function(){Vt(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,iT=function(){return new bs},nT=function(){return la()},tT=pt,Im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,nh=Tr,xo.COMPLETE="complete",eT=xo,Eu.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,kl=Eu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,WE=$e}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let vo="12.8.0";function OR(s){vo=s}const ea=new Qm("@firebase/firestore");function Xa(){return ea.logLevel}function oe(s,...e){if(ea.logLevel<=Me.DEBUG){const n=e.map(rg);ea.debug(`Firestore (${vo}): ${s}`,...n)}}function as(s,...e){if(ea.logLevel<=Me.ERROR){const n=e.map(rg);ea.error(`Firestore (${vo}): ${s}`,...n)}}function oo(s,...e){if(ea.logLevel<=Me.WARN){const n=e.map(rg);ea.warn(`Firestore (${vo}): ${s}`,...n)}}function rg(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function _e(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sT(s,r,n)}function sT(s,e,n){let r=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw as(r),new Error(r)}function Fe(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||sT(e,l,r)}function be(s,e){return s}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class is{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class rT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class VR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class kR{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new is;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new is,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new is)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new rT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class UR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class LR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new UR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const r=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new W0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=jR(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function Ve(s,e){return s<e?-1:s>e?1:0}function Nm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return fm(l)===fm(u)?Ve(l,u):fm(l)?1:-1}return Ve(s.length,e.length)}const zR=55296,BR=57343;function fm(s){const e=s.charCodeAt(0);return e>=zR&&e<=BR}function lo(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const ev="__name__";class Ci{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=Ci.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const r=Ci.isNumericId(e),l=Ci.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):Nm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return er.fromString(e.substring(4,e.length-2))}}class nt extends Ci{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const qR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ci{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return qR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ev}static keyField(){return new Qt([ev])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new re(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new re(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new re(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(u(),l++)}if(u(),d)throw new re(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(nt.fromString(e))}static fromName(e){return new me(nt.fromString(e).popFirst(5))}static empty(){return new me(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new nt(e.slice()))}}function aT(s,e,n){if(!n)throw new re(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function HR(s,e,n,r){if(e===!0&&r===!0)throw new re(Q.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function tv(s){if(!me.isDocumentKey(s))throw new re(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function nv(s){if(me.isDocumentKey(s))throw new re(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function oT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Mh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function rn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new re(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mh(s);throw new re(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Ot(s,e){const n={typeString:s};return e&&(n.value=e),n}function lu(s,e){if(!oT(s))throw new re(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new re(Q.INVALID_ARGUMENT,n);return!0}const iv=-62135596800,sv=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sv);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iv)throw new re(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Ot("string",at._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new at(0,0))}static max(){return new Ee(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xl=-1;function FR(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ee.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new sr(l,me.empty(),e)}function GR(s){return new sr(s.readTime,s.key,Xl)}class sr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new sr(Ee.min(),me.empty(),Xl)}static max(){return new sr(Ee.max(),me.empty(),Xl)}}function YR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(s.documentKey,e.documentKey),n!==0?n:Ve(s.largestBatchId,e.largestBatchId))}const KR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==KR)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,r)=>{n(e)}))}static reject(e){return new W(((n,r)=>{r(e)}))}static waitFor(e){return new W(((n,r)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(y=>r(y)))})),d=!0,u===l&&n()}))}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next((l=>l?W.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new W(((r,l)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next((E=>{d[p]=E,++g,g===u&&r(d)}),(E=>l(E)))}}))}static doWhile(e,n){return new W(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function XR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(s){return s.name==="IndexedDbTransactionError"}class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;const og=-1;function kh(s){return s==null}function ph(s){return s===0&&1/s==-1/0}function $R(s){return typeof s=="number"&&Number.isInteger(s)&&!ph(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const lT="";function JR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=rv(e)),e=ZR(s.get(n),e);return rv(e)}function ZR(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case lT:n+="";break;default:n+=u}}return n}function rv(s){return s+lT+""}function av(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function dr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function uT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=l??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new Kt(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Kt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(e){return new ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class ov{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Ut(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class cT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cT("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const WR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(s){if(Fe(!!s,39018),typeof s=="string"){let e=0;const n=WR.exec(s);if(Fe(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(s.seconds),nanos:Et(s.nanos)}}function Et(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ar(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}const hT="server_timestamp",fT="__type__",dT="__previous_value__",mT="__local_write_time__";function lg(s){return(s?.mapValue?.fields||{})[fT]?.stringValue===hT}function Uh(s){const e=s.mapValue.fields[dT];return lg(e)?Uh(e):e}function $l(s){const e=rr(s.mapValue.fields[mT].timestampValue);return new at(e.seconds,e.nanos)}class eC{constructor(e,n,r,l,u,d,g,y,p,E,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E,this.apiKey=S}}const yh="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}function tC(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new re(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(s.options.projectId,e)}const gT="__type__",nC="__max__",Xc={mapValue:{}},pT="__vector__",_h="value";function or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?lg(s)?4:sC(s)?9007199254740991:iC(s)?10:11:_e(28295,{value:s})}function Vi(s,e){if(s===e)return!0;const n=or(s);if(n!==or(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return $l(s).isEqual($l(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=rr(l.timestampValue),g=rr(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return ar(l.bytesValue).isEqual(ar(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Et(l.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(l.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Et(l.integerValue)===Et(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Et(l.doubleValue),g=Et(u.doubleValue);return d===g?ph(d)===ph(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return lo(s.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(av(d)!==av(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Vi(d[y],g[y])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function Zl(s,e){return(s.values||[]).find((n=>Vi(n,e)))!==void 0}function uo(s,e){if(s===e)return 0;const n=or(s),r=or(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=Et(u.integerValue||u.doubleValue),y=Et(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return lv(s.timestampValue,e.timestampValue);case 4:return lv($l(s),$l(e));case 5:return Nm(s.stringValue,e.stringValue);case 6:return(function(u,d){const g=ar(u),y=ar(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const E=Ve(g[p],y[p]);if(E!==0)return E}return Ve(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=Ve(Et(u.latitude),Et(d.latitude));return g!==0?g:Ve(Et(u.longitude),Et(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return uv(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},p=g[_h]?.arrayValue,E=y[_h]?.arrayValue,S=Ve(p?.values?.length||0,E?.values?.length||0);return S!==0?S:uv(p,E)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Xc.mapValue&&d===Xc.mapValue)return 0;if(u===Xc.mapValue)return 1;if(d===Xc.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const I=Nm(y[S],E[S]);if(I!==0)return I;const k=uo(g[y[S]],p[E[S]]);if(k!==0)return k}return Ve(y.length,E.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function lv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const n=rr(s),r=rr(e),l=Ve(n.seconds,r.seconds);return l!==0?l:Ve(n.nanos,r.nanos)}function uv(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=uo(n[l],r[l]);if(u)return u}return Ve(n.length,r.length)}function co(s){return xm(s)}function xm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=rr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ar(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return me.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=xm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${xm(n.fields[d])}`;return l+"}"})(s.mapValue):_e(61005,{value:s})}function ih(s){switch(or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(s);return e?16+ih(e):16;case 5:return 2*s.stringValue.length;case 6:return ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+ih(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return dr(r.fields,((u,d)=>{l+=u.length+ih(d)})),l})(s.mapValue);default:throw _e(13486,{value:s})}}function cv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Dm(s){return!!s&&"integerValue"in s}function ug(s){return!!s&&"arrayValue"in s}function hv(s){return!!s&&"nullValue"in s}function fv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function sh(s){return!!s&&"mapValue"in s}function iC(s){return(s?.mapValue?.fields||{})[gT]?.stringValue===pT}function Hl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return dr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Hl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(s.arrayValue.values[n]);return e}return{...s}}function sC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===nC}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=Qt.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=g.popLast()}d?r[g.lastSegment()]=Hl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];sh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){dr(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new gn(Hl(this.value))}}function yT(s){const e=[];return dr(s.fields,((n,r)=>{const l=new Qt([n]);if(sh(r)){const u=yT(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new In(e)}class Wt{constructor(e,n,r,l,u,d,g){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Wt(e,0,Ee.min(),Ee.min(),Ee.min(),gn.empty(),0)}static newFoundDocument(e,n,r,l){return new Wt(e,1,n,Ee.min(),r,l,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ee.min(),Ee.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ee.min(),Ee.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vh{constructor(e,n){this.position=e,this.inclusive=n}}function dv(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=me.comparator(me.fromName(d.referenceValue),n.key):r=uo(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function mv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Vi(s.position[n],e.position[n]))return!1;return!0}class Wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function rC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class _T{}class Dt extends _T{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oC(e,n,r):n==="array-contains"?new cC(e,r):n==="in"?new hC(e,r):n==="not-in"?new fC(e,r):n==="array-contains-any"?new dC(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lC(e,r):new uC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uo(n,this.value)):n!==null&&or(this.value)===or(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends _T{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new si(e,n)}matches(e){return vT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vT(s){return s.op==="and"}function ET(s){return aC(s)&&vT(s)}function aC(s){for(const e of s.filters)if(e instanceof si)return!1;return!0}function Om(s){if(s instanceof Dt)return s.field.canonicalString()+s.op.toString()+co(s.value);if(ET(s))return s.filters.map((e=>Om(e))).join(",");{const e=s.filters.map((n=>Om(n))).join(",");return`${s.op}(${e})`}}function TT(s,e){return s instanceof Dt?(function(r,l){return l instanceof Dt&&r.op===l.op&&r.field.isEqual(l.field)&&Vi(r.value,l.value)})(s,e):s instanceof si?(function(r,l){return l instanceof si&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,g)=>u&&TT(d,l.filters[g])),!0):!1})(s,e):void _e(19439)}function bT(s){return s instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`})(s):s instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(bT).join(" ,")+"}"})(s):"Filter"}class oC extends Dt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class lC extends Dt{constructor(e,n){super(e,"in",n),this.keys=ST("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class uC extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=ST("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ST(s,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class cC extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ug(n)&&Zl(n.arrayValue,this.value)}}class hC extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class fC extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class dC extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Zl(this.value.arrayValue,r)))}}class mC{constructor(e,n=null,r=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function gv(s,e=null,n=[],r=[],l=null,u=null,d=null){return new mC(s,e,n,r,l,u,d)}function cg(s){const e=be(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Om(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>co(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>co(r))).join(",")),e.Te=n}return e.Te}function hg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!rC(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!TT(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!mv(s.startAt,e.startAt)&&mv(s.endAt,e.endAt)}function Mm(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class bo{constructor(e,n=null,r=[],l=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function gC(s,e,n,r,l,u,d,g){return new bo(s,e,n,r,l,u,d,g)}function Lh(s){return new bo(s)}function pv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function pC(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function AT(s){return s.collectionGroup!==null}function Fl(s){const e=be(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ut(Qt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Wl(u,r))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new Wl(Qt.keyField(),r))}return e.Ie}function Di(s){const e=be(s);return e.Ee||(e.Ee=yC(e,Fl(s))),e.Ee}function yC(s,e){if(s.limitType==="F")return gv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Wl(l.field,u)}));const n=s.endAt?new vh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new vh(s.startAt.position,s.startAt.inclusive):null;return gv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Vm(s,e){const n=s.filters.concat([e]);return new bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function _C(s,e){const n=s.explicitOrderBy.concat([e]);return new bo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function km(s,e,n){return new bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Ph(s,e){return hg(Di(s),Di(e))&&s.limitType===e.limitType}function wT(s){return`${cg(Di(s))}|lt:${s.limitType}`}function $a(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>bT(l))).join(", ")}]`),kh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>co(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>co(l))).join(",")),`Target(${r})`})(Di(s))}; limitType=${s.limitType})`}function jh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):me.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Fl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const p=dv(d,g,y);return d.inclusive?p<=0:p<0})(r.startAt,Fl(r),l)||r.endAt&&!(function(d,g,y){const p=dv(d,g,y);return d.inclusive?p>=0:p>0})(r.endAt,Fl(r),l))})(s,e)}function vC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function RT(s){return(e,n)=>{let r=!1;for(const l of Fl(s)){const u=EC(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function EC(s,e,n){const r=s.field.isKeyField()?me.comparator(e.key,n.key):(function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?uo(y,p):_e(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:s.dir})}}class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){dr(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return uT(this.inner)}size(){return this.innerSize}}const TC=new ct(me.comparator);function os(){return TC}const CT=new ct(me.comparator);function Ul(...s){let e=CT;for(const n of s)e=e.insert(n.key,n);return e}function IT(s){let e=CT;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Qr(){return Gl()}function NT(){return Gl()}function Gl(){return new ia((s=>s.toString()),((s,e)=>s.isEqual(e)))}const bC=new ct(me.comparator),SC=new Ut(me.comparator);function ke(...s){let e=SC;for(const n of s)e=e.add(n);return e}const AC=new Ut(Ve);function wC(){return AC}function fg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function xT(s){return{integerValue:""+s}}function DT(s,e){return $R(e)?xT(e):fg(s,e)}class zh{constructor(){this._=void 0}}function RC(s,e,n){return s instanceof Eh?(function(l,u){const d={fields:{[fT]:{stringValue:hT},[mT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&lg(u)&&(u=Uh(u)),u&&(d.fields[dT]=u),{mapValue:d}})(n,e):s instanceof ho?MT(s,e):s instanceof eu?VT(s,e):(function(l,u){const d=OT(l,u),g=yv(d)+yv(l.Ae);return Dm(d)&&Dm(l.Ae)?xT(g):fg(l.serializer,g)})(s,e)}function CC(s,e,n){return s instanceof ho?MT(s,e):s instanceof eu?VT(s,e):n}function OT(s,e){return s instanceof tu?(function(r){return Dm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Eh extends zh{}class ho extends zh{constructor(e){super(),this.elements=e}}function MT(s,e){const n=kT(e);for(const r of s.elements)n.some((l=>Vi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class eu extends zh{constructor(e){super(),this.elements=e}}function VT(s,e){let n=kT(e);for(const r of s.elements)n=n.filter((l=>!Vi(l,r)));return{arrayValue:{values:n}}}class tu extends zh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yv(s){return Et(s.integerValue||s.doubleValue)}function kT(s){return ug(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class UT{constructor(e,n){this.field=e,this.transform=n}}function IC(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof ho&&l instanceof ho||r instanceof eu&&l instanceof eu?lo(r.elements,l.elements,Vi):r instanceof tu&&l instanceof tu?Vi(r.Ae,l.Ae):r instanceof Eh&&l instanceof Eh})(s.transform,e.transform)}class NC{constructor(e,n){this.version=e,this.transformResults=n}}class an{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new an}static exists(e){return new an(void 0,e)}static updateTime(e){return new an(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Bh{}function LT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new qh(s.key,an.none()):new uu(s.key,s.data,an.none());{const n=s.data,r=gn.empty();let l=new Ut(Qt.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new mr(s.key,r,new In(l.toArray()),an.none())}}function xC(s,e,n){s instanceof uu?(function(l,u,d){const g=l.value.clone(),y=vv(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):s instanceof mr?(function(l,u,d){if(!rh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=vv(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(PT(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Yl(s,e,n,r){return s instanceof uu?(function(u,d,g,y){if(!rh(u.precondition,d))return g;const p=u.value.clone(),E=Ev(u.fieldTransforms,y,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(s,e,n,r):s instanceof mr?(function(u,d,g,y){if(!rh(u.precondition,d))return g;const p=Ev(u.fieldTransforms,y,d),E=d.data;return E.setAll(PT(u)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(u,d,g){return rh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,n)}function DC(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=OT(r.transform,l||null);u!=null&&(n===null&&(n=gn.empty()),n.set(r.field,u))}return n||null}function _v(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&lo(r,l,((u,d)=>IC(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class uu extends Bh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class mr extends Bh{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function PT(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function vv(s,e,n){const r=new Map;Fe(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,g=e.data.field(u.field);r.set(u.field,CC(d,g,n[l]))}return r}function Ev(s,e,n){const r=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);r.set(l.field,RC(u,d,e))}return r}class qh extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OC extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MC{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&xC(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NT();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const y=LT(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,((n,r)=>_v(n,r)))&&lo(this.baseMutations,e.baseMutations,((n,r)=>_v(n,r)))}}class dg{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Fe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return bC})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new dg(e,n,r,l)}}class VC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kC{constructor(e,n){this.count=e,this.unchangedNames=n}}var xt,Pe;function UC(s){switch(s){case Q.OK:return _e(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function jT(s){if(s===void 0)return as("GRPC error has no .code"),Q.UNKNOWN;switch(s){case xt.OK:return Q.OK;case xt.CANCELLED:return Q.CANCELLED;case xt.UNKNOWN:return Q.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Q.INTERNAL;case xt.UNAVAILABLE:return Q.UNAVAILABLE;case xt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case xt.NOT_FOUND:return Q.NOT_FOUND;case xt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case xt.ABORTED:return Q.ABORTED;case xt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case xt.DATA_LOSS:return Q.DATA_LOSS;default:return _e(39323,{code:s})}}(Pe=xt||(xt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function LC(){return new TextEncoder}const PC=new er([4294967295,4294967295],0);function Tv(s){const e=LC().encode(s),n=new ZE;return n.update(e),new Uint8Array(n.digest())}function bv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new er([n,r],0),new er([l,u],0)]}class mg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=er.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(er.fromNumber(r)));return l.compare(PC)===1&&(l=new er([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Tv(e),[r,l]=bv(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new mg(u,l,n);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=Tv(e),[r,l]=bv(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.be(d)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hh{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hh(Ee.min(),l,new ct(Ve),os(),ke())}}class cu{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cu(r,n,ke(),ke(),ke())}}class ah{constructor(e,n,r,l){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=l}}class zT{constructor(e,n){this.targetId=e,this.Ce=n}}class BT{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class Sv{constructor(){this.ve=0,this.Fe=Av(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),r=ke();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:_e(38017,{changeType:u})}})),new cu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Av()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class jC{constructor(e){this.Ge=e,this.ze=new Map,this.je=os(),this.He=$c(),this.Je=$c(),this.Ze=new ct(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Mm(u))if(r===0){const d=new me(u.path);this.et(n,d,Wt.newNoDocument(d,Ee.min()))}else Fe(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=ar(r).toUint8Array()}catch(y){if(y instanceof cT)return oo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new mg(d,l,u)}catch(y){return oo(y instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&Mm(g.target)){const y=new me(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Wt.newNoDocument(y,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let r=ke();this.Je.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Hh(e,n,this.Ze,this.je,r);return this.je=os(),this.He=$c(),this.Je=$c(),this.Ze=new ct(Ve),l}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Sv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ut(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ut(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Sv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $c(){return new ct(me.comparator)}function Av(){return new ct(me.comparator)}const zC={asc:"ASCENDING",desc:"DESCENDING"},BC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qC={and:"AND",or:"OR"};class HC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Um(s,e){return s.useProto3Json||kh(e)?e:{value:e}}function Th(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function FC(s,e){return Th(s,e.toTimestamp())}function Oi(s){return Fe(!!s,49232),Ee.fromTimestamp((function(n){const r=rr(n);return new at(r.seconds,r.nanos)})(s))}function gg(s,e){return Lm(s,e).canonicalString()}function Lm(s,e){const n=(function(l){return new nt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function HT(s){const e=nt.fromString(s);return Fe(QT(e),10190,{key:e.toString()}),e}function Pm(s,e){return gg(s.databaseId,e.path)}function dm(s,e){const n=HT(e);if(n.get(1)!==s.databaseId.projectId)throw new re(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new re(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new me(GT(n))}function FT(s,e){return gg(s.databaseId,e)}function GC(s){const e=HT(s);return e.length===4?nt.emptyPath():GT(e)}function jm(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function GT(s){return Fe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function wv(s,e,n){return{name:Pm(s,e),fields:n.value.mapValue.fields}}function YC(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const E=p.code===void 0?Q.UNKNOWN:jT(p.code);return new re(E,p.message||"")})(d);n=new BT(r,l,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=dm(s,r.document.name),u=Oi(r.document.updateTime),d=r.document.createTime?Oi(r.document.createTime):Ee.min(),g=new gn({mapValue:{fields:r.document.fields}}),y=Wt.newFoundDocument(l,u,d,g),p=r.targetIds||[],E=r.removedTargetIds||[];n=new ah(p,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=dm(s,r.document),u=r.readTime?Oi(r.readTime):Ee.min(),d=Wt.newNoDocument(l,u),g=r.removedTargetIds||[];n=new ah([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=dm(s,r.document),u=r.removedTargetIds||[];n=new ah([],u,l,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new kC(l,u),g=r.targetId;n=new zT(g,d)}}return n}function KC(s,e){let n;if(e instanceof uu)n={update:wv(s,e.key,e.value)};else if(e instanceof qh)n={delete:Pm(s,e.key)};else if(e instanceof mr)n={update:wv(s,e.key,e.data),updateMask:nI(e.fieldMask)};else{if(!(e instanceof OC))return _e(16599,{dt:e.type});n={verify:Pm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const g=d.transform;if(g instanceof Eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ho)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof eu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _e(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:FC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(s,e.precondition)),n}function QC(s,e){return s&&s.length>0?(Fe(e!==void 0,14353),s.map((n=>(function(l,u){let d=l.updateTime?Oi(l.updateTime):Oi(u);return d.isEqual(Ee.min())&&(d=Oi(u)),new NC(d,l.transformResults||[])})(n,e)))):[]}function XC(s,e){return{documents:[FT(s,e.path)]}}function $C(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FT(s,l);const u=(function(p){if(p.length!==0)return KT(si.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((E=>(function(I){return{field:Ja(I.field),direction:WC(I.dir)}})(E)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Um(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:l}}function JC(s){let e=GC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Fe(r===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const I=YT(S);return I instanceof si&&ET(I)?I.getFilters():[I]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((I=>(function(Y){return new Wl(Za(Y.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(I)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let I;return I=typeof S=="object"?S.value:S,kh(I)?null:I})(n.limit));let y=null;n.startAt&&(y=(function(S){const I=!!S.before,k=S.values||[];return new vh(k,I)})(n.startAt));let p=null;return n.endAt&&(p=(function(S){const I=!S.before,k=S.values||[];return new vh(k,I)})(n.endAt)),gC(e,l,d,u,g,"F",y,p)}function ZC(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YT(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Za(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Za(n.unaryFilter.field);return Dt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Za(n.unaryFilter.field);return Dt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Dt.create(Za(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((r=>YT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(s):_e(30097,{filter:s})}function WC(s){return zC[s]}function eI(s){return BC[s]}function tI(s){return qC[s]}function Ja(s){return{fieldPath:s.canonicalString()}}function Za(s){return Qt.fromServerFormat(s.fieldPath)}function KT(s){return s instanceof Dt?(function(n){if(n.op==="=="){if(fv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(hv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(hv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:eI(n.op),value:n.value}}})(s):s instanceof si?(function(n){const r=n.getFilters().map((l=>KT(l)));return r.length===1?r[0]:{compositeFilter:{op:tI(n.op),filters:r}}})(s):_e(54877,{filter:s})}function nI(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function QT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function XT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class $s{constructor(e,n,r,l,u=Ee.min(),d=Ee.min(),g=Xt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iI{constructor(e){this.yt=e}}function sI(s){const e=JC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?km(e,e.limit,"L"):e}class rI{constructor(){this.Sn=new aI}addToCollectionParentIndex(e,n){return this.Sn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(sr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(sr.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class aI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Ut(nt.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Ut(nt.comparator)).toArray()}}const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$T=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn($T,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class fo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new fo(0)}static ar(){return new fo(-1)}}const Cv="LruGarbageCollector",oI=1048576;function Iv([s,e],[n,r]){const l=Ve(s,n);return l===0?Ve(e,r):l}class lI{constructor(e){this.Pr=e,this.buffer=new Ut(Iv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Iv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(Cv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?oe(Cv,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Ar(3e5)}))}}class cI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Vh.ce);const r=new lI(n);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Rv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,l,u,d,g,y,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,n)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(p=Date.now(),Xa()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function hI(s,e){return new cI(s,e)}class fI{constructor(){this.changes=new ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class mI{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Yl(r.mutation,l,In.empty(),at.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ke()){const l=Qr();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let d=Ul();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=Qr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ke())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,r,l){let u=os();const d=Gl(),g=(function(){return Gl()})();return n.forEach(((y,p)=>{const E=r.get(p.key);l.has(p.key)&&(E===void 0||E.mutation instanceof mr)?u=u.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),Yl(E.mutation,p,E.mutation.getFieldMask(),at.now())):d.set(p.key,In.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,E)=>d.set(p,E))),n.forEach(((p,E)=>g.set(p,new dI(E,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,n){const r=Gl();let l=new ct(((d,g)=>d-g)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let E=r.get(y)||In.empty();E=g.applyToLocalView(p,E),r.set(y,E);const S=(l.get(g.batchId)||ke()).add(y);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,E=y.value,S=NT();E.forEach((I=>{if(!u.has(I)){const k=LT(n.get(I),r.get(I));k!==null&&S.set(I,k),u=u.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,S))}return W.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return pC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):W.resolve(Qr());let g=Xl,y=u;return d.next((p=>W.forEach(p,((E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next((I=>{y=y.insert(E,I)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,ke()))).next((E=>({batchId:g,changes:IT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((r=>{let l=Ul();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let d=Ul();return this.indexManager.getCollectionParents(e,u).next((g=>W.forEach(g,(y=>{const p=(function(S,I){return new bo(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,r,l).next((E=>{E.forEach(((S,I)=>{d=d.insert(S,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((d=>{u.forEach(((y,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,Wt.newInvalidDocument(E)))}));let g=Ul();return d.forEach(((y,p)=>{const E=u.get(y);E!==void 0&&Yl(E.mutation,p,In.empty(),at.now()),jh(n,p)&&(g=g.insert(y,p))})),g}))}}class gI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return W.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:sI(l.bundledQuery),readTime:Oi(l.readTime)}})(n)),W.resolve()}}class pI{constructor(){this.overlays=new ct(me.comparator),this.Lr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qr();return W.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.bt(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const l=Qr(),u=n.length+1,d=new me(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return W.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new ct(((p,E)=>p-E));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let E=u.get(p.largestBatchId);E===null&&(E=Qr(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=Qr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,E)=>g.set(p,E))),!(g.size()>=l)););return W.resolve(g)}bt(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new VC(n,r));let u=this.Lr.get(n);u===void 0&&(u=ke(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class yI{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class pg{constructor(){this.kr=new Ut(zt.Kr),this.qr=new Ut(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new me(new nt([])),r=new zt(n,e),l=new zt(n,e+1),u=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new me(new nt([])),r=new zt(n,e),l=new zt(n,e+1);let u=ke();return this.qr.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new zt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return me.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||me.comparator(e.key,n.key)}}class _I{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(zt.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new MC(u,n,r,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new zt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.Xr(r),u=l<0?0:l;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?og:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),l=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(d=>{const g=this.Zr(d.Hr);u.push(g)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Ve);return n.forEach((l=>{const u=new zt(l,0),d=new zt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(g=>{r=r.add(g.Hr)}))})),W.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;me.isDocumentKey(u)||(u=u.child(""));const d=new zt(new me(u),0);let g=new Ut(Ve);return this.Jr.forEachWhile((y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===l&&(g=g.add(y.Hr)),!0)}),d),W.resolve(this.Yr(g))}Yr(e){const n=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return W.forEach(n.mutations,(l=>{const u=new zt(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new zt(n,0),l=this.Jr.firstAfterOrEqual(r);return W.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class vI{constructor(e){this.ti=e,this.docs=(function(){return new ct(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Wt.newInvalidDocument(l))})),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=os();const d=n.path,g=new me(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||YR(GR(E),r)<=0||(l.has(E.key)||jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,r,l){_e(9500)}ni(e,n){return W.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new EI(this)}getSize(e){return W.resolve(this.size)}}class EI extends fI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),W.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class TI{constructor(e){this.persistence=e,this.ri=new ia((n=>cg(n)),hg),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new pg,this.targetCount=0,this.oi=fo._r()}forEachTarget(e,n){return this.ri.forEach(((r,l)=>n(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),W.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.lr(n),W.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),W.waitFor(u).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.si.containsKey(n))}}class JT{constructor(e,n){this._i={},this.overlays={},this.ai=new Vh(0),this.ui=!1,this.ui=!0,this.ci=new yI,this.referenceDelegate=e(this),this.li=new TI(this),this.indexManager=new rI,this.remoteDocumentCache=(function(l){return new vI(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new iI(n),this.Pi=new gI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new _I(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const l=new bI(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,n){return W.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class bI extends QR{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Ri=new pg,this.Ai=null}static Vi(e){return new yg(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(r=>{const l=me.fromPath(r);return this.mi(e,l).next((u=>{u||n.removeEntry(l,Ee.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class bh{constructor(e,n){this.persistence=e,this.fi=new ia((r=>JR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=hI(this,n)}static Vi(e,n){return new bh(e,n)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return W.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((u=>u?W.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,n).next((g=>{g||(r++,u.removeEntry(d,Ee.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}wr(e,n,r){return W.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return W.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _g{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=l}static Es(e,n){let r=ke(),l=ke();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new _g(e,n.fromCache,r,l)}}class SI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class AI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return QS()?8:XR(en())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new SI;return this.ys(e,n,d).next((g=>{if(u.result=g,this.As)return this.ws(e,n,d,g.size)}))})).next((()=>u.result))}ws(e,n,r,l){return r.documentReadCount<this.Vs?(Xa()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(Xa()<=Me.DEBUG&&oe("QueryEngine","Query:",$a(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Xa()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):W.resolve())}gs(e,n){if(pv(n))return W.resolve(null);let r=Di(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=km(n,null,"F"),r=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=ke(...u);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const p=this.bs(n,g);return this.Ss(n,p,d,y.readTime)?this.gs(e,km(n,null,"F")):this.Ds(e,p,n,y)}))))})))))}ps(e,n,r,l){return pv(n)||l.isEqual(Ee.min())?W.resolve(null):this.fs.getDocuments(e,r).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,r,l)?W.resolve(null):(Xa()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),$a(n)),this.Ds(e,d,n,FR(l,Xl)).next((g=>g)))}))}bs(e,n){let r=new Ut(RT(e));return n.forEach(((l,u)=>{jh(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,n,r){return Xa()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",$a(n)),this.fs.getDocumentsMatchingQuery(e,n,sr.min(),r)}Ds(e,n,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const vg="LocalStore",wI=3e8;class RI{constructor(e,n,r,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new ct(Ve),this.Fs=new ia((u=>cg(u)),hg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function CI(s,e,n,r){return new RI(s,e,n,r)}async function ZT(s,e){const n=be(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],g=[];let y=ke();for(const p of l){d.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of u){g.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(r,y).next((p=>({Ns:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function II(s,e){const n=be(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,E){const S=p.batch,I=S.keys();let k=W.resolve();return I.forEach((Y=>{k=k.next((()=>E.getEntry(y,Y))).next((Z=>{const X=p.docVersions.get(Y);Fe(X!==null,48541),Z.version.compareTo(X)<0&&(S.applyToRemoteDocument(Z,p),Z.isValidDocument()&&(Z.setReadTime(p.commitVersion),E.addEntry(Z)))}))})),k.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=ke();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function WT(s){const e=be(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function NI(s,e){const n=be(s),r=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const g=[];e.targetChanges.forEach(((E,S)=>{const I=l.get(S);if(!I)return;g.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let k=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?k=k.withResumeToken(Xt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,r)),l=l.insert(S,k),(function(Z,X,ee){return Z.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=wI?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(I,k,E)&&g.push(n.li.updateTargetData(u,k))}));let y=os(),p=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),g.push(xI(u,d,e.documentUpdates).next((E=>{y=E.Bs,p=E.Ls}))),!r.isEqual(Ee.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(E)}return W.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.vs=l,u)))}function xI(s,e,n){let r=ke(),l=ke();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=os();return n.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Ee.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):oe(vg,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function DI(s,e){const n=be(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=og),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function OI(s,e){const n=be(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,e).next((u=>u?(l=u,W.resolve(l)):n.li.allocateTargetId(r).next((d=>(l=new $s(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function zm(s,e,n){const r=be(s),l=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;oe(vg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function Nv(s,e,n){const r=be(s);let l=Ee.min(),u=ke();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,E){const S=be(y),I=S.Fs.get(E);return I!==void 0?W.resolve(S.vs.get(I)):S.li.getTargetData(p,E)})(r,d,Di(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,n?l:Ee.min(),n?u:ke()))).next((g=>(MI(r,vC(e),g),{documents:g,ks:u})))))}function MI(s,e,n){let r=s.Ms.get(e)||Ee.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class xv{constructor(){this.activeTargetIds=wC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VI{constructor(){this.vo=new xv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new xv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kI{Mo(e){}shutdown(){}}const Dv="ConnectivityMonitor";class Ov{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(Dv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(Dv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jc=null;function Bm(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}const mm="RestConnection",UI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class LI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===yh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,n,r,l,u){const d=Bm(),g=this.Qo(e,n.toUriEncodedString());oe(mm,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,u);const{host:p}=new URL(g),E=go(p);return this.zo(e,g,y,r,E).then((S=>(oe(mm,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw oo(mm,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}jo(e,n,r,l,u,d){return this.Wo(e,n,r,l,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}Qo(e,n){const r=UI[e];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class PI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",Dl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class io extends LI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!io.c_){const e=nT();Dl(e,tT.STAT_EVENT,(n=>{n.stat===Im.PROXY?oe(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===Im.NOPROXY&&oe(Jt,"STAT_EVENT: detected no buffering proxy")})),io.c_=!0}}zo(e,n,r,l,u){const d=Bm();return new Promise(((g,y)=>{const p=new WE;p.setWithCredentials(!0),p.listenOnce(eT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case nh.NO_ERROR:const S=p.getResponseJson();oe(Jt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case nh.TIMEOUT:oe(Jt,`RPC '${e}' ${d} timed out`),y(new re(Q.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const I=p.getStatus();if(oe(Jt,`RPC '${e}' ${d} failed with status:`,I,"response text:",p.getResponseText()),I>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const Y=k?.error;if(Y&&Y.status&&Y.message){const Z=(function(ee){const ae=ee.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(ae)>=0?ae:Q.UNKNOWN})(Y.status);y(new re(Z,Y.message))}else y(new re(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new re(Q.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{oe(Jt,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(l);oe(Jt,`RPC '${e}' ${d} sending request:`,l),p.send(n,"POST",E,r,15)}))}T_(e,n,r){const l=Bm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const p=u.join("");oe(Jt,`Creating RPC '${e}' stream ${l}: ${p}`,g);const E=d.createWebChannel(p,g);this.I_(E);let S=!1,I=!1;const k=new PI({Ho:Y=>{I?oe(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,Y):(S||(oe(Jt,`Opening RPC '${e}' stream ${l} transport.`),E.open(),S=!0),oe(Jt,`RPC '${e}' stream ${l} sending:`,Y),E.send(Y))},Jo:()=>E.close()});return Dl(E,kl.EventType.OPEN,(()=>{I||(oe(Jt,`RPC '${e}' stream ${l} transport opened.`),k.i_())})),Dl(E,kl.EventType.CLOSE,(()=>{I||(I=!0,oe(Jt,`RPC '${e}' stream ${l} transport closed`),k.o_(),this.E_(E))})),Dl(E,kl.EventType.ERROR,(Y=>{I||(I=!0,oo(Jt,`RPC '${e}' stream ${l} transport errored. Name:`,Y.name,"Message:",Y.message),k.o_(new re(Q.UNAVAILABLE,"The operation could not be completed")))})),Dl(E,kl.EventType.MESSAGE,(Y=>{if(!I){const Z=Y.data[0];Fe(!!Z,16349);const X=Z,ee=X?.error||X[0]?.error;if(ee){oe(Jt,`RPC '${e}' stream ${l} received error:`,ee);const ae=ee.status;let ie=(function(Se){const x=xt[Se];if(x!==void 0)return jT(x)})(ae),ce=ee.message;ie===void 0&&(ie=Q.INTERNAL,ce="Unknown error status: "+ae+" with message "+ee.message),I=!0,k.o_(new re(ie,ce)),E.close()}else oe(Jt,`RPC '${e}' stream ${l} received:`,Z),k.__(Z)}})),io.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return iT()}}function jI(s){return new io(s)}function gm(){return typeof document<"u"?document:null}function Fh(s){return new HC(s,!0)}io.c_=!1;class e1{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Mv="PersistentStream";class t1{constructor(e,n,r,l,u,d,g,y){this.Ci=e,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new e1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(as(n.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new re(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(Mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(oe(Mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zI extends t1{constructor(e,n,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YC(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ee.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?Oi(d.readTime):Ee.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=jm(this.serializer),n.addTarget=(function(u,d){let g;const y=d.target;if(g=Mm(y)?{documents:XC(u,y)}:{query:$C(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=qT(u,d.resumeToken);const p=Um(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Ee.min())>0){g.readTime=Th(u,d.snapshotVersion.toTimestamp());const p=Um(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const r=ZC(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=jm(this.serializer),n.removeTarget=e,this.K_(n)}}class BI extends t1{constructor(e,n,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QC(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=jm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>KC(this.serializer,r)))};this.K_(n)}}class qI{}class HI extends qI{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new re(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,Lm(n,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new re(Q.UNKNOWN,u.toString())}))}jo(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,Lm(n,r),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new re(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function FI(s,e,n,r){return new HI(s,e,n,r)}class GI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ta="RemoteStore";class YI{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{sa(this)&&(oe(ta,"Restarting streams for network reachability change."),await(async function(y){const p=be(y);p.Ea.add(4),await hu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Gh(p)})(this))}))})),this.Va=new GI(r,l)}}async function Gh(s){if(sa(s))for(const e of s.Ra)await e(!0)}async function hu(s){for(const e of s.Ra)await e(!1)}function n1(s,e){const n=be(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sg(n)?bg(n):So(n).O_()&&Tg(n,e))}function Eg(s,e){const n=be(s),r=So(n);n.Ia.delete(e),r.O_()&&i1(n,e),n.Ia.size===0&&(r.O_()?r.L_():sa(n)&&n.Va.set("Unknown"))}function Tg(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(s).Z_(e)}function i1(s,e){s.da.$e(e),So(s).X_(e)}function bg(s){s.da=new jC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),So(s).start(),s.Va.ua()}function Sg(s){return sa(s)&&!So(s).x_()&&s.Ia.size>0}function sa(s){return be(s).Ea.size===0}function s1(s){s.da=void 0}async function KI(s){s.Va.set("Online")}async function QI(s){s.Ia.forEach(((e,n)=>{Tg(s,e)}))}async function XI(s,e){s1(s),Sg(s)?(s.Va.ha(e),bg(s)):s.Va.set("Unknown")}async function $I(s,e,n){if(s.Va.set("Online"),e instanceof BT&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,e)}catch(r){oe(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sh(s,r)}else if(e instanceof ah?s.da.Xe(e):e instanceof zT?s.da.st(e):s.da.tt(e),!n.isEqual(Ee.min()))try{const r=await WT(s.localStore);n.compareTo(r)>=0&&await(function(u,d){const g=u.da.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),i1(u,y);const S=new $s(E.target,y,p,E.sequenceNumber);Tg(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){oe(ta,"Failed to raise snapshot:",r),await Sh(s,r)}}async function Sh(s,e,n){if(!To(e))throw e;s.Ea.add(1),await hu(s),s.Va.set("Offline"),n||(n=()=>WT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ta,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Gh(s)}))}function r1(s,e){return e().catch((n=>Sh(s,n,e)))}async function Yh(s){const e=be(s),n=lr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:og;for(;JI(e);)try{const l=await DI(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,ZI(e,l)}catch(l){await Sh(e,l)}a1(e)&&o1(e)}function JI(s){return sa(s)&&s.Ta.length<10}function ZI(s,e){s.Ta.push(e);const n=lr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function a1(s){return sa(s)&&!lr(s).x_()&&s.Ta.length>0}function o1(s){lr(s).start()}async function WI(s){lr(s).ra()}async function eN(s){const e=lr(s);for(const n of s.Ta)e.ea(n.mutations)}async function tN(s,e,n){const r=s.Ta.shift(),l=dg.from(r,e,n);await r1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Yh(s)}async function nN(s,e){e&&lr(s).Y_&&await(async function(r,l){if((function(d){return UC(d)&&d!==Q.ABORTED})(l.code)){const u=r.Ta.shift();lr(r).B_(),await r1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Yh(r)}})(s,e),a1(s)&&o1(s)}async function Vv(s,e){const n=be(s);n.asyncQueue.verifyOperationInProgress(),oe(ta,"RemoteStore received new credentials");const r=sa(n);n.Ea.add(3),await hu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gh(n)}async function iN(s,e){const n=be(s);e?(n.Ea.delete(2),await Gh(n)):e||(n.Ea.add(2),await hu(n),n.Va.set("Unknown"))}function So(s){return s.ma||(s.ma=(function(n,r,l){const u=be(n);return u.sa(),new zI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:KI.bind(null,s),Yo:QI.bind(null,s),t_:XI.bind(null,s),J_:$I.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Sg(s)?bg(s):s.Va.set("Unknown")):(await s.ma.stop(),s1(s))}))),s.ma}function lr(s){return s.fa||(s.fa=(function(n,r,l){const u=be(n);return u.sa(),new BI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:WI.bind(null,s),t_:nN.bind(null,s),ta:eN.bind(null,s),na:tN.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Yh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ta,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ag{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const d=Date.now()+r,g=new Ag(e,n,d,l,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(s,e){if(as("AsyncQueue",`${e}: ${s}`),To(s))return new re(Q.UNAVAILABLE,`${e}: ${s}`);throw s}class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Ul(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new so;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class kv{constructor(){this.ga=new ct(me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class mo{constructor(e,n,r,l,u,d,g,y,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new mo(e,n,so.emptySet(n),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class sN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class rN{constructor(){this.queries=Uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=be(n),u=l.queries;l.queries=Uv(),u.forEach(((d,g)=>{for(const y of g.ba)y.onError(r)}))})(this,new re(Q.ABORTED,"Firestore shutting down"))}}function Uv(){return new ia((s=>wT(s)),Ph)}async function Rg(s,e){const n=be(s);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.Sa()&&e.Da()&&(r=2):(u=new sN,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=wg(d,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ig(n)}async function Cg(s,e){const n=be(s),r=e.query;let l=3;const u=n.queries.get(r);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aN(s,e){const n=be(s);let r=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.ba)g.Fa(l)&&(r=!0);d.wa=l}}r&&Ig(n)}function oN(s,e,n){const r=be(s),l=r.queries.get(e);if(l)for(const u of l.ba)u.onError(n);r.queries.delete(e)}function Ig(s){s.Ca.forEach((e=>{e.next()}))}var qm,Lv;(Lv=qm||(qm={})).Ma="default",Lv.Cache="cache";class Ng{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qm.Cache}}class l1{constructor(e){this.key=e}}class u1{constructor(e){this.key=e}}class lN{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.eu=RT(e),this.tu=new so(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new kv,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,S)=>{const I=l.get(E),k=jh(this.query,S)?S:null,Y=!!I&&this.mutatedKeys.has(I.key),Z=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let X=!1;I&&k?I.data.isEqual(k.data)?Y!==Z&&(r.track({type:3,doc:k}),X=!0):this.su(I,k)||(r.track({type:2,doc:k}),X=!0,(y&&this.eu(k,y)>0||p&&this.eu(k,p)<0)&&(g=!0)):!I&&k?(r.track({type:0,doc:k}),X=!0):I&&!k&&(r.track({type:1,doc:I}),X=!0,(y||p)&&(g=!0)),X&&(k?(d=d.add(k),u=Z?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Ss:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function(k,Y){const Z=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:X})}};return Z(k)-Z(Y)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,p=y!==this.Xa;return this.Xa=y,d.length!==0||p?{snapshot:new mo(this.query,e.tu,u,d,e.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new u1(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new l1(r))})),n}cu(e){this.Za=e.ks,this.Ya=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const xg="SyncEngine";class uN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cN{constructor(e){this.key=e,this.hu=!1}}class hN{constructor(e,n,r,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ia((g=>wT(g)),Ph),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(me.comparator),this.Au=new Map,this.Vu=new pg,this.du={},this.mu=new Map,this.fu=fo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fN(s,e,n=!0){const r=g1(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await c1(r,e,n,!0),l}async function dN(s,e){const n=g1(s);await c1(n,e,!0,!1)}async function c1(s,e,n,r){const l=await OI(s.localStore,Di(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let g;return r&&(g=await mN(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&n1(s.remoteStore,l),g}async function mN(s,e,n,r,l){s.pu=(S,I,k)=>(async function(Z,X,ee,ae){let ie=X.view.ru(ee);ie.Ss&&(ie=await Nv(Z.localStore,X.query,!1).then((({documents:x})=>X.view.ru(x,ie))));const ce=ae&&ae.targetChanges.get(X.targetId),Ie=ae&&ae.targetMismatches.get(X.targetId)!=null,Se=X.view.applyChanges(ie,Z.isPrimaryClient,ce,Ie);return jv(Z,X.targetId,Se.au),Se.snapshot})(s,S,I,k);const u=await Nv(s.localStore,e,!0),d=new lN(e,u.ks),g=d.ru(u.documents),y=cu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),p=d.applyChanges(g,s.isPrimaryClient,y);jv(s,n,p.au);const E=new uN(e,n,d);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),p.snapshot}async function gN(s,e,n){const r=be(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Ph(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await zm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Eg(r.remoteStore,l.targetId),Hm(r,l.targetId)})).catch(Eo)):(Hm(r,l.targetId),await zm(r.localStore,l.targetId,!0))}async function pN(s,e){const n=be(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Eg(n.remoteStore,r.targetId))}async function yN(s,e,n){const r=AN(s);try{const l=await(function(d,g){const y=be(d),p=at.now(),E=g.reduce(((k,Y)=>k.add(Y.key)),ke());let S,I;return y.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let Y=os(),Z=ke();return y.xs.getEntries(k,E).next((X=>{Y=X,Y.forEach(((ee,ae)=>{ae.isValidDocument()||(Z=Z.add(ee))}))})).next((()=>y.localDocuments.getOverlayedDocuments(k,Y))).next((X=>{S=X;const ee=[];for(const ae of g){const ie=DC(ae,S.get(ae.key).overlayedDocument);ie!=null&&ee.push(new mr(ae.key,ie,yT(ie.value.mapValue),an.exists(!0)))}return y.mutationQueue.addMutationBatch(k,p,ee,g)})).next((X=>{I=X;const ee=X.applyToLocalDocumentSet(S,Z);return y.documentOverlayCache.saveOverlays(k,X.batchId,ee)}))})).then((()=>({batchId:I.batchId,changes:IT(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let p=d.du[d.currentUser.toKey()];p||(p=new ct(Ve)),p=p.insert(g,y),d.du[d.currentUser.toKey()]=p})(r,l.batchId,n),await fu(r,l.changes),await Yh(r.remoteStore)}catch(l){const u=wg(l,"Failed to persist write");n.reject(u)}}async function h1(s,e){const n=be(s);try{const r=await NI(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Fe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Fe(d.hu,14607):l.removedDocuments.size>0&&(Fe(d.hu,42227),d.hu=!1))})),await fu(n,r,e)}catch(r){await Eo(r)}}function Pv(s,e,n){const r=be(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=be(d);y.onlineState=g;let p=!1;y.queries.forEach(((E,S)=>{for(const I of S.ba)I.va(g)&&(p=!0)})),p&&Ig(y)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _N(s,e,n){const r=be(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new ct(me.comparator);d=d.insert(u,Wt.newNoDocument(u,Ee.min()));const g=ke().add(u),y=new Hh(Ee.min(),new Map,new ct(Ve),d,g);await h1(r,y),r.Ru=r.Ru.remove(u),r.Au.delete(e),Dg(r)}else await zm(r.localStore,e,!1).then((()=>Hm(r,e,n))).catch(Eo)}async function vN(s,e){const n=be(s),r=e.batch.batchId;try{const l=await II(n.localStore,e);d1(n,r,null),f1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fu(n,l)}catch(l){await Eo(l)}}async function EN(s,e,n){const r=be(s);try{const l=await(function(d,g){const y=be(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return y.mutationQueue.lookupMutationBatch(p,g).next((S=>(Fe(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(p,S)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>y.localDocuments.getDocuments(p,E)))}))})(r.localStore,e);d1(r,e,n),f1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fu(r,l)}catch(l){await Eo(l)}}function f1(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function d1(s,e,n){const r=be(s);let l=r.du[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function Hm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||m1(s,r)}))}function m1(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Eg(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Dg(s))}function jv(s,e,n){for(const r of n)r instanceof l1?(s.Vu.addReference(r.key,e),TN(s,r)):r instanceof u1?(oe(xg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||m1(s,r.key)):_e(19791,{wu:r})}function TN(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(oe(xg,"New document in limbo: "+n),s.Eu.add(r),Dg(s))}function Dg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new me(nt.fromString(e)),r=s.fu.next();s.Au.set(r,new cN(n)),s.Ru=s.Ru.insert(n,r),n1(s.remoteStore,new $s(Di(Lh(n.path)),r,"TargetPurposeLimboResolution",Vh.ce))}}async function fu(s,e,n){const r=be(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(p){l.push(p);const E=_g.Es(y.targetId,p);u.push(E)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(y,p){const E=be(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(p,(I=>W.forEach(I.Ts,(k=>E.persistence.referenceDelegate.addReference(S,I.targetId,k))).next((()=>W.forEach(I.Is,(k=>E.persistence.referenceDelegate.removeReference(S,I.targetId,k)))))))))}catch(S){if(!To(S))throw S;oe(vg,"Failed to update sequence numbers: "+S)}for(const S of p){const I=S.targetId;if(!S.fromCache){const k=E.vs.get(I),Y=k.snapshotVersion,Z=k.withLastLimboFreeSnapshotVersion(Y);E.vs=E.vs.insert(I,Z)}}})(r.localStore,u))}async function bN(s,e){const n=be(s);if(!n.currentUser.isEqual(e)){oe(xg,"User change. New user:",e.toKey());const r=await ZT(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new re(Q.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fu(n,r.Ns)}}function SN(s,e){const n=be(s),r=n.Au.get(e);if(r&&r.hu)return ke().add(r.key);{let l=ke();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function g1(s){const e=be(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=h1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_N.bind(null,e),e.Pu.J_=aN.bind(null,e.eventManager),e.Pu.yu=oN.bind(null,e.eventManager),e}function AN(s){const e=be(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EN.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return CI(this.persistence,new AI,e.initialUser,this.serializer)}Cu(e){return new JT(yg.Vi,this.serializer)}Du(e){return new VI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class wN extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new JT((r=>bh.Vi(r,n)),this.serializer)}}class Fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Pv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bN.bind(null,this.syncEngine),await iN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rN})()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),r=jI(e.databaseInfo);return FI(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,d,g){return new YI(r,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>Pv(this.syncEngine,n,0)),(function(){return Ov.v()?new Ov:new kI})())}createSyncEngine(e,n){return(function(l,u,d,g,y,p,E){const S=new hN(l,u,d,g,y,p);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=be(n);oe(ta,"RemoteStore shutting down."),r.Ea.add(5),await hu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fm.provider={build:()=>new Fm};class Og{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ur="FirestoreClient";class RN{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=Zt.UNAUTHENTICATED,this.clientId=ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{oe(ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(oe(ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function pm(s,e){s.asyncQueue.verifyOperationInProgress(),oe(ur,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await ZT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function zv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await CN(s);oe(ur,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>Vv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Vv(e.remoteStore,l))),s._onlineComponents=e}async function CN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(ur,"Using user provided OfflineComponentProvider");try{await pm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await pm(s,new Ah)}}else oe(ur,"Using default OfflineComponentProvider"),await pm(s,new wN(void 0));return s._offlineComponents}async function p1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(ur,"Using user provided OnlineComponentProvider"),await zv(s,s._uninitializedComponentsProvider._online)):(oe(ur,"Using default OnlineComponentProvider"),await zv(s,new Fm))),s._onlineComponents}function IN(s){return p1(s).then((e=>e.syncEngine))}async function wh(s){const e=await p1(s),n=e.eventManager;return n.onListen=fN.bind(null,e.syncEngine),n.onUnlisten=gN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pN.bind(null,e.syncEngine),n}function NN(s,e,n,r){const l=new Og(r),u=new Ng(e,l,n);return s.asyncQueue.enqueueAndForget((async()=>Rg(await wh(s),u))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>Cg(await wh(s),u)))}}function xN(s,e,n={}){const r=new is;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const E=new Og({next:I=>{E.Nu(),d.enqueueAndForget((()=>Cg(u,S)));const k=I.docs.has(g);!k&&I.fromCache?p.reject(new re(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&I.fromCache&&y&&y.source==="server"?p.reject(new re(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),S=new Ng(Lh(g.path),E,{includeMetadataChanges:!0,Ka:!0});return Rg(u,S)})(await wh(s),s.asyncQueue,e,n,r))),r.promise}function DN(s,e,n={}){const r=new is;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const E=new Og({next:I=>{E.Nu(),d.enqueueAndForget((()=>Cg(u,S))),I.fromCache&&y.source==="server"?p.reject(new re(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),S=new Ng(g,E,{includeMetadataChanges:!0,Ka:!0});return Rg(u,S)})(await wh(s),s.asyncQueue,e,n,r))),r.promise}function ON(s,e){const n=new is;return s.asyncQueue.enqueueAndForget((async()=>yN(await IN(s),e,n))),n.promise}function y1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const MN="ComponentProvider",Bv=new Map;function VN(s,e,n,r,l){return new eC(s,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,y1(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const _1="firestore.googleapis.com",qv=!0;class Hv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_1,this.ssl=qv}else this.host=e.host,this.ssl=e.ssl??qv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$T;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oI)throw new re(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new MR;switch(r.type){case"firstParty":return new LR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Bv.get(n);r&&(oe(MN,"Removing Datastore"),Bv.delete(n),r.terminate())})(this),Promise.resolve()}}function kN(s,e,n,r={}){s=rn(s,Kh);const l=go(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${n}`;l&&(uE(`https://${g}`),cE("Firestore",!0)),u.host!==_1&&u.host!==g&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:r};if(!nr(y,d)&&(s._setSettings(y),r.mockUserToken)){let p,E;if(typeof r.mockUserToken=="string")p=r.mockUserToken,E=Zt.MOCK_USER;else{p=jS(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new re(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(S)}s._authCredentials=new VR(new rT(p,E))}}class gr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gr(this.firestore,e,this._query)}}class mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lu(n,mt._jsonSchema))return new mt(e,r||null,new me(nt.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Ot("string",mt._jsonSchemaVersion),referencePath:Ot("string")};class tr extends gr{constructor(e,n,r){super(e,n,Lh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new me(e))}withConverter(e){return new tr(this.firestore,e,this._path)}}function Cn(s,e,...n){if(s=gt(s),aT("collection","path",e),s instanceof Kh){const r=nt.fromString(e,...n);return nv(r),new tr(s,null,r)}{if(!(s instanceof mt||s instanceof tr))throw new re(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...n));return nv(r),new tr(s.firestore,null,r)}}function pn(s,e,...n){if(s=gt(s),arguments.length===1&&(e=ag.newId()),aT("doc","path",e),s instanceof Kh){const r=nt.fromString(e,...n);return tv(r),new mt(s,null,new me(r))}{if(!(s instanceof mt||s instanceof tr))throw new re(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...n));return tv(r),new mt(s.firestore,s instanceof tr?s.converter:null,new me(r))}}const Fv="AsyncQueue";class Gv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new e1(this,"async_queue_retry"),this._c=()=>{const r=gm();r&&oe(Fv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;oe(Fv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",Yv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Ag.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&_e(47125,{Pc:Yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Yv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ki extends Kh{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new Gv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gv(e),this._firestoreClient=void 0,await e}}}function UN(s,e){const n=typeof s=="object"?s:mE(),r=typeof s=="string"?s:yh,l=$m(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=LS("firestore");u&&kN(l,...u)}return l}function du(s){if(s._terminated)throw new re(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||LN(s),s._firestoreClient}function LN(s){const e=s._freezeSettings(),n=VN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new RN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Xt.fromBase64String(e))}catch(n){throw new re(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Ot("string",qn._jsonSchemaVersion),bytes:Ot("string")};class Qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mu{constructor(e){this._methodName=e}}class Mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(lu(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ot("string",Mi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class ni{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ni(e.vectorValues);throw new re(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Ot("string",ni._jsonSchemaVersion),vectorValues:Ot("object")};const PN=/^__.*__$/;class jN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}class v1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function E1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:s})}}class Xh{constructor(e,n,r,l,u,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Xh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Rh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(E1(this.dataSource)&&PN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class zN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fh(e)}createContext(e,n,r,l=!1){return new Xh({dataSource:e,methodName:n,targetDoc:r,path:Qt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gu(s){const e=s._freezeSettings(),n=Fh(s._databaseId);return new zN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function Mg(s,e,n,r,l,u={}){const d=s.createContext(u.merge||u.mergeFields?2:0,e,n,l);Ug("Data must be an object, but it was:",d,r);const g=S1(r,d);let y,p;if(u.merge)y=new In(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const I=na(e,S,n);if(!d.contains(I))throw new re(Q.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);R1(E,I)||E.push(I)}y=new In(E),p=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,p=d.fieldTransforms;return new jN(new gn(g),y,p)}class $h extends mu{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function BN(s,e,n){return new Xh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Vg extends mu{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=BN(this,e,!0),r=this.Ac.map((u=>Ao(u,n))),l=new ho(r);return new UT(e.path,l)}isEqual(e){return e instanceof Vg&&nr(this.Ac,e.Ac)}}class kg extends mu{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new tu(e.serializer,DT(e.serializer,this.Vc));return new UT(e.path,n)}isEqual(e){return e instanceof kg&&this.Vc===e.Vc}}function T1(s,e,n,r){const l=s.createContext(1,e,n);Ug("Data must be an object, but it was:",l,r);const u=[],d=gn.empty();dr(r,((y,p)=>{const E=w1(e,y,n);p=gt(p);const S=l.childContextForFieldPath(E);if(p instanceof $h)u.push(E);else{const I=Ao(p,S);I!=null&&(u.push(E),d.set(E,I))}}));const g=new In(u);return new v1(d,g,l.fieldTransforms)}function b1(s,e,n,r,l,u){const d=s.createContext(1,e,n),g=[na(e,r,n)],y=[l];if(u.length%2!=0)throw new re(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)g.push(na(e,u[I])),y.push(u[I+1]);const p=[],E=gn.empty();for(let I=g.length-1;I>=0;--I)if(!R1(p,g[I])){const k=g[I];let Y=y[I];Y=gt(Y);const Z=d.childContextForFieldPath(k);if(Y instanceof $h)p.push(k);else{const X=Ao(Y,Z);X!=null&&(p.push(k),E.set(k,X))}}const S=new In(p);return new v1(E,S,d.fieldTransforms)}function qN(s,e,n,r=!1){return Ao(n,s.createContext(r?4:3,e))}function Ao(s,e){if(A1(s=gt(s)))return Ug("Unsupported field value:",e,s),S1(s,e);if(s instanceof mu)return(function(r,l){if(!E1(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const g of r){let y=Ao(g,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DT(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=at.fromDate(r);return{timestampValue:Th(l.serializer,u)}}if(r instanceof at){const u=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(l.serializer,u)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:qT(l.serializer,r._byteString)};if(r instanceof mt){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ni)return(function(d,g){const y=d instanceof ni?d.toArray():d;return{mapValue:{fields:{[gT]:{stringValue:pT},[_h]:{arrayValue:{values:y.map((E=>{if(typeof E!="number")throw g.createError("VectorValues must only contain numeric values.");return fg(g.serializer,E)}))}}}}}})(r,l);if(XT(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Mh(r)}`)})(s,e)}function S1(s,e){const n={};return uT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dr(s,((r,l)=>{const u=Ao(l,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function A1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof at||s instanceof Mi||s instanceof qn||s instanceof mt||s instanceof mu||s instanceof ni||XT(s))}function Ug(s,e,n){if(!A1(n)||!oT(n)){const r=Mh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function na(s,e,n){if((e=gt(e))instanceof Qh)return e._internalPath;if(typeof e=="string")return w1(s,e);throw Rh("Field path arguments must be of type string or ",s,!1,void 0,n)}const HN=new RegExp("[~\\*/\\[\\]]");function w1(s,e,n){if(e.search(HN)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Qh(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Rh(s,e,n,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new re(Q.INVALID_ARGUMENT,g+s+y)}function R1(s,e){return s.some((n=>n.isEqual(e)))}class FN{convertValue(e,n="none"){switch(or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return dr(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[_h].arrayValue?.values?.map((r=>Et(r.doubleValue)));return new ni(n)}convertGeoPoint(e){return new Mi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=rr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Fe(QT(r),9688,{name:e});const l=new Jl(r.get(1),r.get(3)),u=new me(r.popFirst(5));return l.isEqual(n)||as(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Lg extends FN{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function GN(...s){return new Vg("arrayUnion",s)}function Pl(s){return new kg("increment",s)}const Kv="@firebase/firestore",Qv="4.10.0";function Xv(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class C1{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(na("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YN extends C1{data(){return super.data()}}function I1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new re(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pg{}class N1 extends Pg{}function cr(s,e,...n){let r=[];e instanceof Pg&&r.push(e),r=r.concat(n),(function(u){const d=u.filter((y=>y instanceof jg)).length,g=u.filter((y=>y instanceof Jh)).length;if(d>1||d>0&&g>0)throw new re(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Jh extends N1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jh(e,n,r)}_apply(e){const n=this._parse(e);return D1(e._query,n),new gr(e.firestore,e.converter,Vm(e._query,n))}_parse(e){const n=gu(e.firestore);return(function(u,d,g,y,p,E,S){let I;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new re(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Jv(S,E);const Y=[];for(const Z of S)Y.push($v(y,u,Z));I={arrayValue:{values:Y}}}else I=$v(y,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Jv(S,E),I=qN(g,d,S,E==="in"||E==="not-in");return Dt.create(p,E,I)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zh(s,e,n){const r=e,l=na("where",s);return Jh._create(l,r,n)}class jg extends Pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)D1(d,y),d=Vm(d,y)})(e._query,n),new gr(e.firestore,e.converter,Vm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zg extends N1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zg(e,n)}_apply(e){const n=(function(l,u,d){if(l.startAt!==null)throw new re(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new re(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(u,d)})(e._query,this._field,this._direction);return new gr(e.firestore,e.converter,_C(e._query,n))}}function x1(s,e="asc"){const n=e,r=na("orderBy",s);return zg._create(r,n)}function $v(s,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new re(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AT(e)&&n.indexOf("/")!==-1)throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!me.isDocumentKey(r))throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cv(s,new me(r))}if(n instanceof mt)return cv(s,n._key);throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(n)}.`)}function Jv(s,e){if(!Array.isArray(s)||s.length===0)throw new re(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D1(s,e){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new re(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Bg(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xr extends C1{constructor(e,n,r,l,u,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(na("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xr._jsonSchema={type:Ot("string",Xr._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class oh extends Xr{data(e={}){return super.data(e)}}class $r{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new jl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new oh(this._firestore,this._userDataWriter,r.key,r,new jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new oh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new jl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new oh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new jl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:KN(g.type),doc:y,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$r._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}$r._jsonSchemaVersion="firestore/querySnapshot/1.0",$r._jsonSchema={type:Ot("string",$r._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class QN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=gu(e)}set(e,n,r){this._verifyNotCommitted();const l=ym(e,this._firestore),u=Bg(l.converter,n,r),d=Mg(this._dataReader,"WriteBatch.set",l._key,u,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,an.none())),this}update(e,n,r,...l){this._verifyNotCommitted();const u=ym(e,this._firestore);let d;return d=typeof(n=gt(n))=="string"||n instanceof Qh?b1(this._dataReader,"WriteBatch.update",u._key,n,r,l):T1(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(d.toMutation(u._key,an.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ym(e,this._firestore);return this._mutations=this._mutations.concat(new qh(n._key,an.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ym(s,e){if((s=gt(s)).firestore!==e)throw new re(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function XN(s){s=rn(s,mt);const e=rn(s.firestore,ki),n=du(e);return xN(n,s._key).then((r=>M1(e,s,r)))}function Zv(s){s=rn(s,gr);const e=rn(s.firestore,ki),n=du(e),r=new Lg(e);return I1(s._query),DN(n,s._query).then((l=>new $r(e,r,s,l)))}function Ch(s,e,n){s=rn(s,mt);const r=rn(s.firestore,ki),l=Bg(s.converter,e,n),u=gu(r);return pu(r,[Mg(u,"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,an.none())])}function nu(s,e,n,...r){s=rn(s,mt);const l=rn(s.firestore,ki),u=gu(l);let d;return d=typeof(e=gt(e))=="string"||e instanceof Qh?b1(u,"updateDoc",s._key,e,n,r):T1(u,"updateDoc",s._key,e),pu(l,[d.toMutation(s._key,an.exists(!0))])}function O1(s){return pu(rn(s.firestore,ki),[new qh(s._key,an.none())])}function qg(s,e){const n=rn(s.firestore,ki),r=pn(s),l=Bg(s.converter,e),u=gu(s.firestore);return pu(n,[Mg(u,"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,an.exists(!1))]).then((()=>r))}function ls(s,...e){s=gt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Xv(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Xv(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let u,d,g;if(s instanceof mt)d=rn(s.firestore,ki),g=Lh(s._key.path),u={next:p=>{e[r]&&e[r](M1(d,s,p))},error:e[r+1],complete:e[r+2]};else{const p=rn(s,gr);d=rn(p.firestore,ki),g=p._query;const E=new Lg(d);u={next:S=>{e[r]&&e[r](new $r(d,E,p,S))},error:e[r+1],complete:e[r+2]},I1(s._query)}const y=du(d);return NN(y,g,l,u)}function pu(s,e){const n=du(s);return ON(n,e)}function M1(s,e,n){const r=n.docs.get(e._key),l=new Lg(s);return new Xr(s,l,e._key,r,new jl(n.hasPendingWrites,n.fromCache),e.converter)}function Gm(s){return s=rn(s,ki),du(s),new QN(s,(e=>pu(s,e)))}(function(e,n=!0){OR(po),ro(new Zr("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),g=new ki(new kR(r.getProvider("auth-internal")),new PR(d,r.getProvider("app-check-internal")),tC(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Ws(Kv,Qv,e),Ws(Kv,Qv,"esm2020")})();const V1=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const $N=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const JN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const Wv=s=>{const e=JN(s);return e.charAt(0).toUpperCase()+e.slice(1)};var ZN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WN=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const ex=fe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...g},y)=>fe.createElement("svg",{ref:y,...ZN,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:V1("lucide",l),...!u&&!WN(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,E])=>fe.createElement(p,E)),...Array.isArray(u)?u:[u]]));const it=(s,e)=>{const n=fe.forwardRef(({className:r,...l},u)=>fe.createElement(ex,{ref:u,iconNode:e,className:V1(`lucide-${$N(Wv(s))}`,`lucide-${s}`,r),...l}));return n.displayName=Wv(s),n};const tx=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],nx=it("bell",tx);const ix=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sx=it("calendar",ix);const rx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],k1=it("check",rx);const ax=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ox=it("chevron-left",ax);const lx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ux=it("chevron-right",lx);const cx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hx=it("circle-alert",cx);const fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],U1=it("circle-check",fx);const dx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mx=it("circle",dx);const gx=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Wh=it("coins",gx);const px=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Hg=it("flame",px);const yx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hr=it("loader-circle",yx);const _x=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vx=it("log-out",_x);const Ex=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M7.828 13.07A3 3 0 0 1 12 8.764a3 3 0 0 1 5.004 2.224 3 3 0 0 1-.832 2.083l-3.447 3.62a1 1 0 0 1-1.45-.001z",key:"hoo97p"}]],Fg=it("message-circle-heart",Ex);const Tx=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ym=it("message-square",Tx);const bx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],L1=it("pen",bx);const Sx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ax=it("plus",Sx);const wx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rx=it("save",wx);const Cx=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ix=it("send",Cx);const Nx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xx=it("trash-2",Nx);const Dx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ox=it("trending-up",Dx);const Mx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],P1=it("trophy",Mx);const Vx=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],kx=it("undo-2",Vx);const Ux=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lx=it("user",Ux);const Px=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],j1=it("users",Px);const jx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ih=it("x",jx);const zx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],z1=it("zap",zx),Bx={apiKey:"AIzaSyBp7mDobIYrVIUkDfuClqqfdm9JIYW3yvs",authDomain:"gate26-mocks.firebaseapp.com",projectId:"gate26-mocks",storageBucket:"gate26-mocks.firebasestorage.app",messagingSenderId:"46444663512",appId:"1:46444663512:web:701e86ce9f47735ae1fdad",measurementId:"G-2JZTZYTEWJ"},B1=dE(Bx),Jr=xR(B1),et=UN(B1),q1=()=>"habit-squad-main",Gg=()=>{const s=new Date;return s.setHours(s.getHours()-3),s.toLocaleDateString("en-CA",{timeZone:"Asia/Kolkata"})},_m=s=>{s=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),s.setUTCDate(s.getUTCDate()+4-(s.getUTCDay()||7));var e=new Date(Date.UTC(s.getUTCFullYear(),0,1)),n=Math.ceil(((s-e)/864e5+1)/7);return[s.getUTCFullYear(),n]},eE=(s,e={type:"daily",days:[]})=>{if(!s||s.length===0)return 0;const n=[...s].sort((l,u)=>new Date(u)-new Date(l)),r=Gg();if(!e||e.type==="daily"){const l=new Date(r),u=new Date(n[0]),d=Math.abs(l-u);if(Math.ceil(d/(1e3*60*60*24))>1)return 0;let y=0,p=new Date(u);for(let E=0;E<n.length;E++){const S=new Date(n[E]);if(E>0&&S.getTime()===new Date(n[E-1]).getTime())continue;const I=p.getTime();if(S.getTime()===I)y++,p.setDate(p.getDate()-1);else break}return y}if(e.type==="custom"){if(!e.days||e.days.length===0)return 0;const l=e.days.map(p=>parseInt(p)),u=new Date(r);let d=new Date(u);for(;!l.includes(d.getDay());)d.setDate(d.getDate()-1);const g=d.toLocaleDateString("en-CA");if(n[0]<g)return 0;let y=0;for(let p=0;p<365;p++){const E=d.toLocaleDateString("en-CA");if(s.includes(E)){y++;do d.setDate(d.getDate()-1);while(!l.includes(d.getDay()))}else break}return y}if(e.type==="weekly"){const l=_m(new Date(r)),u=new Date(n[0]),d=_m(u);if(l[0]===d[0]){if(l[1]-d[1]>1)return 0}else if(new Date(r)-u>14*864e5)return 0;let g=0,y=d;const p=new Set;for(s.forEach(E=>{const S=_m(new Date(E));p.add(`${S[0]}-${S[1]}`)});p.has(`${y[0]}-${y[1]}`)&&(g++,y[1]===1?y=[y[0]-1,52]:y=[y[0],y[1]-1],!(g>500)););return g}if(e.type==="monthly"){const l=new Date(r),u=new Date(n[0]);if((l.getFullYear()-u.getFullYear())*12+(l.getMonth()-u.getMonth())>1)return 0;let g=0,y=u.getFullYear(),p=u.getMonth();const E=new Set;for(s.forEach(S=>{const I=new Date(S);E.add(`${I.getFullYear()}-${I.getMonth()}`)});E.has(`${y}-${p}`)&&(g++,p--,p<0&&(p=11,y--),!(g>120)););return g}return 0},zl=s=>{const e=Gg(),n=s.history||[],r=s.frequency||{type:"daily"};if(!n.length)return!1;if(r.type==="daily"||r.type==="custom")return n.includes(e);if(r.type==="weekly"){const l=new Date(e),u=new Date(l);return u.setDate(l.getDate()-l.getDay()),n.some(d=>new Date(d)>=u)}if(r.type==="monthly"){const l=new Date(e),u=new Date(l.getFullYear(),l.getMonth(),1);return n.some(d=>new Date(d)>=u)}return!1},tE=({message:s,type:e,onClose:n})=>{fe.useEffect(()=>{const l=setTimeout(n,4e3);return()=>clearTimeout(l)},[n]);const r={success:"bg-emerald-600",error:"bg-red-600",info:"bg-blue-600"};return A.jsxs("div",{className:`fixed top-4 right-4 z-[100] ${r[e]||r.info} text-white px-4 py-3 rounded-lg shadow-xl flex items-center gap-3 animate-in fade-in slide-in-from-top-5 border border-white/10`,children:[e==="success"&&A.jsx(k1,{size:20}),e==="error"&&A.jsx(hx,{size:20}),A.jsx("span",{className:"font-medium text-sm font-sans",children:s}),A.jsx("button",{onClick:n,className:"ml-2 hover:bg-white/20 p-1 rounded-full",children:A.jsx(Ih,{size:16})})]})},qx=({isOpen:s,title:e,message:n,onConfirm:r,onCancel:l})=>s?A.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:A.jsxs("div",{className:"bg-gray-900 rounded-2xl max-w-sm w-full p-6 border border-gray-800 shadow-2xl scale-100",children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-2 font-display",children:e}),A.jsx("p",{className:"text-gray-400 mb-6 text-sm leading-relaxed font-sans",children:n}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{onClick:l,className:"flex-1 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium rounded-lg transition-colors font-sans",children:"Cancel"}),A.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-500 text-white font-medium rounded-lg transition-colors font-sans",children:"Confirm"})]})]})}):null,Hx=({setUser:s,showToast:e})=>{const[n,r]=fe.useState(!0),[l,u]=fe.useState(""),[d,g]=fe.useState(""),[y,p]=fe.useState(""),[E,S]=fe.useState(!1),I=async k=>{k.preventDefault(),S(!0);const Y=q1();try{if(n)await m2(Jr,l,d),e("Welcome back to the squad!","success");else{if(d.length<6)throw{code:"auth/weak-password"};const Z=await d2(Jr,l,d);await BE(Z.user,{displayName:y}),await Ch(pn(et,"artifacts",Y,"public","data","users",Z.user.uid),{uid:Z.user.uid,displayName:y,email:l,coins:100,cheers:0,joinedAt:new Date().toISOString()},{merge:!0}),e("Account created! +100 Coins","success")}}catch(Z){console.error(Z);let X="An error occurred.";switch(Z.code){case"auth/user-not-found":X="No account found. Please Sign Up first.";break;case"auth/wrong-password":X="Incorrect password. Please try again.";break;case"auth/invalid-credential":case"auth/invalid-login-credentials":n?X="Invalid credentials. If you are new, please Sign Up.":X="Registration failed. Please check your details.";break;case"auth/email-already-in-use":X="Email already in use. Try logging in.";break;case"auth/invalid-email":X="Please enter a valid email address.";break;case"auth/weak-password":X="Password must be at least 6 characters.";break;case"auth/network-request-failed":X="Network error. Please check your connection.";break;case"auth/too-many-requests":X="Too many attempts. Please try again later.";break;default:X=Z.message||"Authentication failed."}e(X,"error")}finally{S(!1)}};return A.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-950 px-4 font-sans",children:[A.jsx("style",{children:`
        :root {
          --font-sans: 'Montserrat', sans-serif;
          --font-display: 'Bricolage Grotesque', sans-serif;
        }
        body { font-family: var(--font-sans); }
        .font-sans { font-family: var(--font-sans); }
        .font-display { font-family: var(--font-display); }
        h1, h2, h3, h4, .font-bricolage { font-family: var(--font-display); }
      `}),A.jsx("div",{className:"max-w-md w-full bg-gray-900/50 backdrop-blur-sm rounded-3xl shadow-2xl overflow-hidden border border-gray-800",children:A.jsxs("div",{className:"p-8",children:[A.jsx("div",{className:"flex justify-center mb-6",children:A.jsx("div",{className:"bg-orange-600 p-4 rounded-2xl shadow-lg shadow-orange-900/20",children:A.jsx(Hg,{size:40,className:"text-white fill-orange-400"})})}),A.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-2 tracking-tight font-display",children:"HabitSquad"}),A.jsx("p",{className:"text-center text-gray-500 mb-8 text-sm",children:n?"Welcome back, legend.":"Join the squad. Build the streak."}),A.jsxs("form",{onSubmit:I,className:"space-y-4",children:[!n&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wider",children:"Display Name"}),A.jsx("input",{type:"text",required:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-orange-500 transition-colors placeholder-gray-600",placeholder:"HabitHero",value:y,onChange:k=>p(k.target.value)})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wider",children:"Email"}),A.jsx("input",{type:"email",required:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-orange-500 transition-colors placeholder-gray-600",placeholder:"you@example.com",value:l,onChange:k=>u(k.target.value)})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wider",children:"Password"}),A.jsx("input",{type:"password",required:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-orange-500 transition-colors placeholder-gray-600",placeholder:"",value:d,onChange:k=>g(k.target.value)})]}),A.jsx("button",{type:"submit",disabled:E,className:"w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-3.5 rounded-xl transition-all active:scale-[0.98] flex justify-center items-center disabled:opacity-50 mt-2 font-display tracking-wide",children:E?A.jsx(hr,{className:"animate-spin",size:20}):n?"LOG IN":"SIGN UP"})]}),A.jsxs("div",{className:"relative my-8",children:[A.jsx("div",{className:"absolute inset-0 flex items-center",children:A.jsx("div",{className:"w-full border-t border-gray-800"})}),A.jsx("div",{className:"relative flex justify-center text-xs uppercase tracking-widest",children:A.jsx("span",{className:"px-3 bg-gray-900 text-gray-600",children:"or"})})]}),A.jsx("div",{className:"text-center",children:A.jsx("button",{onClick:()=>r(!n),className:"text-gray-400 hover:text-white text-sm transition-colors font-medium",children:n?"Need an account? Sign Up":"Already have an account? Log In"})})]})})]})};function Fx(){const[s,e]=fe.useState(null),[n,r]=fe.useState(!0),[l,u]=fe.useState("habits"),[d,g]=fe.useState(!1),[y,p]=fe.useState(null),[E,S]=fe.useState(null),[I,k]=fe.useState(null),[Y,Z]=fe.useState(!1),[X,ee]=fe.useState([]),ae=fe.useRef(null),ie=q1(),ce=(w,R="info")=>{S({message:w,type:R})};fe.useEffect(()=>{const w=document.createElement("link");return w.href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap",w.rel="stylesheet",document.head.appendChild(w),()=>{document.head.removeChild(w)}},[]),fe.useEffect(()=>{(async()=>{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await f2(Jr,__initial_auth_token)}catch(O){console.error("Token auth failed",O)}})();const R=_2(Jr,async O=>{if(e(O),O)try{const D=pn(et,"artifacts",ie,"public","data","users",O.uid);(await XN(D)).exists()||await Ch(D,{uid:O.uid,displayName:O.displayName||"Habit Hero",email:O.email||"hero@habitsquad.app",coins:0,cheers:0,joinedAt:new Date().toISOString()},{merge:!0})}catch{}r(!1)});return()=>R()},[ie]),fe.useEffect(()=>{if(!s)return;const w=cr(Cn(et,"artifacts",ie,"public","data","users",s.uid,"notifications"),x1("timestamp","desc")),R=ls(w,O=>{ee(O.docs.map(D=>({id:D.id,...D.data()})))});return()=>R()},[s,ie]),fe.useEffect(()=>{const w=R=>{ae.current&&!ae.current.contains(R.target)&&Z(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const Ie=async w=>{try{await O1(pn(et,"artifacts",ie,"public","data","users",s.uid,"notifications",w))}catch(R){console.error(R)}},Se=async()=>{if(X.length!==0)try{const w=Gm(et);X.forEach(R=>{const O=pn(et,"artifacts",ie,"public","data","users",s.uid,"notifications",R.id);w.delete(O)}),await w.commit(),ce("Notifications cleared","info")}catch(w){console.error(w),ce("Failed to clear notifications","error")}},x=w=>{p(w),g(!0)};return n?A.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center text-white",children:A.jsx(hr,{className:"animate-spin text-orange-500",size:48})}):s?A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white font-sans selection:bg-orange-500/30 pb-24",children:[A.jsx("style",{children:`
        :root {
          --font-sans: 'Montserrat', sans-serif;
          --font-display: 'Bricolage Grotesque', sans-serif;
        }
        body { font-family: var(--font-sans); }
        .font-sans { font-family: var(--font-sans); }
        .font-display { font-family: var(--font-display); }
        h1, h2, h3, h4, .font-bricolage { font-family: var(--font-display); }
      `}),E&&A.jsx(tE,{message:E.message,type:E.type,onClose:()=>S(null)}),A.jsx("header",{className:"sticky top-0 z-40 bg-gray-950/80 backdrop-blur-lg border-b border-white/5 px-4 py-3",children:A.jsxs("div",{className:"max-w-2xl mx-auto flex justify-between items-center relative",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"bg-orange-600 p-1.5 rounded-lg",children:A.jsx(Hg,{size:18,className:"text-white fill-white"})}),A.jsx("h1",{className:"font-bold text-xl tracking-tight hidden sm:block text-gray-100 font-display",children:"HabitSquad"})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(Gx,{user:s,appId:ie}),A.jsxs("div",{className:"relative",ref:ae,children:[A.jsxs("button",{onClick:()=>Z(!Y),className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-full transition-all relative",children:[A.jsx(nx,{size:20}),X.length>0&&A.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-red-500 rounded-full border border-gray-950 animate-pulse"})]}),Y&&A.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-gray-900 border border-gray-800 rounded-xl shadow-2xl overflow-hidden z-50 animate-in fade-in slide-in-from-top-2",children:[A.jsxs("div",{className:"p-3 border-b border-gray-800 flex justify-between items-center bg-gray-900/50",children:[A.jsx("h3",{className:"font-semibold text-sm text-gray-300 font-display",children:"Notifications"}),X.length>0&&A.jsx("button",{onClick:Se,className:"text-xs text-orange-500 hover:text-orange-400 font-medium",children:"Clear All"})]}),A.jsx("div",{className:"max-h-64 overflow-y-auto",children:X.length===0?A.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No new notifications"}):X.map(w=>A.jsxs("div",{className:"p-3 border-b border-gray-800/50 hover:bg-white/5 flex items-start gap-3 last:border-0",children:[A.jsx("div",{className:`${w.type==="message"?"bg-blue-500/10 text-blue-500":"bg-pink-500/10 text-pink-500"} p-1.5 rounded-full shrink-0 mt-0.5`,children:w.type==="message"?A.jsx(Ym,{size:14}):A.jsx(z1,{size:14,className:"fill-current"})}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsxs("p",{className:"text-sm text-gray-200 font-sans",children:[A.jsx("span",{className:"font-bold text-white font-display",children:w.from})," ",w.type==="message"?A.jsxs("span",{className:"text-gray-300",children:[": ",w.text]}):"cheered you!"]}),A.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:new Date(w.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),A.jsx("button",{onClick:()=>Ie(w.id),className:"text-gray-600 hover:text-white p-1",children:A.jsx(Ih,{size:14})})]},w.id))})]})]}),A.jsx("button",{onClick:()=>v2(Jr),className:"p-2 text-gray-500 hover:text-white hover:bg-white/5 rounded-full transition-all",title:"Sign Out",children:A.jsx(vx,{size:20})})]})]})}),A.jsxs("main",{className:"max-w-2xl mx-auto px-4 py-8",children:[l==="habits"&&A.jsx(Kx,{user:s,appId:ie,setShowAddHabit:w=>{w&&p(null),g(w)},showToast:ce,onEditHabit:x}),l==="squad"&&A.jsx(Xx,{user:s,appId:ie,showToast:ce}),l==="chat"&&A.jsx(Yx,{user:s,appId:ie,showToast:ce}),l==="leaderboard"&&A.jsx($x,{user:s,appId:ie,onSelectFriend:k}),l==="profile"&&A.jsx(nE,{targetUid:s.uid,appId:ie,showToast:ce,isOwnProfile:!0})]}),I&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in",children:A.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-gray-950 rounded-3xl relative border border-gray-800 shadow-2xl",children:[A.jsx("button",{onClick:()=>k(null),className:"absolute top-4 right-4 z-50 p-2 bg-gray-800 rounded-full text-white hover:bg-gray-700",children:A.jsx(Ih,{size:20})}),A.jsx("div",{className:"p-4 pt-10",children:A.jsx(nE,{targetUid:I,appId:ie,showToast:ce,isOwnProfile:!1})})]})}),A.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-white/5 pb-safe z-30 shadow-2xl",children:A.jsxs("div",{className:"max-w-2xl mx-auto flex justify-around p-2",children:[A.jsx(Ol,{active:l==="habits",onClick:()=>u("habits"),icon:U1,label:"Habits"}),A.jsx(Ol,{active:l==="squad",onClick:()=>u("squad"),icon:j1,label:"Squad"}),A.jsx(Ol,{active:l==="chat",onClick:()=>u("chat"),icon:Ym,label:"Chat"}),A.jsx(Ol,{active:l==="leaderboard",onClick:()=>u("leaderboard"),icon:P1,label:"Ranks"}),A.jsx(Ol,{active:l==="profile",onClick:()=>u("profile"),icon:Lx,label:"Profile"})]})}),d&&A.jsx(Qx,{onClose:()=>{g(!1),p(null)},user:s,appId:ie,showToast:ce,habitToEdit:y})]}):A.jsxs(A.Fragment,{children:[E&&A.jsx(tE,{message:E.message,type:E.type,onClose:()=>S(null)}),A.jsx(Hx,{setUser:e,showToast:ce})]})}const Gx=({user:s,appId:e})=>{const[n,r]=fe.useState(null);return fe.useEffect(()=>{const l=ls(pn(et,"artifacts",e,"public","data","users",s.uid),u=>{u.exists()&&r(u.data())});return()=>l()},[s,e]),n?A.jsxs("div",{className:"flex items-center gap-4 bg-white/5 px-3 py-1.5 rounded-full border border-white/5",children:[A.jsxs("div",{className:"flex items-center gap-1.5 text-yellow-400",children:[A.jsx(Wh,{size:14,className:"fill-current"}),A.jsx("span",{className:"font-bold font-mono text-sm font-display",children:n.coins||0})]}),A.jsx("div",{className:"w-px h-3 bg-white/10"}),A.jsxs("div",{className:"flex items-center gap-1.5 text-pink-400",children:[A.jsx(Fg,{size:14,className:"fill-current"}),A.jsx("span",{className:"font-bold font-mono text-sm font-display",children:n.cheers||0})]})]}):null},Ol=({active:s,onClick:e,icon:n,label:r})=>A.jsxs("button",{onClick:e,className:`flex flex-col items-center p-2 rounded-xl transition-all w-14 sm:w-20 ${s?"text-orange-500":"text-gray-500 hover:text-gray-300"}`,children:[A.jsx(n,{size:24,strokeWidth:s?2.5:2}),A.jsx("span",{className:'text-[13px] mt-1 font-medium font-display tracking-wide opacity-100"',children:r})]}),nE=({targetUid:s,appId:e,showToast:n,isOwnProfile:r})=>{const[l,u]=fe.useState(null),[d,g]=fe.useState([]),[y,p]=fe.useState(!0),[E,S]=fe.useState(0),[I,k]=fe.useState(!1),[Y,Z]=fe.useState(""),[X,ee]=fe.useState(!1);fe.useEffect(()=>{const ce=pn(et,"artifacts",e,"public","data","users",s),Ie=ls(ce,w=>{const R=w.data();u(R),R&&Z(R.displayName)}),Se=cr(Cn(et,"artifacts",e,"public","data","habits"),Zh("uid","==",s)),x=ls(Se,w=>{const R=w.docs.map(O=>({id:O.id,...O.data()}));g(R),p(!1)});return()=>{Ie(),x()}},[s,e]);const ae=async()=>{if(!(!Y.trim()||X)){ee(!0);try{Jr.currentUser&&await BE(Jr.currentUser,{displayName:Y});const ce=pn(et,"artifacts",e,"public","data","users",s);await nu(ce,{displayName:Y}),n("Profile updated.","success"),k(!1)}catch{n("Failed to update.","error")}finally{ee(!1)}}},ie=fe.useMemo(()=>{const ce=new Date,Ie=ce.getFullYear(),Se=ce.getMonth()-E,x=new Date(Ie,Se,1),R=new Date(Ie,Se+1,0).getDate(),O=[];for(let D=1;D<=R;D++){const L=new Date(Ie,Se,D),C=L.toLocaleDateString("en-CA",{timeZone:"Asia/Kolkata"}),Xe=d.length,ht=d.filter(te=>te.history&&te.history.includes(C)).length;let F=0;if(Xe>0){const te=ht/Xe;te===1?F=3:te>=.5?F=2:te>0&&(F=1)}O.push({date:L,dayNum:D,dateStr:C,intensity:F,completedCount:ht,total:Xe})}return{days:O,monthName:x.toLocaleString("default",{month:"long",year:"numeric"})}},[d,E]);return y||!l?A.jsxs("div",{className:"text-center py-20 text-gray-500",children:[A.jsx(hr,{className:"animate-spin inline mr-2"})," Loading profile..."]}):A.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-5 fade-in duration-500",children:[A.jsxs("div",{className:"bg-gray-900 rounded-3xl p-8 border border-gray-800 shadow-xl relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-600/10 blur-3xl rounded-full"}),A.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[A.jsx("div",{className:"w-24 h-24 bg-gradient-to-tr from-orange-500 to-red-600 rounded-2xl flex items-center justify-center text-4xl font-bold text-white mb-5 shadow-2xl shadow-orange-900/40 font-display",children:l.displayName?l.displayName[0].toUpperCase():"U"}),A.jsx("div",{className:"flex items-center gap-3",children:I&&r?A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("input",{autoFocus:!0,type:"text",value:Y,onChange:ce=>Z(ce.target.value),className:"bg-gray-800 border border-gray-700 text-white px-3 py-1 rounded-lg text-lg font-bold outline-none focus:border-orange-500 w-48 text-center font-display"}),A.jsx("button",{onClick:ae,disabled:X,className:"p-2 bg-green-600 hover:bg-green-500 rounded-lg text-white",children:X?A.jsx(hr,{size:18,className:"animate-spin"}):A.jsx(Rx,{size:18})}),A.jsx("button",{onClick:()=>k(!1),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:A.jsx(Ih,{size:18})})]}):A.jsxs(A.Fragment,{children:[A.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight font-display",children:l.displayName}),r&&A.jsx("button",{onClick:()=>k(!0),className:"p-1.5 text-gray-500 hover:text-white hover:bg-white/10 rounded-full transition-colors",children:A.jsx(L1,{size:16})})]})}),A.jsx("p",{className:"text-gray-500 text-sm mt-1",children:r?l.email:"Squad Member"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[A.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-2xl text-center border border-gray-800",children:[A.jsx("div",{className:"text-gray-500 text-xs mb-1 uppercase tracking-wider font-semibold font-display",children:"Coins"}),A.jsxs("div",{className:"text-2xl font-bold text-yellow-500 flex justify-center items-center gap-2 font-display",children:[A.jsx(Wh,{size:20})," ",l.coins||0]})]}),A.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-2xl text-center border border-gray-800",children:[A.jsx("div",{className:"text-gray-500 text-xs mb-1 uppercase tracking-wider font-semibold font-display",children:"Cheers"}),A.jsxs("div",{className:"text-2xl font-bold text-pink-500 flex justify-center items-center gap-2 font-display",children:[A.jsx(Fg,{size:20})," ",l.cheers||0]})]})]})]}),A.jsxs("div",{className:"bg-gray-900 rounded-3xl p-6 border border-gray-800",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(sx,{className:"text-orange-500",size:20}),A.jsx("h3",{className:"text-lg font-bold text-white font-display",children:"History"})]}),A.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 rounded-lg p-1",children:[A.jsx("button",{onClick:()=>S(Math.min(2,E+1)),disabled:E>=2,className:"p-1 text-gray-400 hover:text-white disabled:opacity-30",children:A.jsx(ox,{size:16})}),A.jsx("span",{className:"text-xs font-bold w-24 text-center font-display",children:ie.monthName}),A.jsx("button",{onClick:()=>S(Math.max(0,E-1)),disabled:E<=0,className:"p-1 text-gray-400 hover:text-white disabled:opacity-30",children:A.jsx(ux,{size:16})})]})]}),A.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["S","M","T","W","T","F","S"].map((ce,Ie)=>A.jsx("div",{className:"text-center text-[10px] text-gray-600 font-bold font-display",children:ce},Ie)),Array.from({length:ie.days[0]?.date.getDay()||0}).map((ce,Ie)=>A.jsx("div",{},`empty-${Ie}`)),ie.days.map(ce=>A.jsx("div",{className:`
                   aspect-square rounded-md flex items-center justify-center text-xs font-medium transition-all font-display
                   ${ce.intensity===3?"bg-green-500 text-black shadow-[0_0_8px_rgba(34,197,94,0.4)]":ce.intensity===2?"bg-green-700 text-green-100":ce.intensity===1?"bg-green-900/60 text-green-500":"bg-gray-800 text-gray-600"}
                 `,title:`${ce.dateStr}: ${ce.completedCount} / ${ce.total}`,children:ce.dayNum},ce.dateStr))]})]})]})},Yx=({user:s,appId:e})=>{const[n,r]=fe.useState([]),[l,u]=fe.useState(""),d=fe.useRef(null);fe.useEffect(()=>{(async()=>{const p=new Date(Date.now()-864e5).toISOString(),E=cr(Cn(et,"artifacts",e,"public","data","chat"),Zh("timestamp","<",p));try{const S=await Zv(E);if(!S.empty){const I=Gm(et);S.docs.forEach(k=>I.delete(k.ref)),await I.commit()}}catch(S){console.error("Cleanup error",S)}})()},[e]),fe.useEffect(()=>{const y=cr(Cn(et,"artifacts",e,"public","data","chat"),x1("timestamp","asc")),p=ls(y,E=>{r(E.docs.map(S=>({id:S.id,...S.data()})))});return()=>p()},[e]),fe.useEffect(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[n]);const g=async y=>{if(y.preventDefault(),!l.trim())return;const p=l.trim();u("");try{await qg(Cn(et,"artifacts",e,"public","data","chat"),{text:p,uid:s.uid,displayName:s.displayName||"Anonymous",timestamp:new Date().toISOString()});const E=Cn(et,"artifacts",e,"public","data","users"),S=await Zv(E),I=Gm(et);let k=0;S.docs.forEach(Y=>{const Z=Y.data();if(Z.uid!==s.uid){const X=pn(Cn(et,"artifacts",e,"public","data","users",Z.uid,"notifications"));I.set(X,{type:"message",from:s.displayName||"Someone",fromUid:s.uid,text:p.substring(0,30)+(p.length>30?"...":""),timestamp:new Date().toISOString()}),k++}}),k>0&&await I.commit()}catch(E){console.error("Send error",E)}};return A.jsxs("div",{className:"flex flex-col h-[calc(100vh-180px)] bg-gray-900 rounded-3xl overflow-hidden border border-gray-800 shadow-xl",children:[A.jsxs("div",{className:"bg-gray-800 p-4 border-b border-gray-700 flex items-center gap-3",children:[A.jsx(Ym,{className:"text-orange-500",size:20}),A.jsx("h3",{className:"font-bold text-white font-display",children:"Squad Chat"})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.length===0?A.jsx("div",{className:"text-center text-gray-500 text-sm py-10",children:"No messages yet. Start the conversation!"}):n.map(y=>{const p=y.uid===s.uid;return A.jsxs("div",{className:`flex flex-col ${p?"items-end":"items-start"}`,children:[A.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-2.5 text-sm ${p?"bg-orange-600 text-white rounded-br-none":"bg-gray-800 text-gray-200 rounded-bl-none"}`,children:[!p&&A.jsx("p",{className:"text-[10px] text-orange-400 font-bold mb-1 uppercase tracking-wide",children:y.displayName}),y.text]}),A.jsx("span",{className:"text-[10px] text-gray-600 mt-1 px-1",children:new Date(y.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},y.id)}),A.jsx("div",{ref:d})]}),A.jsxs("form",{onSubmit:g,className:"p-3 bg-gray-800 border-t border-gray-700 flex gap-2",children:[A.jsx("input",{type:"text",value:l,onChange:y=>u(y.target.value),placeholder:"Type a message...",className:"flex-1 bg-gray-900 border border-gray-700 rounded-xl px-4 py-2.5 text-white focus:outline-none focus:border-orange-500 text-sm"}),A.jsx("button",{type:"submit",disabled:!l.trim(),className:"bg-orange-600 hover:bg-orange-500 disabled:opacity-50 disabled:hover:bg-orange-600 text-white p-2.5 rounded-xl transition-colors",children:A.jsx(Ix,{size:20})})]})]})},Kx=({user:s,appId:e,setShowAddHabit:n,showToast:r,onEditHabit:l})=>{const[u,d]=fe.useState([]),[g,y]=fe.useState(!0),[p,E]=fe.useState(null);fe.useEffect(()=>{const k=cr(Cn(et,"artifacts",e,"public","data","habits"),Zh("uid","==",s.uid)),Y=ls(k,Z=>{const X=Z.docs.map(ee=>({id:ee.id,...ee.data()}));X.sort((ee,ae)=>{const ie=zl(ee),ce=zl(ae);return ie!==ce?ie?1:-1:new Date(ae.createdAt)-new Date(ee.createdAt)}),d(X),y(!1)},Z=>{y(!1)});return()=>Y()},[s,e]);const S=async k=>{const Y=Gg(),Z=zl(k),X=pn(et,"artifacts",e,"public","data","habits",k.id),ee=pn(et,"artifacts",e,"public","data","users",s.uid);try{if(Z){let ae=(k.history||[]).filter(Ie=>Ie!==Y);ae.sort((Ie,Se)=>new Date(Ie)-new Date(Se));const ie=eE(ae,k.frequency),ce=ae.length>0?ae[ae.length-1]:null;await nu(X,{lastCompleted:ce,streak:ie,history:ae,totalCompletions:Pl(-1)}),await Ch(ee,{coins:Pl(-10),uid:s.uid},{merge:!0}),r("Undo successful.","info")}else{const ae=[...k.history||[],Y],ie=eE(ae,k.frequency);await nu(X,{lastCompleted:Y,streak:ie,history:GN(Y),totalCompletions:Pl(1)}),await Ch(ee,{coins:Pl(10),uid:s.uid},{merge:!0}),r(`+10 Coins! Streak: ${ie}`,"success")}}catch(ae){console.error(ae),r("Action failed.","error")}},I=async()=>{if(p)try{await O1(pn(et,"artifacts",e,"public","data","habits",p)),r("Habit deleted.","info")}catch{r("Failed to delete.","error")}finally{E(null)}};return g?A.jsxs("div",{className:"text-center py-20 text-gray-500",children:[A.jsx(hr,{className:"animate-spin inline mr-2"})," Loading habits..."]}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex justify-between items-center px-1",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight font-display",children:"Daily Targets"}),A.jsx("p",{className:"text-gray-400 text-sm",children:"Consistent action creates results."})]}),A.jsx("button",{onClick:()=>n(!0),className:"bg-orange-600 hover:bg-orange-500 text-white p-3 rounded-xl shadow-lg shadow-orange-900/20 transition-all hover:scale-105",children:A.jsx(Ax,{size:20})})]}),A.jsx(qx,{isOpen:!!p,title:"Delete Habit?",message:"This action cannot be undone. You will lose your streak.",onConfirm:I,onCancel:()=>E(null)}),u.length===0?A.jsxs("div",{className:"text-center py-16 bg-white/5 rounded-3xl border border-white/5 border-dashed",children:[A.jsx("div",{className:"bg-gray-800 inline-block p-4 rounded-full mb-4",children:A.jsx(Ox,{size:32,className:"text-gray-500"})}),A.jsx("p",{className:"text-gray-400 mb-6 font-medium",children:"No habits yet. Start small."}),A.jsx("button",{onClick:()=>n(!0),className:"text-orange-400 font-semibold hover:text-orange-300 transition-colors font-display",children:"Create your first habit"})]}):A.jsx("div",{className:"grid gap-4",children:u.map(k=>{const Y=zl(k),Z=k.frequency?.type||"daily";let X="Daily";if(Z==="weekly"&&(X="Weekly"),Z==="monthly"&&(X="Monthly"),Z==="custom"){const ee=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];X=k.frequency.days.map(ae=>ee[parseInt(ae)]).join(", ")}return A.jsx("div",{className:`group relative bg-gray-900 rounded-2xl p-5 border transition-all duration-300 ${Y?"border-green-500/20 bg-green-900/5":"border-gray-800 hover:border-gray-700"}`,children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[A.jsx("div",{className:"flex items-center gap-2 mb-1",children:A.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-500 bg-gray-800 px-2 py-0.5 rounded tracking-wider",children:X})}),A.jsx("h3",{className:`font-bold text-lg truncate font-display ${Y?"text-gray-400 line-through decoration-gray-600":"text-gray-100"}`,children:k.title}),k.description&&A.jsx("p",{className:"text-sm text-gray-500 mt-0.5 line-clamp-1",children:k.description}),A.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[A.jsxs("div",{className:`flex items-center gap-1.5 text-sm font-medium ${k.streak>0?"text-orange-500":"text-gray-600"}`,children:[A.jsx(Hg,{size:16,className:k.streak>0?"fill-current":""}),A.jsx("span",{className:"font-display",children:k.streak||0})]}),A.jsxs("div",{className:"text-xs text-gray-600 font-mono pt-0.5",children:["Total: ",k.totalCompletions||0]})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:ee=>{ee.stopPropagation(),l(k)},className:"w-12 h-12 rounded-xl flex items-center justify-center bg-gray-800 text-gray-500 hover:bg-gray-700 hover:text-white transition-colors",children:A.jsx(L1,{size:20})}),A.jsx("button",{onClick:ee=>{ee.stopPropagation(),E(k.id)},className:"w-12 h-12 rounded-xl flex items-center justify-center bg-gray-800 text-gray-500 hover:bg-red-900/20 hover:text-red-500 transition-colors",children:A.jsx(xx,{size:20})}),A.jsx("button",{onClick:()=>S(k),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all ${Y?"bg-green-500 text-white shadow-lg shadow-green-900/20 hover:bg-green-600":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:Y?A.jsx(kx,{size:20}):A.jsx(U1,{size:24})})]})]})},k.id)})})]})},Qx=({onClose:s,user:e,appId:n,showToast:r,habitToEdit:l})=>{const[u,d]=fe.useState(l?l.title:""),[g,y]=fe.useState(l?l.description:""),[p,E]=fe.useState(l?.frequency?.type||"daily"),[S,I]=fe.useState(l?.frequency?.days||[]),[k,Y]=fe.useState(!1),Z=ee=>{const ae=ee.toString();S.includes(ae)?I(S.filter(ie=>ie!==ae)):I([...S,ae])},X=async ee=>{if(ee.preventDefault(),!u.trim()||k)return;if(p==="custom"&&S.length===0){r("Select at least one day","error");return}Y(!0);const ae={type:p,days:p==="custom"?S:[]};try{if(l){const ie=pn(et,"artifacts",n,"public","data","habits",l.id);await nu(ie,{title:u,description:g,frequency:ae}),r("Habit updated!","success")}else await qg(Cn(et,"artifacts",n,"public","data","habits"),{uid:e.uid,title:u,description:g,frequency:ae,streak:0,lastCompleted:null,history:[],createdAt:new Date().toISOString(),totalCompletions:0}),r("Habit added!","success");s()}catch(ie){console.error(ie),r("Failed to save habit","error")}finally{Y(!1)}};return A.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:A.jsxs("div",{className:"bg-gray-900 rounded-2xl w-full max-w-sm p-6 border border-gray-800 shadow-2xl",children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-4 font-display",children:l?"Edit Habit":"New Habit"}),A.jsxs("form",{onSubmit:X,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wider",children:"Title"}),A.jsx("input",{autoFocus:!0,type:"text",className:"w-full bg-gray-950 border border-gray-700 rounded-xl px-4 py-3 text-white focus:border-orange-500 focus:outline-none placeholder-gray-700",placeholder:"e.g., Read for 15 mins",value:u,onChange:ee=>d(ee.target.value),disabled:k})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wider",children:"Description (Optional)"}),A.jsx("input",{type:"text",className:"w-full bg-gray-950 border border-gray-700 rounded-xl px-4 py-3 text-white focus:border-orange-500 focus:outline-none placeholder-gray-700",placeholder:"e.g., 10 pages of non-fiction",value:g,onChange:ee=>y(ee.target.value),disabled:k})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wider",children:"Frequency"}),A.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:["daily","weekly","monthly","custom"].map(ee=>A.jsx("button",{type:"button",onClick:()=>E(ee),className:`text-xs font-medium py-2 rounded-lg capitalize transition-colors ${p===ee?"bg-orange-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:ee},ee))}),p==="custom"&&A.jsx("div",{className:"flex justify-between gap-1",children:["S","M","T","W","T","F","S"].map((ee,ae)=>A.jsx("button",{type:"button",onClick:()=>Z(ae),className:`w-8 h-8 rounded-full text-xs font-bold transition-all ${S.includes(ae.toString())?"bg-orange-600 text-white":"bg-gray-800 text-gray-500 hover:bg-gray-700"}`,children:ee},ae))})]}),A.jsxs("div",{className:"flex gap-3 pt-2",children:[A.jsx("button",{type:"button",onClick:s,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-white py-2.5 rounded-xl font-medium transition-colors font-display",disabled:k,children:"Cancel"}),A.jsx("button",{type:"submit",className:"flex-1 bg-orange-600 hover:bg-orange-500 text-white py-2.5 rounded-xl font-medium transition-colors flex justify-center items-center font-display tracking-wide",disabled:k,children:k?A.jsx(hr,{className:"animate-spin",size:20}):l?"Save Changes":"Start Tracking"})]})]})]})})},Xx=({user:s,appId:e,showToast:n})=>{const[r,l]=fe.useState([]),[u,d]=fe.useState(!0),[g,y]=fe.useState(null),[p,E]=fe.useState([]);fe.useEffect(()=>{const k=cr(Cn(et,"artifacts",e,"public","data","users")),Y=ls(k,Z=>{const X=Z.docs.map(ee=>ee.data()).filter(ee=>ee.uid!==s.uid);l(X),d(!1)},Z=>{d(!1)});return()=>Y()},[e,s]),fe.useEffect(()=>{let k=()=>{};if(g){E([]);const Y=cr(Cn(et,"artifacts",e,"public","data","habits"),Zh("uid","==",g));k=ls(Y,Z=>{const X=Z.docs.map(ee=>({id:ee.id,...ee.data()}));E(X)})}return()=>k()},[g,e]);const S=k=>{y(g===k?null:k)},I=async(k,Y)=>{k.stopPropagation();try{const Z=pn(et,"artifacts",e,"public","data","users",Y.uid);await nu(Z,{cheers:Pl(1)}),await qg(Cn(et,"artifacts",e,"public","data","users",Y.uid,"notifications"),{type:"cheer",from:s.displayName||"Someone",fromUid:s.uid,timestamp:new Date().toISOString()}),n(`Cheered ${Y.displayName}!`,"success")}catch(Z){console.error(Z),n("Failed to send cheer.","error")}};return u?A.jsxs("div",{className:"text-center py-20 text-gray-500",children:[A.jsx(hr,{className:"animate-spin inline mr-2"})," Finding squad..."]}):A.jsxs("div",{className:"space-y-6",children:[A.jsx("div",{className:"flex justify-between items-center px-1",children:A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight font-display",children:"Squad"}),A.jsx("p",{className:"text-gray-400 text-sm",children:"Tap a friend to see their habits."})]})}),r.length===0?A.jsxs("div",{className:"text-center py-16 bg-white/5 rounded-3xl border border-white/5 border-dashed",children:[A.jsx("div",{className:"bg-gray-800 inline-block p-4 rounded-full mb-4",children:A.jsx(j1,{size:32,className:"text-gray-500"})}),A.jsx("p",{className:"text-gray-500",children:"No one else is here yet."})]}):r.map(k=>A.jsxs("div",{className:"bg-gray-900 rounded-2xl overflow-hidden border border-gray-800 mb-3 transition-colors",children:[A.jsxs("div",{onClick:()=>S(k.uid),className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-800/50",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-tr from-gray-700 to-gray-600 flex items-center justify-center font-bold text-lg text-white shadow-inner font-display",children:k.displayName?k.displayName[0].toUpperCase():"?"}),A.jsxs("div",{children:[A.jsx("div",{className:"font-bold text-white text-base",children:k.displayName}),A.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-3 mt-1 font-medium",children:[A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(Wh,{size:12,className:"text-yellow-500"}),k.coins||0]}),A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(Fg,{size:12,className:"text-pink-500"}),k.cheers||0," cheers"]})]})]})]}),A.jsx("div",{className:"flex items-center gap-2",children:A.jsx("button",{onClick:Y=>I(Y,k),className:"bg-pink-500/10 hover:bg-pink-500/20 text-pink-500 p-2.5 rounded-xl transition-colors active:scale-95 border border-pink-500/20",title:"Send Cheer",children:A.jsx(z1,{size:20,className:k.cheers>0?"fill-current":""})})})]}),g===k.uid&&A.jsxs("div",{className:"px-4 pb-4 pt-0 bg-gray-900 animate-in slide-in-from-top-2",children:[A.jsx("div",{className:"h-px w-full bg-gray-800 mb-3"}),A.jsx("h4",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest mb-2 font-display",children:"Today's Habits"}),p.length===0?A.jsx("p",{className:"text-sm text-gray-600 italic",children:"No public habits found."}):A.jsx("div",{className:"space-y-2",children:p.map(Y=>{const Z=zl(Y);return A.jsxs("div",{className:"flex items-center justify-between bg-gray-950/50 p-2.5 rounded-xl border border-gray-800",children:[A.jsx("span",{className:`text-sm font-medium ${Z?"text-gray-400 line-through":"text-gray-200"}`,children:Y.title}),Z?A.jsx("div",{className:"bg-green-500/10 text-green-500 p-1 rounded-full",children:A.jsx(k1,{size:14,strokeWidth:3})}):A.jsx("div",{className:"bg-gray-800 text-gray-600 p-1 rounded-full",children:A.jsx(mx,{size:14})})]},Y.id)})})]})]},k.uid))]})},$x=({user:s,appId:e,onSelectFriend:n})=>{const[r,l]=fe.useState([]),[u,d]=fe.useState(!0);return fe.useEffect(()=>{const g=cr(Cn(et,"artifacts",e,"public","data","users")),y=ls(g,p=>{const E=p.docs.map(S=>S.data());E.sort((S,I)=>(I.coins||0)-(S.coins||0)),l(E),d(!1)},p=>{d(!1)});return()=>y()},[e]),u?A.jsxs("div",{className:"text-center py-20 text-gray-500",children:[A.jsx(hr,{className:"animate-spin inline mr-2"})," Loading ranks..."]}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"text-center py-6",children:[A.jsxs("div",{className:"relative inline-block mb-3",children:[A.jsx(P1,{size:40,className:"text-yellow-500"}),A.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-yellow-400 rounded-full animate-ping"})]}),A.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight font-display",children:"Leaderboard"}),A.jsx("p",{className:"text-gray-400 text-sm",children:"Top earners this week."})]}),A.jsx("div",{className:"bg-gray-900 rounded-3xl overflow-hidden border border-gray-800 shadow-xl",children:r.length===0?A.jsx("div",{className:"p-8 text-center text-gray-500",children:"No data yet."}):r.map((g,y)=>A.jsxs("div",{onClick:()=>g.uid!==s.uid&&n(g.uid),className:`flex items-center p-4 border-b border-gray-800 last:border-0 ${g.uid===s.uid?"bg-white/5 cursor-default":"cursor-pointer hover:bg-white/5"} transition-colors`,children:[A.jsx("div",{className:`w-8 h-8 flex items-center justify-center rounded-lg font-bold mr-4 text-sm font-display ${y===0?"bg-yellow-500 text-black shadow-lg shadow-yellow-500/20":y===1?"bg-gray-300 text-black":y===2?"bg-amber-700 text-white":"text-gray-600 bg-gray-800"}`,children:y+1}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"font-bold text-white flex items-center gap-2 text-sm",children:[g.displayName,g.uid===s.uid&&A.jsx("span",{className:"text-[10px] bg-orange-600/20 text-orange-400 px-1.5 py-0.5 rounded uppercase tracking-wider font-bold",children:"You"})]}),A.jsxs("div",{className:"text-[10px] text-gray-600 font-medium uppercase tracking-wide mt-0.5",children:["Joined"," ",new Date(g.joinedAt).toLocaleDateString(void 0,{month:"short",year:"2-digit"})]})]}),A.jsxs("div",{className:"font-mono font-bold text-yellow-500 flex items-center gap-1.5 bg-yellow-500/10 px-2 py-1 rounded-lg",children:[g.coins||0," ",A.jsx(Wh,{size:12,className:"fill-current"})]})]},g.uid))})]})};IS.createRoot(document.getElementById("root")).render(A.jsx(fe.StrictMode,{children:A.jsx(Fx,{})}));
