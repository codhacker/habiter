(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Qd={exports:{}},Cl={};var J_;function Wb(){if(J_)return Cl;J_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return Cl.Fragment=t,Cl.jsx=i,Cl.jsxs=i,Cl}var Z_;function tA(){return Z_||(Z_=1,Qd.exports=Wb()),Qd.exports}var D=tA(),Yd={exports:{}},vt={};var W_;function eA(){if(W_)return vt;W_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function H(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,Z={};function tt(V,$,it){this.props=V,this.context=$,this.refs=Z,this.updater=it||q}tt.prototype.isReactComponent={},tt.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},tt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ft(){}ft.prototype=tt.prototype;function ht(V,$,it){this.props=V,this.context=$,this.refs=Z,this.updater=it||q}var Mt=ht.prototype=new ft;Mt.constructor=ht,Q(Mt,tt.prototype),Mt.isPureReactComponent=!0;var Zt=Array.isArray;function kt(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(V,$,it){var at=it.ref;return{$$typeof:r,type:V,key:$,ref:at!==void 0?at:null,props:it}}function M(V,$){return C(V.type,$,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function U(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(it){return $[it]})}var R=/\/+/g;function re(V,$){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):$.toString(36)}function De(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(kt,kt):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,$,it,at,yt){var At=typeof V;(At==="undefined"||At==="boolean")&&(V=null);var Ut=!1;if(V===null)Ut=!0;else switch(At){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(V.$$typeof){case r:case t:Ut=!0;break;case T:return Ut=V._init,K(Ut(V._payload),$,it,at,yt)}}if(Ut)return yt=yt(V),Ut=at===""?"."+re(V,0):at,Zt(yt)?(it="",Ut!=null&&(it=Ut.replace(R,"$&/")+"/"),K(yt,$,it,"",function(hs){return hs})):yt!=null&&(O(yt)&&(yt=M(yt,it+(yt.key==null||V&&V.key===yt.key?"":(""+yt.key).replace(R,"$&/")+"/")+Ut)),$.push(yt)),1;Ut=0;var xe=at===""?".":at+":";if(Zt(V))for(var se=0;se<V.length;se++)at=V[se],At=xe+re(at,se),Ut+=K(at,$,it,At,yt);else if(se=H(V),typeof se=="function")for(V=se.call(V),se=0;!(at=V.next()).done;)at=at.value,At=xe+re(at,se++),Ut+=K(at,$,it,At,yt);else if(At==="object"){if(typeof V.then=="function")return K(De(V),$,it,at,yt);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function nt(V,$,it){if(V==null)return V;var at=[],yt=0;return K(V,at,"","",function(At){return $.call(it,At,yt++)}),at}function dt(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(it){(V._status===0||V._status===-1)&&(V._status=1,V._result=it)},function(it){(V._status===0||V._status===-1)&&(V._status=2,V._result=it)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var Pt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ft={map:nt,forEach:function(V,$,it){nt(V,function(){$.apply(this,arguments)},it)},count:function(V){var $=0;return nt(V,function(){$++}),$},toArray:function(V){return nt(V,function($){return $})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return vt.Activity=A,vt.Children=Ft,vt.Component=tt,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ht,vt.StrictMode=s,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,vt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},vt.cache=function(V){return function(){return V.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(V,$,it){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=Q({},V.props),yt=V.key;if($!=null)for(At in $.key!==void 0&&(yt=""+$.key),$)!S.call($,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&$.ref===void 0||(at[At]=$[At]);var At=arguments.length-2;if(At===1)at.children=it;else if(1<At){for(var Ut=Array(At),xe=0;xe<At;xe++)Ut[xe]=arguments[xe+2];at.children=Ut}return C(V.type,yt,at)},vt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},vt.createElement=function(V,$,it){var at,yt={},At=null;if($!=null)for(at in $.key!==void 0&&(At=""+$.key),$)S.call($,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=$[at]);var Ut=arguments.length-2;if(Ut===1)yt.children=it;else if(1<Ut){for(var xe=Array(Ut),se=0;se<Ut;se++)xe[se]=arguments[se+2];yt.children=xe}if(V&&V.defaultProps)for(at in Ut=V.defaultProps,Ut)yt[at]===void 0&&(yt[at]=Ut[at]);return C(V,At,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(V){return{$$typeof:g,render:V}},vt.isValidElement=O,vt.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:dt}},vt.memo=function(V,$){return{$$typeof:y,type:V,compare:$===void 0?null:$}},vt.startTransition=function(V){var $=N.T,it={};N.T=it;try{var at=V(),yt=N.S;yt!==null&&yt(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(kt,Pt)}catch(At){Pt(At)}finally{$!==null&&it.types!==null&&($.types=it.types),N.T=$}},vt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},vt.use=function(V){return N.H.use(V)},vt.useActionState=function(V,$,it){return N.H.useActionState(V,$,it)},vt.useCallback=function(V,$){return N.H.useCallback(V,$)},vt.useContext=function(V){return N.H.useContext(V)},vt.useDebugValue=function(){},vt.useDeferredValue=function(V,$){return N.H.useDeferredValue(V,$)},vt.useEffect=function(V,$){return N.H.useEffect(V,$)},vt.useEffectEvent=function(V){return N.H.useEffectEvent(V)},vt.useId=function(){return N.H.useId()},vt.useImperativeHandle=function(V,$,it){return N.H.useImperativeHandle(V,$,it)},vt.useInsertionEffect=function(V,$){return N.H.useInsertionEffect(V,$)},vt.useLayoutEffect=function(V,$){return N.H.useLayoutEffect(V,$)},vt.useMemo=function(V,$){return N.H.useMemo(V,$)},vt.useOptimistic=function(V,$){return N.H.useOptimistic(V,$)},vt.useReducer=function(V,$,it){return N.H.useReducer(V,$,it)},vt.useRef=function(V){return N.H.useRef(V)},vt.useState=function(V){return N.H.useState(V)},vt.useSyncExternalStore=function(V,$,it){return N.H.useSyncExternalStore(V,$,it)},vt.useTransition=function(){return N.H.useTransition()},vt.version="19.2.4",vt}var tv;function zm(){return tv||(tv=1,Yd.exports=eA()),Yd.exports}var wt=zm(),Xd={exports:{}},Nl={},$d={exports:{}},Jd={};var ev;function nA(){return ev||(ev=1,(function(r){function t(K,nt){var dt=K.length;K.push(nt);t:for(;0<dt;){var Pt=dt-1>>>1,Ft=K[Pt];if(0<l(Ft,nt))K[Pt]=nt,K[dt]=Ft,dt=Pt;else break t}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var nt=K[0],dt=K.pop();if(dt!==nt){K[0]=dt;t:for(var Pt=0,Ft=K.length,V=Ft>>>1;Pt<V;){var $=2*(Pt+1)-1,it=K[$],at=$+1,yt=K[at];if(0>l(it,dt))at<Ft&&0>l(yt,it)?(K[Pt]=yt,K[at]=dt,Pt=at):(K[Pt]=it,K[$]=dt,Pt=$);else if(at<Ft&&0>l(yt,dt))K[Pt]=yt,K[at]=dt,Pt=at;else break t}}return nt}function l(K,nt){var dt=K.sortIndex-nt.sortIndex;return dt!==0?dt:K.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],T=1,A=null,w=3,H=!1,q=!1,Q=!1,Z=!1,tt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Mt(K){for(var nt=i(y);nt!==null;){if(nt.callback===null)s(y);else if(nt.startTime<=K)s(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function Zt(K){if(Q=!1,Mt(K),!q)if(i(_)!==null)q=!0,kt||(kt=!0,U());else{var nt=i(y);nt!==null&&De(Zt,nt.startTime-K)}}var kt=!1,N=-1,S=5,C=-1;function M(){return Z?!0:!(r.unstable_now()-C<S)}function O(){if(Z=!1,kt){var K=r.unstable_now();C=K;var nt=!0;try{t:{q=!1,Q&&(Q=!1,ft(N),N=-1),H=!0;var dt=w;try{e:{for(Mt(K),A=i(_);A!==null&&!(A.expirationTime>K&&M());){var Pt=A.callback;if(typeof Pt=="function"){A.callback=null,w=A.priorityLevel;var Ft=Pt(A.expirationTime<=K);if(K=r.unstable_now(),typeof Ft=="function"){A.callback=Ft,Mt(K),nt=!0;break e}A===i(_)&&s(_),Mt(K)}else s(_);A=i(_)}if(A!==null)nt=!0;else{var V=i(y);V!==null&&De(Zt,V.startTime-K),nt=!1}}break t}finally{A=null,w=dt,H=!1}nt=void 0}}finally{nt?U():kt=!1}}}var U;if(typeof ht=="function")U=function(){ht(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,re=R.port2;R.port1.onmessage=O,U=function(){re.postMessage(null)}}else U=function(){tt(O,0)};function De(K,nt){N=tt(function(){K(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var nt=3;break;default:nt=w}var dt=w;w=nt;try{return K()}finally{w=dt}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(K,nt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var dt=w;w=K;try{return nt()}finally{w=dt}},r.unstable_scheduleCallback=function(K,nt,dt){var Pt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Pt+dt:Pt):dt=Pt,K){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=dt+Ft,K={id:T++,callback:nt,priorityLevel:K,startTime:dt,expirationTime:Ft,sortIndex:-1},dt>Pt?(K.sortIndex=dt,t(y,K),i(_)===null&&K===i(y)&&(Q?(ft(N),N=-1):Q=!0,De(Zt,dt-Pt))):(K.sortIndex=Ft,t(_,K),q||H||(q=!0,kt||(kt=!0,U()))),K},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(K){var nt=w;return function(){var dt=w;w=nt;try{return K.apply(this,arguments)}finally{w=dt}}}})(Jd)),Jd}var nv;function iA(){return nv||(nv=1,$d.exports=nA()),$d.exports}var Zd={exports:{}},Xe={};var iv;function rA(){if(iv)return Xe;iv=1;var r=zm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,T)},Xe.flushSync=function(_){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=T,s.d.f()}},Xe.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},Xe.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Xe.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,A=g(T,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:H}):T==="script"&&s.d.X(_,{crossOrigin:A,integrity:w,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},Xe.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=g(T,y.crossOrigin);s.d.L(_,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},Xe.requestFormReset=function(_){s.d.r(_)},Xe.unstable_batchedUpdates=function(_,y){return _(y)},Xe.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.4",Xe}var rv;function sA(){if(rv)return Zd.exports;rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Zd.exports=rA(),Zd.exports}var sv;function aA(){if(sv)return Nl;sv=1;var r=iA(),t=zm(),i=sA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case tt:return"Profiler";case Z:return"StrictMode";case Zt:return"Suspense";case kt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case ht:return e.displayName||"Context";case ft:return(e._context.displayName||"Context")+".Consumer";case Mt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}var De=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Pt=[],Ft=-1;function V(e){return{current:e}}function $(e){0>Ft||(e.current=Pt[Ft],Pt[Ft]=null,Ft--)}function it(e,n){Ft++,Pt[Ft]=e.current,e.current=n}var at=V(null),yt=V(null),At=V(null),Ut=V(null);function xe(e,n){switch(it(At,n),it(yt,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?E_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=E_(n),e=T_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(at),it(at,e)}function se(){$(at),$(yt),$(At)}function hs(e){e.memoizedState!==null&&it(Ut,e);var n=at.current,a=T_(n,e.type);n!==a&&(it(yt,e),it(at,a))}function Ws(e){yt.current===e&&($(at),$(yt)),Ut.current===e&&($(Ut),Sl._currentValue=dt)}var ta,ea;function si(e){if(ta===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ta=n&&n[1]||"",ea=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+e+ea}var So=!1;function fs(e,n){if(!e||So)return"";So=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var j=F}Reflect.construct(e,[],X)}else{try{X.call()}catch(F){j=F}e.call(X.prototype)}}else{try{throw Error()}catch(F){j=F}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{So=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?si(a):""}function wo(e,n){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==n&&n!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return fs(e.type,!1);case 11:return fs(e.type.render,!1);case 1:return fs(e.type,!0);case 31:return si("Activity");default:return""}}function Ro(e){try{var n="",a=null;do n+=wo(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,cr=r.unstable_cancelCallback,Yh=r.unstable_shouldYield,hu=r.unstable_requestPaint,en=r.unstable_now,ds=r.unstable_getCurrentPriorityLevel,Io=r.unstable_ImmediatePriority,Co=r.unstable_UserBlockingPriority,hr=r.unstable_NormalPriority,Xh=r.unstable_LowPriority,fu=r.unstable_IdlePriority,du=r.log,mu=r.unstable_setDisableYieldValue,Bn=null,je=null;function wn(e){if(typeof du=="function"&&mu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Bn,e)}catch{}}var fe=Math.clz32?Math.clz32:pu,gu=Math.log,na=Math.LN2;function pu(e){return e>>>=0,e===0?32:31-(gu(e)/na|0)|0}var ai=256,ms=262144,_e=4194304;function oi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=oi(o):(p&=E,p!==0?h=oi(p):a||(a=E&~e,a!==0&&(h=oi(a))))):(E=o&~f,E!==0?h=oi(E):p!==0?h=oi(p):a||(a=o&~e,a!==0&&(h=oi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function $h(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ui(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function gs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jh(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=p&~a;0<a;){var G=31-fe(a),X=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var F=j[G];F!==null&&(F.lane&=-536870913)}a&=~X}o!==0&&ps(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ps(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function No(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Do(e,n){var a=n&-n;return a=(a&42)!==0?1:ys(a),(a&(e.suspendedLanes|n))!==0?0:a}function ys(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _u(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:F_(e.type))}function Hn(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var Fn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Fn,ke="__reactProps$"+Fn,ci="__reactContainer$"+Fn,ia="__reactEvents$"+Fn,Zh="__reactListeners$"+Fn,vu="__reactHandles$"+Fn,Eu="__reactResources$"+Fn,hi="__reactMarker$"+Fn;function ra(e){delete e[ve],delete e[ke],delete e[ia],delete e[Zh],delete e[vu]}function fi(e){var n=e[ve];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ci]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=C_(e);e!==null;){if(a=e[ve])return a;e=C_(e)}return n}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[ve]||e[ci]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function di(e){var n=e[Eu];return n||(n=e[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[hi]=!0}var xo=new Set,Oo={};function mi(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(Oo[e]=n,e=0;e<n.length;e++)xo.add(n[e])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},ko={};function Tu(e){return ye.call(ko,e)?!0:ye.call(Mo,e)?!1:Vo.test(e)?ko[e]=!0:(Mo[e]=!0,!1)}function sa(e,n,a){if(Tu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function pn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Te(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Uo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=fr(e)?"checked":"value";e._valueTracker=Uo(e,n,""+e[n])}}function _s(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=fr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vs=/[\n"\\]/g;function sn(e){return e.replace(vs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function aa(e,n,a,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Lo(e,p,Ue(n)):a!=null?Lo(e,p,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function bu(e,n,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}a=a!=null?""+Ue(a):"",n=n!=null?""+Ue(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Gt(e)}function Lo(e,n,a){n==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function dr(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Au(e,n,a){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ue(a):""}function mr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(De(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ue(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Gt(e)}function an(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Su.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function zo(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Po(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Po(e,f,n[f])}function oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return gr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var jo=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pr=null,yi=null;function Es(e){var n=Rn(e);if(n&&(e=n.stateNode)){var a=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(aa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(s(90));aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&_s(o)}break t;case"textarea":Au(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&dr(e,!!a.multiple,n,!1)}}}var ua=!1;function yr(e,n,a){if(ua)return e(n,a);ua=!0;try{var o=e(n);return o}finally{if(ua=!1,(pr!==null||yi!==null)&&(_c(),pr&&(n=pr,e=yi,yi=pr=null,Es(n),e)))for(n=0;n<e.length;n++)Es(e[n])}}function Kn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(Cn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{Ts=!1}var _i=null,Bo=null,bs=null;function qo(){if(bs)return bs;var e,n=Bo,a=n.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return bs=h.slice(e,1<o?1-o:void 0)}function As(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function Qn(){return!1}function Be(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ui:Qn,this.isPropagationStopped=Qn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),n}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Be(Li),_r=A({},Li,{view:0,detail:0}),Ho=Be(_r),vr,ca,Ei,ha=A({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(vr=e.screenX-Ei.screenX,ca=e.screenY-Ei.screenY):ca=vr=0,Ei=e),vr)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),Fo=Be(ha),Ss=A({},ha,{dataTransfer:0}),Ru=Be(Ss),Iu=A({},_r,{relatedTarget:0}),ws=Be(Iu),Go=A({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=Be(Go),fa=A({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nu=Be(fa),Du=A({},Li,{data:0}),Ti=Be(Du),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Vu[e])?!!n[e]:!1}function Er(){return Mu}var nn=A({},_r,{key:function(e){if(e.key){var n=xu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ou[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ku=Be(nn),Uu=A({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Be(Uu),u=A({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),m=Be(u),v=A({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Be(v),L=A({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(L),et=A({},Li,{newState:0,oldState:0}),Tt=Be(et),de=[9,13,27,32],Bt=Cn&&"CompositionEvent"in window,ae=null;Cn&&"documentMode"in document&&(ae=document.documentMode);var Nn=Cn&&"TextEvent"in window&&!ae,bi=Cn&&(!Bt||ae&&8<ae&&11>=ae),Yn=" ",Xn=!1;function Rs(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function A1(e,n){switch(e){case"compositionend":return da(n);case"keypress":return n.which!==32?null:(Xn=!0,Yn);case"textInput":return e=n.data,e===Yn&&Xn?null:e;default:return null}}function S1(e,n){if(ma)return e==="compositionend"||!Bt&&Rs(e,n)?(e=qo(),bs=Bo=_i=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var w1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!w1[e.type]:n==="textarea"}function Og(e,n,a,o){pr?yi?yi.push(o):yi=[o]:pr=o,n=wc(n,"onChange"),0<n.length&&(a=new vi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Ko=null,Qo=null;function R1(e){m_(e,0)}function Lu(e){var n=gn(e);if(_s(n))return e}function Vg(e,n){if(e==="change")return n}var Mg=!1;if(Cn){var Wh;if(Cn){var tf="oninput"in document;if(!tf){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),tf=typeof kg.oninput=="function"}Wh=tf}else Wh=!1;Mg=Wh&&(!document.documentMode||9<document.documentMode)}function Ug(){Ko&&(Ko.detachEvent("onpropertychange",Lg),Qo=Ko=null)}function Lg(e){if(e.propertyName==="value"&&Lu(Qo)){var n=[];Og(n,Qo,e,In(e)),yr(R1,n)}}function I1(e,n,a){e==="focusin"?(Ug(),Ko=n,Qo=a,Ko.attachEvent("onpropertychange",Lg)):e==="focusout"&&Ug()}function C1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lu(Qo)}function N1(e,n){if(e==="click")return Lu(n)}function D1(e,n){if(e==="input"||e==="change")return Lu(n)}function x1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:x1;function Yo(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(n,h)||!yn(e[h],n[h]))return!1}return!0}function Pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zg(e,n){var a=Pg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Pg(a)}}function jg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=pi(e.document)}return n}function ef(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var O1=Cn&&"documentMode"in document&&11>=document.documentMode,ga=null,nf=null,Xo=null,rf=!1;function qg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rf||ga==null||ga!==pi(o)||(o=ga,"selectionStart"in o&&ef(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xo&&Yo(Xo,o)||(Xo=o,o=wc(nf,"onSelect"),0<o.length&&(n=new vi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ga)))}function Is(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var pa={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},sf={},Hg={};Cn&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Cs(e){if(sf[e])return sf[e];if(!pa[e])return e;var n=pa[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Hg)return sf[e]=n[a];return e}var Fg=Cs("animationend"),Gg=Cs("animationiteration"),Kg=Cs("animationstart"),V1=Cs("transitionrun"),M1=Cs("transitionstart"),k1=Cs("transitioncancel"),Qg=Cs("transitionend"),Yg=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function $n(e,n){Yg.set(e,n),mi(n,[e])}var Pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],ya=0,of=0;function zu(){for(var e=ya,n=of=ya=0;n<e;){var a=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Xg(a,h,f)}}function ju(e,n,a,o){Dn[ya++]=e,Dn[ya++]=n,Dn[ya++]=a,Dn[ya++]=o,of|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function lf(e,n,a,o){return ju(e,n,a,o),Bu(e)}function Ns(e,n){return ju(e,null,null,n),Bu(e)}function Xg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Bu(e){if(50<yl)throw yl=0,yd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _a={};function U1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,a,o){return new U1(e,n,a,o)}function uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,n){var a=e.alternate;return a===null?(a=_n(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $g(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function qu(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")uf(e)&&(p=1);else if(typeof e=="string")p=Bb(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=_n(31,a,n,h),e.elementType=C,e.lanes=f,e;case Q:return Ds(a.children,h,f,n);case Z:p=8,h|=24;break;case tt:return e=_n(12,a,n,h|2),e.elementType=tt,e.lanes=f,e;case Zt:return e=_n(13,a,n,h),e.elementType=Zt,e.lanes=f,e;case kt:return e=_n(19,a,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:p=10;break t;case ft:p=9;break t;case Mt:p=11;break t;case N:p=14;break t;case S:p=16,o=null;break t}p=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=_n(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ds(e,n,a,o){return e=_n(7,e,o,n),e.lanes=a,e}function cf(e,n,a){return e=_n(6,e,null,n),e.lanes=a,e}function Jg(e){var n=_n(18,null,null,0);return n.stateNode=e,n}function hf(e,n,a){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Zg=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var a=Zg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ro(n)},Zg.set(e,n),n)}return{value:e,source:n,stack:Ro(n)}}var va=[],Ea=0,Hu=null,$o=0,On=[],Vn=0,Tr=null,Ai=1,Si="";function ji(e,n){va[Ea++]=$o,va[Ea++]=Hu,Hu=e,$o=n}function Wg(e,n,a){On[Vn++]=Ai,On[Vn++]=Si,On[Vn++]=Tr,Tr=e;var o=Ai;e=Si;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ai=1<<32-fe(n)+h|a<<h|o,Si=f+e}else Ai=1<<f|a<<h|o,Si=e}function ff(e){e.return!==null&&(ji(e,1),Wg(e,1,0))}function df(e){for(;e===Hu;)Hu=va[--Ea],va[Ea]=null,$o=va[--Ea],va[Ea]=null;for(;e===Tr;)Tr=On[--Vn],On[Vn]=null,Si=On[--Vn],On[Vn]=null,Ai=On[--Vn],On[Vn]=null}function tp(e,n){On[Vn++]=Ai,On[Vn++]=Si,On[Vn++]=Tr,Ai=n.id,Si=n.overflow,Tr=e}var qe=null,ee=null,Vt=!1,br=null,Mn=!1,mf=Error(s(519));function Ar(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(xn(n,e)),mf}function ep(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ve]=e,n[ke]=o,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<vl.length;a++)It(vl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),bu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),mr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||__(n.textContent,a)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||Ar(e,!0)}function np(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qe=qe.return}}function Ta(e){if(e!==qe)return!1;if(!Vt)return np(e),Vt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Od(e.type,e.memoizedProps)),a=!a),a&&ee&&Ar(e),np(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=I_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=I_(e)}else n===27?(n=ee,Lr(e.type)?(e=Ld,Ld=null,ee=e):ee=n):ee=qe?Un(e.stateNode.nextSibling):null;return!0}function xs(){ee=qe=null,Vt=!1}function gf(){var e=br;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),br=null),e}function Jo(e){br===null?br=[e]:br.push(e)}var pf=V(null),Os=null,Bi=null;function Sr(e,n,a){it(pf,n._currentValue),n._currentValue=a}function qi(e){e._currentValue=pf.current,$(pf)}function yf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function _f(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),yf(f.return,a,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),yf(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ba(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=h.type;yn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Sl):e=[Sl])}h=h.return}e!==null&&_f(n,e,a,o),n.flags|=262144}function Fu(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vs(e){Os=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return ip(Os,e)}function Gu(e,n){return Os===null&&Vs(e),ip(e,n)}function ip(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Bi===null){if(e===null)throw Error(s(308));Bi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Bi=Bi.next=n;return a}var L1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},P1=r.unstable_scheduleCallback,z1=r.unstable_NormalPriority,be={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new L1,data:new Map,refCount:0}}function Zo(e){e.refCount--,e.refCount===0&&P1(z1,function(){e.controller.abort()})}var Wo=null,Ef=0,Aa=0,Sa=null;function j1(e,n){if(Wo===null){var a=Wo=[];Ef=0,Aa=Ad(),Sa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Ef++,n.then(rp,rp),n}function rp(){if(--Ef===0&&Wo!==null){Sa!==null&&(Sa.status="fulfilled");var e=Wo;Wo=null,Aa=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function B1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var sp=K.S;K.S=function(e,n){qy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&j1(e,n),sp!==null&&sp(e,n)};var Ms=V(null);function Tf(){var e=Ms.current;return e!==null?e:Wt.pooledCache}function Ku(e,n){n===null?it(Ms,Ms.current):it(Ms,n.pool)}function ap(){var e=Tf();return e===null?null:{parent:be._currentValue,pool:e}}var wa=Error(s(460)),bf=Error(s(474)),Qu=Error(s(542)),Yu={then:function(){}};function op(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Gn,Gn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cp(e),e;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cp(e),e}throw Us=n,wa}}function ks(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Us=a,wa):a}}var Us=null;function up(){if(Us===null)throw Error(s(459));var e=Us;return Us=null,e}function cp(e){if(e===wa||e===Qu)throw Error(s(483))}var Ra=null,tl=0;function Xu(e){var n=tl;return tl+=1,Ra===null&&(Ra=[]),lp(Ra,e,n)}function el(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function $u(e,n){throw n.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function hp(e){function n(k,x){if(e){var P=k.deletions;P===null?(k.deletions=[x],k.flags|=16):P.push(x)}}function a(k,x){if(!e)return null;for(;x!==null;)n(k,x),x=x.sibling;return null}function o(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=zi(k,x),k.index=0,k.sibling=null,k}function f(k,x,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<x?(k.flags|=67108866,x):P):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,x,P,Y){return x===null||x.tag!==6?(x=cf(P,k.mode,Y),x.return=k,x):(x=h(x,P),x.return=k,x)}function I(k,x,P,Y){var ut=P.type;return ut===Q?G(k,x,P.props.children,Y,P.key):x!==null&&(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&ks(ut)===x.type)?(x=h(x,P.props),el(x,P),x.return=k,x):(x=qu(P.type,P.key,P.props,null,k.mode,Y),el(x,P),x.return=k,x)}function z(k,x,P,Y){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=hf(P,k.mode,Y),x.return=k,x):(x=h(x,P.children||[]),x.return=k,x)}function G(k,x,P,Y,ut){return x===null||x.tag!==7?(x=Ds(P,k.mode,Y,ut),x.return=k,x):(x=h(x,P),x.return=k,x)}function X(k,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=cf(""+x,k.mode,P),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case H:return P=qu(x.type,x.key,x.props,null,k.mode,P),el(P,x),P.return=k,P;case q:return x=hf(x,k.mode,P),x.return=k,x;case S:return x=ks(x),X(k,x,P)}if(De(x)||U(x))return x=Ds(x,k.mode,P,null),x.return=k,x;if(typeof x.then=="function")return X(k,Xu(x),P);if(x.$$typeof===ht)return X(k,Gu(k,x),P);$u(k,x)}return null}function j(k,x,P,Y){var ut=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(k,x,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ut?I(k,x,P,Y):null;case q:return P.key===ut?z(k,x,P,Y):null;case S:return P=ks(P),j(k,x,P,Y)}if(De(P)||U(P))return ut!==null?null:G(k,x,P,Y,null);if(typeof P.then=="function")return j(k,x,Xu(P),Y);if(P.$$typeof===ht)return j(k,x,Gu(k,P),Y);$u(k,P)}return null}function F(k,x,P,Y,ut){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(x,k,""+Y,ut);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return k=k.get(Y.key===null?P:Y.key)||null,I(x,k,Y,ut);case q:return k=k.get(Y.key===null?P:Y.key)||null,z(x,k,Y,ut);case S:return Y=ks(Y),F(k,x,P,Y,ut)}if(De(Y)||U(Y))return k=k.get(P)||null,G(x,k,Y,ut,null);if(typeof Y.then=="function")return F(k,x,P,Xu(Y),ut);if(Y.$$typeof===ht)return F(k,x,P,Gu(x,Y),ut);$u(x,Y)}return null}function ot(k,x,P,Y){for(var ut=null,zt=null,lt=x,St=x=0,Nt=null;lt!==null&&St<P.length;St++){lt.index>St?(Nt=lt,lt=null):Nt=lt.sibling;var jt=j(k,lt,P[St],Y);if(jt===null){lt===null&&(lt=Nt);break}e&&lt&&jt.alternate===null&&n(k,lt),x=f(jt,x,St),zt===null?ut=jt:zt.sibling=jt,zt=jt,lt=Nt}if(St===P.length)return a(k,lt),Vt&&ji(k,St),ut;if(lt===null){for(;St<P.length;St++)lt=X(k,P[St],Y),lt!==null&&(x=f(lt,x,St),zt===null?ut=lt:zt.sibling=lt,zt=lt);return Vt&&ji(k,St),ut}for(lt=o(lt);St<P.length;St++)Nt=F(lt,k,St,P[St],Y),Nt!==null&&(e&&Nt.alternate!==null&&lt.delete(Nt.key===null?St:Nt.key),x=f(Nt,x,St),zt===null?ut=Nt:zt.sibling=Nt,zt=Nt);return e&&lt.forEach(function(qr){return n(k,qr)}),Vt&&ji(k,St),ut}function mt(k,x,P,Y){if(P==null)throw Error(s(151));for(var ut=null,zt=null,lt=x,St=x=0,Nt=null,jt=P.next();lt!==null&&!jt.done;St++,jt=P.next()){lt.index>St?(Nt=lt,lt=null):Nt=lt.sibling;var qr=j(k,lt,jt.value,Y);if(qr===null){lt===null&&(lt=Nt);break}e&&lt&&qr.alternate===null&&n(k,lt),x=f(qr,x,St),zt===null?ut=qr:zt.sibling=qr,zt=qr,lt=Nt}if(jt.done)return a(k,lt),Vt&&ji(k,St),ut;if(lt===null){for(;!jt.done;St++,jt=P.next())jt=X(k,jt.value,Y),jt!==null&&(x=f(jt,x,St),zt===null?ut=jt:zt.sibling=jt,zt=jt);return Vt&&ji(k,St),ut}for(lt=o(lt);!jt.done;St++,jt=P.next())jt=F(lt,k,St,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?St:jt.key),x=f(jt,x,St),zt===null?ut=jt:zt.sibling=jt,zt=jt);return e&&lt.forEach(function(Zb){return n(k,Zb)}),Vt&&ji(k,St),ut}function Jt(k,x,P,Y){if(typeof P=="object"&&P!==null&&P.type===Q&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var ut=P.key;x!==null;){if(x.key===ut){if(ut=P.type,ut===Q){if(x.tag===7){a(k,x.sibling),Y=h(x,P.props.children),Y.return=k,k=Y;break t}}else if(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&ks(ut)===x.type){a(k,x.sibling),Y=h(x,P.props),el(Y,P),Y.return=k,k=Y;break t}a(k,x);break}else n(k,x);x=x.sibling}P.type===Q?(Y=Ds(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=qu(P.type,P.key,P.props,null,k.mode,Y),el(Y,P),Y.return=k,k=Y)}return p(k);case q:t:{for(ut=P.key;x!==null;){if(x.key===ut)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){a(k,x.sibling),Y=h(x,P.children||[]),Y.return=k,k=Y;break t}else{a(k,x);break}else n(k,x);x=x.sibling}Y=hf(P,k.mode,Y),Y.return=k,k=Y}return p(k);case S:return P=ks(P),Jt(k,x,P,Y)}if(De(P))return ot(k,x,P,Y);if(U(P)){if(ut=U(P),typeof ut!="function")throw Error(s(150));return P=ut.call(P),mt(k,x,P,Y)}if(typeof P.then=="function")return Jt(k,x,Xu(P),Y);if(P.$$typeof===ht)return Jt(k,x,Gu(k,P),Y);$u(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(a(k,x.sibling),Y=h(x,P),Y.return=k,k=Y):(a(k,x),Y=cf(P,k.mode,Y),Y.return=k,k=Y),p(k)):a(k,x)}return function(k,x,P,Y){try{tl=0;var ut=Jt(k,x,P,Y);return Ra=null,ut}catch(lt){if(lt===wa||lt===Qu)throw lt;var zt=_n(29,lt,null,k.mode);return zt.lanes=Y,zt.return=k,zt}}}var Ls=hp(!0),fp=hp(!1),wr=!1;function Af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Bu(e),Xg(e,null,a),n}return ju(e,o,n,a),Bu(e)}function nl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,No(e,a)}}function wf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Rf=!1;function il(){if(Rf){var e=Sa;if(e!==null)throw e}}function rl(e,n,a,o){Rf=!1;var h=e.updateQueue;wr=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;p=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,F=j!==E.lane;if(F?(Ct&j)===j:(o&j)===j){j!==0&&j===Aa&&(Rf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,mt=E;j=n;var Jt=a;switch(mt.tag){case 1:if(ot=mt.payload,typeof ot=="function"){X=ot.call(Jt,X,j);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=mt.payload,j=typeof ot=="function"?ot.call(Jt,X,j):ot,j==null)break t;X=A({},X,j);break t;case 2:wr=!0}}j=E.callback,j!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=F,I=X):G=G.next=F,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Or|=p,e.lanes=p,e.memoizedState=X}}function dp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function mp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)dp(a[e],n)}var Ia=V(null),Ju=V(0);function gp(e,n){e=Ji,it(Ju,e),it(Ia,n),Ji=e|n.baseLanes}function If(){it(Ju,Ji),it(Ia,Ia.current)}function Cf(){Ji=Ju.current,$(Ia),$(Ju)}var vn=V(null),kn=null;function Cr(e){var n=e.alternate;it(me,me.current&1),it(vn,e),kn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(kn=e)}function Nf(e){it(me,me.current),it(vn,e),kn===null&&(kn=e)}function pp(e){e.tag===22?(it(me,me.current),it(vn,e),kn===null&&(kn=e)):Nr()}function Nr(){it(me,me.current),it(vn,vn.current)}function En(e){$(vn),kn===e&&(kn=null),$(me)}var me=V(0);function Zu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Ud(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hi=0,bt=null,Xt=null,Ae=null,Wu=!1,Ca=!1,Ps=!1,tc=0,sl=0,Na=null,q1=0;function ue(){throw Error(s(321))}function Df(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!yn(e[a],n[a]))return!1;return!0}function xf(e,n,a,o,h,f){return Hi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=e===null||e.memoizedState===null?Wp:Kf,Ps=!1,f=a(o,h),Ps=!1,Ca&&(f=_p(n,a,o,h)),yp(e),f}function yp(e){K.H=ll;var n=Xt!==null&&Xt.next!==null;if(Hi=0,Ae=Xt=bt=null,Wu=!1,sl=0,Na=null,n)throw Error(s(300));e===null||Se||(e=e.dependencies,e!==null&&Fu(e)&&(Se=!0))}function _p(e,n,a,o){bt=e;var h=0;do{if(Ca&&(Na=null),sl=0,Ca=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=ty,f=n(a,o)}while(Ca);return f}function H1(){var e=K.H,n=e.useState()[0];return n=typeof n.then=="function"?al(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(bt.flags|=1024),n}function Of(){var e=tc!==0;return tc=0,e}function Vf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Mf(e){if(Wu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Wu=!1}Hi=0,Ae=Xt=bt=null,Ca=!1,sl=tc=0,Na=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if(Xt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Ae===null?bt.memoizedState:Ae.next;if(n!==null)Ae=n,Xt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var n=sl;return sl+=1,Na===null&&(Na=[]),e=lp(Na,e,n),n=bt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Wp:Kf),e}function nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===ht)return He(e)}throw Error(s(438,String(e)))}function kf(e){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ec(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function Fi(e,n){return typeof n=="function"?n(e):n}function ic(e){var n=ge();return Uf(n,Xt,e)}function Uf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ct&X)===X:(Hi&X)===X){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Aa&&(G=!0);else if((Hi&j)===j){z=z.next,j===Aa&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,p=f):I=I.next=X,bt.lanes|=j,Or|=j;X=z.action,Ps&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,p=f):I=I.next=j,bt.lanes|=X,Or|=X;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=E,!yn(f,e.memoizedState)&&(Se=!0,G&&(a=Sa,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Lf(e){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);yn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function vp(e,n,a){var o=bt,h=ge(),f=Vt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var p=!yn((Xt||h).memoizedState,a);if(p&&(h.memoizedState=a,Se=!0),h=h.queue,jf(bp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Da(9,{destroy:void 0},Tp.bind(null,o,h,a,n),null),Wt===null)throw Error(s(349));f||(Hi&127)!==0||Ep(o,n,a)}return a}function Ep(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=ec(),bt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Tp(e,n,a,o){n.value=a,n.getSnapshot=o,Ap(n)&&Sp(e)}function bp(e,n,a){return a(function(){Ap(n)&&Sp(e)})}function Ap(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!yn(e,a)}catch{return!0}}function Sp(e){var n=Ns(e,2);n!==null&&hn(n,e,2)}function Pf(e){var n=rn();if(typeof e=="function"){var a=e;if(e=a(),Ps){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:e},n}function wp(e,n,a,o){return e.baseState=a,Uf(e,Xt,typeof o=="function"?o:Fi)}function F1(e,n,a,o,h){if(ac(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};K.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Rp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Rp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=K.T,p={};K.T=p;try{var E=a(h,o),I=K.S;I!==null&&I(p,E),Ip(e,n,E)}catch(z){zf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),K.T=f}}else try{f=a(h,o),Ip(e,n,f)}catch(z){zf(e,n,z)}}function Ip(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Cp(e,n,o)},function(o){return zf(e,n,o)}):Cp(e,n,a)}function Cp(e,n,a){n.status="fulfilled",n.value=a,Np(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Rp(e,a)))}function zf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Np(n),n=n.next;while(n!==o)}e.action=null}function Np(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Dp(e,n){return n}function xp(e,n){if(Vt){var a=Wt.formState;if(a!==null){t:{var o=bt;if(Vt){if(ee){e:{for(var h=ee,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Un(h.nextSibling),o=h.data==="F!";break t}}Ar(o)}o=!1}o&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dp,lastRenderedState:n},a.queue=o,a=$p.bind(null,bt,o),o.dispatch=a,o=Pf(!1),f=Gf.bind(null,bt,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=F1.bind(null,bt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Op(e){var n=ge();return Vp(n,Xt,e)}function Vp(e,n,a){if(n=Uf(e,n,Dp)[0],e=ic(Fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=al(n)}catch(p){throw p===wa?Qu:p}else o=n;n=ge();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,Da(9,{destroy:void 0},G1.bind(null,h,a),null)),[o,f,e]}function G1(e,n){e.action=n}function Mp(e){var n=ge(),a=Xt;if(a!==null)return Vp(n,a,e);ge(),n=n.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Da(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=ec(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function kp(){return ge().memoizedState}function rc(e,n,a,o){var h=rn();bt.flags|=e,h.memoizedState=Da(1|n,{destroy:void 0},a,o===void 0?null:o)}function sc(e,n,a,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&Df(o,Xt.memoizedState.deps)?h.memoizedState=Da(n,f,a,o):(bt.flags|=e,h.memoizedState=Da(1|n,f,a,o))}function Up(e,n){rc(8390656,8,e,n)}function jf(e,n){sc(2048,8,e,n)}function K1(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=ec(),bt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Lp(e){var n=ge().memoizedState;return K1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Pp(e,n){return sc(4,2,e,n)}function zp(e,n){return sc(4,4,e,n)}function jp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bp(e,n,a){a=a!=null?a.concat([e]):null,sc(4,4,jp.bind(null,n,e),a)}function Bf(){}function qp(e,n){var a=ge();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Df(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Hp(e,n){var a=ge();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Df(n,o[1]))return o[0];if(o=e(),Ps){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o}function qf(e,n,a){return a===void 0||(Hi&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Fy(),bt.lanes|=e,Or|=e,a)}function Fp(e,n,a,o){return yn(a,n)?a:Ia.current!==null?(e=qf(e,a,o),yn(e,n)||(Se=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(Ct&261930)===0?(Se=!0,e.memoizedState=a):(e=Fy(),bt.lanes|=e,Or|=e,n)}function Gp(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=K.T,E={};K.T=E,Gf(e,!1,n,a);try{var I=h(),z=K.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=B1(I,o);ol(e,n,G,An(e))}else ol(e,n,o,An(e))}catch(X){ol(e,n,{then:function(){},status:"rejected",reason:X},An())}finally{nt.p=f,p!==null&&E.types!==null&&(p.types=E.types),K.T=p}}function Q1(){}function Hf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=Kp(e).queue;Gp(e,h,n,dt,a===null?Q1:function(){return Qp(e),a(o)})}function Kp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Qp(e){var n=Kp(e);n.next===null&&(n=e.alternate.memoizedState),ol(e,n.next.queue,{},An())}function Ff(){return He(Sl)}function Yp(){return ge().memoizedState}function Xp(){return ge().memoizedState}function Y1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=An();e=Rr(a);var o=Ir(n,e,a);o!==null&&(hn(o,n,a),nl(o,n,a)),n={cache:vf()},e.payload=n;return}n=n.return}}function X1(e,n,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(e)?Jp(n,a):(a=lf(e,n,a,o),a!==null&&(hn(a,e,o),Zp(a,n,o)))}function $p(e,n,a){var o=An();ol(e,n,a,o)}function ol(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(e))Jp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,yn(E,p))return ju(e,n,h,0),Wt===null&&zu(),!1}catch{}if(a=lf(e,n,h,o),a!==null)return hn(a,e,o),Zp(a,n,o),!0}return!1}function Gf(e,n,a,o){if(o={lane:2,revertLane:Ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ac(e)){if(n)throw Error(s(479))}else n=lf(e,a,o,2),n!==null&&hn(n,e,2)}function ac(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Jp(e,n){Ca=Wu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Zp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,No(e,a)}}var ll={readContext:He,use:nc,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};ll.useEffectEvent=ue;var Wp={readContext:He,use:nc,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Up,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,rc(4194308,4,jp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return rc(4194308,4,e,n)},useInsertionEffect:function(e,n){rc(4,2,e,n)},useMemo:function(e,n){var a=rn();n=n===void 0?null:n;var o=e();if(Ps){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=rn();if(a!==void 0){var h=a(n);if(Ps){wn(!0);try{a(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=X1.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=Pf(e);var n=e.queue,a=$p.bind(null,bt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(e,n){var a=rn();return qf(a,e,n)},useTransition:function(){var e=Pf(!1);return e=Gp.bind(null,bt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=bt,h=rn();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Ct&127)!==0||Ep(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Up(bp.bind(null,o,f,e),[e]),o.flags|=2048,Da(9,{destroy:void 0},Tp.bind(null,o,f,a,n),null),a},useId:function(){var e=rn(),n=Wt.identifierPrefix;if(Vt){var a=Si,o=Ai;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=tc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=q1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ff,useFormState:xp,useActionState:xp,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Gf.bind(null,bt,!0,a),a.dispatch=n,[e,n]},useMemoCache:kf,useCacheRefresh:function(){return rn().memoizedState=Y1.bind(null,bt)},useEffectEvent:function(e){var n=rn(),a={impl:e};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:He,use:nc,useCallback:qp,useContext:He,useEffect:jf,useImperativeHandle:Bp,useInsertionEffect:Pp,useLayoutEffect:zp,useMemo:Hp,useReducer:ic,useRef:kp,useState:function(){return ic(Fi)},useDebugValue:Bf,useDeferredValue:function(e,n){var a=ge();return Fp(a,Xt.memoizedState,e,n)},useTransition:function(){var e=ic(Fi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:al(e),n]},useSyncExternalStore:vp,useId:Yp,useHostTransitionStatus:Ff,useFormState:Op,useActionState:Op,useOptimistic:function(e,n){var a=ge();return wp(a,Xt,e,n)},useMemoCache:kf,useCacheRefresh:Xp};Kf.useEffectEvent=Lp;var ty={readContext:He,use:nc,useCallback:qp,useContext:He,useEffect:jf,useImperativeHandle:Bp,useInsertionEffect:Pp,useLayoutEffect:zp,useMemo:Hp,useReducer:Lf,useRef:kp,useState:function(){return Lf(Fi)},useDebugValue:Bf,useDeferredValue:function(e,n){var a=ge();return Xt===null?qf(a,e,n):Fp(a,Xt.memoizedState,e,n)},useTransition:function(){var e=Lf(Fi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:al(e),n]},useSyncExternalStore:vp,useId:Yp,useHostTransitionStatus:Ff,useFormState:Mp,useActionState:Mp,useOptimistic:function(e,n){var a=ge();return Xt!==null?wp(a,Xt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:Xp};ty.useEffectEvent=Lp;function Qf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Yf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=An(),h=Rr(o);h.payload=n,a!=null&&(h.callback=a),n=Ir(e,h,o),n!==null&&(hn(n,e,o),nl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=An(),h=Rr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ir(e,h,o),n!==null&&(hn(n,e,o),nl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=An(),o=Rr(a);o.tag=2,n!=null&&(o.callback=n),n=Ir(e,o,a),n!==null&&(hn(n,e,a),nl(n,e,a))}};function ey(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Yo(a,o)||!Yo(h,f):!0}function ny(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Yf.enqueueReplaceState(n,n.state,null)}function zs(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function iy(e){Pu(e)}function ry(e){console.error(e)}function sy(e){Pu(e)}function oc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ay(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(e,n,a){return a=Rr(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(e,n)},a}function oy(e){return e=Rr(e),e.tag=3,e}function ly(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ay(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ay(n,a,o),typeof h!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function $1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ba(n,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?vc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Yu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ed(e,o,h)),!1;case 22:return a.flags|=65536,o===Yu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ed(e,o,h)),!1}throw Error(s(435,a.tag))}return Ed(e,o,h),vc(),!1}if(Vt)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==mf&&(e=Error(s(422),{cause:o}),Jo(xn(e,a)))):(o!==mf&&(n=Error(s(423),{cause:o}),Jo(xn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=xn(o,a),h=Xf(e.stateNode,o,h),wf(e,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:o});if(f=xn(f,a),pl===null?pl=[f]:pl.push(f),ce!==4&&(ce=2),n===null)return!0;o=xn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Xf(a.stateNode,o,e),wf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vr===null||!Vr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=oy(h),ly(h,e,a,o),wf(a,h),!1}a=a.return}while(a!==null);return!1}var $f=Error(s(461)),Se=!1;function Fe(e,n,a,o){n.child=e===null?fp(n,null,a,o):Ls(n,e.child,a,o)}function uy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Vs(n),o=xf(e,n,a,p,f,h),E=Of(),e!==null&&!Se?(Vf(e,n,h),Gi(e,n,h)):(Vt&&E&&ff(n),n.flags|=1,Fe(e,n,o,h),n.child)}function cy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!uf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,hy(e,n,f,o,h)):(e=qu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!rd(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(p,o)&&e.ref===n.ref)return Gi(e,n,h)}return n.flags|=1,e=zi(f,o),e.ref=n.ref,e.return=n,n.child=e}function hy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Yo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,rd(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Gi(e,n,h)}return Jf(e,n,a,o,h)}function fy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return dy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ku(n,f!==null?f.cachePool:null),f!==null?gp(n,f):If(),pp(n);else return o=n.lanes=536870912,dy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Ku(n,f.cachePool),gp(n,f),Nr(),n.memoizedState=null):(e!==null&&Ku(n,null),If(),Nr());return Fe(e,n,h,a),n.child}function ul(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(e,n,a,o,h){var f=Tf();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Ku(n,null),If(),pp(n),e!==null&&ba(e,n,o,!0),n.childLanes=h,null}function lc(e,n){return n=cc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function my(e,n,a){return Ls(n,e.child,null,a),e=lc(n,n.pendingProps),e.flags|=2,En(n),n.memoizedState=null,e}function J1(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=lc(n,o),n.lanes=536870912,ul(null,e);if(Nf(n),(e=ee)?(e=R_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Jg(e),a.return=n,n.child=a,qe=n,ee=null)):e=null,e===null)throw Ar(n);return n.lanes=536870912,null}return lc(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(Nf(n),h)if(n.flags&256)n.flags&=-257,n=my(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||ba(e,n,a,!1),h=(a&e.childLanes)!==0,Se||h){if(o=Wt,o!==null&&(p=Do(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ns(e,p),hn(o,e,p),$f;vc(),n=my(e,n,a)}else e=f.treeContext,ee=Un(p.nextSibling),qe=n,Vt=!0,br=null,Mn=!1,e!==null&&tp(n,e),n=lc(n,o),n.flags|=4096;return n}return e=zi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function uc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Jf(e,n,a,o,h){return Vs(n),a=xf(e,n,a,o,void 0,h),o=Of(),e!==null&&!Se?(Vf(e,n,h),Gi(e,n,h)):(Vt&&o&&ff(n),n.flags|=1,Fe(e,n,a,h),n.child)}function gy(e,n,a,o,h,f){return Vs(n),n.updateQueue=null,a=_p(n,o,a,h),yp(e),o=Of(),e!==null&&!Se?(Vf(e,n,f),Gi(e,n,f)):(Vt&&o&&ff(n),n.flags|=1,Fe(e,n,a,f),n.child)}function py(e,n,a,o,h){if(Vs(n),n.stateNode===null){var f=_a,p=a.contextType;typeof p=="object"&&p!==null&&(f=He(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Yf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Af(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?He(p):_a,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Qf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Yf.enqueueReplaceState(f,f.state,null),rl(n,o,f,h),il(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=zs(a,E);f.props=I;var z=f.context,G=a.contextType;p=_a,typeof G=="object"&&G!==null&&(p=He(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&ny(n,f,o,p),wr=!1;var j=n.memoizedState;f.state=j,rl(n,o,f,h),il(),z=n.memoizedState,E||j!==z||wr?(typeof X=="function"&&(Qf(n,a,X,o),z=n.memoizedState),(I=wr||ey(n,a,I,o,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Sf(e,n),p=n.memoizedProps,G=zs(a,p),f.props=G,X=n.pendingProps,j=f.context,z=a.contextType,I=_a,typeof z=="object"&&z!==null&&(I=He(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||j!==I)&&ny(n,f,o,I),wr=!1,j=n.memoizedState,f.state=j,rl(n,o,f,h),il();var F=n.memoizedState;p!==X||j!==F||wr||e!==null&&e.dependencies!==null&&Fu(e.dependencies)?(typeof E=="function"&&(Qf(n,a,E,o),F=n.memoizedState),(G=wr||ey(n,a,G,o,j,F,I)||e!==null&&e.dependencies!==null&&Fu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,uc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ls(n,e.child,null,h),n.child=Ls(n,null,a,h)):Fe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Gi(e,n,h),e}function yy(e,n,a,o){return xs(),n.flags|=256,Fe(e,n,a,o),n.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(e){return{baseLanes:e,cachePool:ap()}}function td(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=bn),e}function _y(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Cr(n):Nr(),(e=ee)?(e=R_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Jg(e),a.return=n,n.child=a,qe=n,ee=null)):e=null,e===null)throw Ar(n);return Ud(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Nr(),h=n.mode,E=cc({mode:"hidden",children:E},h),o=Ds(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Wf(a),o.childLanes=td(e,p,a),n.memoizedState=Zf,ul(null,o)):(Cr(n),ed(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Cr(n),n.flags&=-257,n=nd(e,n,a)):n.memoizedState!==null?(Nr(),n.child=e.child,n.flags|=128,n=null):(Nr(),E=o.fallback,h=n.mode,o=cc({mode:"visible",children:o.children},h),E=Ds(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ls(n,e.child,null,a),o=n.child,o.memoizedState=Wf(a),o.childLanes=td(e,p,a),n.memoizedState=Zf,n=ul(null,o));else if(Cr(n),Ud(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(s(419)),o.stack="",o.digest=p,Jo({value:o,source:null,stack:null}),n=nd(e,n,a)}else if(Se||ba(e,n,a,!1),p=(a&e.childLanes)!==0,Se||p){if(p=Wt,p!==null&&(o=Do(p,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Ns(e,o),hn(p,e,o),$f;kd(E)||vc(),n=nd(e,n,a)}else kd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ee=Un(E.nextSibling),qe=n,Vt=!0,br=null,Mn=!1,e!==null&&tp(n,e),n=ed(n,o.children),n.flags|=4096);return n}return h?(Nr(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=zi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=zi(z,E):(E=Ds(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ul(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Wf(a):(h=E.cachePool,h!==null?(I=be._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ap(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=td(e,p,a),n.memoizedState=Zf,ul(e.child,o)):(Cr(n),a=e.child,e=a.sibling,a=zi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function ed(e,n){return n=cc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function cc(e,n){return e=_n(22,e,null,n),e.lanes=0,e}function nd(e,n,a){return Ls(n,e.child,null,a),e=ed(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function vy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),yf(e.return,n,a)}function id(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function Ey(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=me.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,it(me,p),Fe(e,n,o,a),o=Vt?$o:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vy(e,a,n);else if(e.tag===19)vy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),id(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}id(n,!0,a,null,f,o);break;case"together":id(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Gi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Or|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ba(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=zi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=zi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function rd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Fu(e)))}function Z1(e,n,a){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),Sr(n,be,e.memoizedState.cache),xs();break;case 27:case 5:hs(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:Sr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Nf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Cr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?_y(e,n,a):(Cr(n),e=Gi(e,n,a),e!==null?e.sibling:null);Cr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ba(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ey(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(me,me.current),o)break;return null;case 22:return n.lanes=0,fy(e,n,a,n.pendingProps);case 24:Sr(n,be,e.memoizedState.cache)}return Gi(e,n,a)}function Ty(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!rd(e,a)&&(n.flags&128)===0)return Se=!1,Z1(e,n,a);Se=(e.flags&131072)!==0}else Se=!1,Vt&&(n.flags&1048576)!==0&&Wg(n,$o,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=ks(n.elementType),n.type=e,typeof e=="function")uf(e)?(o=zs(e,o),n.tag=1,n=py(null,n,e,o,a)):(n.tag=0,n=Jf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Mt){n.tag=11,n=uy(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=cy(null,n,e,o,a);break t}}throw n=re(e)||e,Error(s(306,n,""))}}return n;case 0:return Jf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=zs(o,n.pendingProps),py(e,n,o,h,a);case 3:t:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Sf(e,n),rl(n,o,null,a);var p=n.memoizedState;if(o=p.cache,Sr(n,be,o),o!==f.cache&&_f(n,[be],a,!0),il(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yy(e,n,o,a);break t}else if(o!==h){h=xn(Error(s(424)),n),Jo(h),n=yy(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=Un(e.firstChild),qe=n,Vt=!0,br=null,Mn=!0,a=fp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(xs(),o===h){n=Gi(e,n,a);break t}Fe(e,n,o,a)}n=n.child}return n;case 26:return uc(e,n),e===null?(a=O_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Vt||(a=n.type,e=n.pendingProps,o=Rc(At.current).createElement(a),o[ve]=n,o[ke]=e,Ge(o,a,e),Ee(o),n.stateNode=o):n.memoizedState=O_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return hs(n),e===null&&Vt&&(o=n.stateNode=N_(n.type,n.pendingProps,At.current),qe=n,Mn=!0,h=ee,Lr(n.type)?(Ld=h,ee=Un(o.firstChild)):ee=h),Fe(e,n,n.pendingProps.children,a),uc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=ee)&&(o=Cb(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,qe=n,ee=Un(o.firstChild),Mn=!1,h=!0):h=!1),h||Ar(n)),hs(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Od(h,f)?o=null:p!==null&&Od(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=xf(e,n,H1,null,null,a),Sl._currentValue=h),uc(e,n),Fe(e,n,o,a),n.child;case 6:return e===null&&Vt&&((e=a=ee)&&(a=Nb(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,qe=n,ee=null,e=!0):e=!1),e||Ar(n)),null;case 13:return _y(e,n,a);case 4:return xe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ls(n,null,o,a):Fe(e,n,o,a),n.child;case 11:return uy(e,n,n.type,n.pendingProps,a);case 7:return Fe(e,n,n.pendingProps,a),n.child;case 8:return Fe(e,n,n.pendingProps.children,a),n.child;case 12:return Fe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Sr(n,n.type,o.value),Fe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Vs(n),h=He(h),o=o(h),n.flags|=1,Fe(e,n,o,a),n.child;case 14:return cy(e,n,n.type,n.pendingProps,a);case 15:return hy(e,n,n.type,n.pendingProps,a);case 19:return Ey(e,n,a);case 31:return J1(e,n,a);case 22:return fy(e,n,a,n.pendingProps);case 24:return Vs(n),o=He(be),e===null?(h=Tf(),h===null&&(h=Wt,f=vf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},Af(n),Sr(n,be,h)):((e.lanes&a)!==0&&(Sf(e,n),rl(n,null,null,a),il()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Sr(n,be,o)):(o=f.cache,Sr(n,be,o),o!==h.cache&&_f(n,[be],a,!0))),Fe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ki(e){e.flags|=4}function sd(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Yy())e.flags|=8192;else throw Us=Yu,bf}else e.flags&=-16777217}function by(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!L_(n))if(Yy())e.flags|=8192;else throw Us=Yu,bf}function hc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?yu():536870912,e.lanes|=n,Ma|=n)}function cl(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function W1(e,n,a){var o=n.pendingProps;switch(df(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),qi(be),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?Ki(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gf())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Ki(n),f!==null?(ne(n),by(n,f)):(ne(n),sd(n,h,null,o,a))):f?f!==e.memoizedState?(Ki(n),ne(n),by(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ki(n),ne(n),sd(n,h,e,o,a)),null;case 27:if(Ws(n),a=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}e=at.current,Ta(n)?ep(n):(e=N_(h,o,a),n.stateNode=e,Ki(n))}return ne(n),null;case 5:if(Ws(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(f=at.current,Ta(n))ep(n);else{var p=Rc(At.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[ve]=n,f[ke]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ki(n)}}return ne(n),sd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=At.current,Ta(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||__(e.nodeValue,a)),e||Ar(n,!0)}else e=Rc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ne(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ta(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else a=gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),hc(n,n.updateQueue),ne(n),null);case 4:return se(),e===null&&Id(n.stateNode.containerInfo),ne(n),null;case 10:return qi(n.type),ne(n),null;case 19:if($(me),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)cl(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Zu(e),f!==null){for(n.flags|=128,cl(o,!1),e=f.updateQueue,n.updateQueue=e,hc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)$g(a,e),a=a.sibling;return it(me,me.current&1|2),Vt&&ji(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>pc&&(n.flags|=128,h=!0,cl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,hc(n,e),cl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ne(n),null}else 2*en()-o.renderingStartTime>pc&&a!==536870912&&(n.flags|=128,h=!0,cl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,a=me.current,it(me,h?a&1|2:a&1),Vt&&ji(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return En(n),Cf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&hc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&$(Ms),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),qi(be),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function tb(e,n){switch(df(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qi(be),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ws(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(s(340));xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(me),null;case 4:return se(),null;case 10:return qi(n.type),null;case 22:case 23:return En(n),Cf(),e!==null&&$(Ms),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return qi(be),null;case 25:return null;default:return null}}function Ay(e,n){switch(df(n),n.tag){case 3:qi(be),se();break;case 26:case 27:case 5:Ws(n);break;case 4:se();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:$(me);break;case 10:qi(n.type);break;case 22:case 23:En(n),Cf(),e!==null&&$(Ms);break;case 24:qi(be)}}function hl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){Qt(n,n.return,E)}}function Dr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=a,z=E;try{z()}catch(G){Qt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Qt(n,n.return,G)}}function Sy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{mp(n,a)}catch(o){Qt(e,e.return,o)}}}function wy(e,n,a){a.props=zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Qt(e,n,o)}}function fl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Qt(e,n,h)}}function wi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qt(e,n,h)}else a.current=null}function Ry(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Qt(e,e.return,h)}}function ad(e,n,a){try{var o=e.stateNode;bb(o,e.type,a,n),o[ke]=n}catch(h){Qt(e,e.return,h)}}function Iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Lr(e.type)||e.tag===4}function od(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ld(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gn));else if(o!==4&&(o===27&&Lr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(ld(e,n,a),e=e.sibling;e!==null;)ld(e,n,a),e=e.sibling}function fc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Lr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(fc(e,n,a),e=e.sibling;e!==null;)fc(e,n,a),e=e.sibling}function Cy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,a),n[ve]=e,n[ke]=a}catch(f){Qt(e,e.return,f)}}var Qi=!1,we=!1,ud=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,Le=null;function eb(e,n){if(e=e.containerInfo,Dd=Vc,e=Bg(e),ef(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,E=-1,I=-1,z=0,G=0,X=e,j=null;e:for(;;){for(var F;X!==a||h!==0&&X.nodeType!==3||(E=p+h),X!==f||o!==0&&X.nodeType!==3||(I=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(F=X.firstChild)!==null;)j=X,X=F;for(;;){if(X===e)break e;if(j===a&&++z===h&&(E=p),j===f&&++G===o&&(I=p),(F=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=F}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:e,selectionRange:a},Vc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=zs(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Qt(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Md(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function Dy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(e,a),o&4&&hl(5,a);break;case 1:if(Xi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Qt(a,a.return,p)}else{var h=zs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Qt(a,a.return,p)}}o&64&&Sy(a),o&512&&fl(a,a.return);break;case 3:if(Xi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{mp(e,n)}catch(p){Qt(a,a.return,p)}}break;case 27:n===null&&o&4&&Cy(a);case 26:case 5:Xi(e,a),n===null&&o&4&&Ry(a),o&512&&fl(a,a.return);break;case 12:Xi(e,a);break;case 31:Xi(e,a),o&4&&Vy(e,a);break;case 13:Xi(e,a),o&4&&My(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=cb.bind(null,a),Db(e,a))));break;case 22:if(o=a.memoizedState!==null||Qi,!o){n=n!==null&&n.memoizedState!==null||we,h=Qi;var f=we;Qi=o,(we=n)&&!f?$i(e,a,(a.subtreeFlags&8772)!==0):Xi(e,a),Qi=h,we=f}break;case 30:break;default:Xi(e,a)}}function xy(e){var n=e.alternate;n!==null&&(e.alternate=null,xy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,on=!1;function Yi(e,n,a){for(a=a.child;a!==null;)Oy(e,n,a),a=a.sibling}function Oy(e,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:we||wi(a,n),Yi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||wi(a,n);var o=oe,h=on;Lr(a.type)&&(oe=a.stateNode,on=!1),Yi(e,n,a),Tl(a.stateNode),oe=o,on=h;break;case 5:we||wi(a,n);case 6:if(o=oe,h=on,oe=null,Yi(e,n,a),oe=o,on=h,oe!==null)if(on)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Qt(a,n,f)}else try{oe.removeChild(a.stateNode)}catch(f){Qt(a,n,f)}break;case 18:oe!==null&&(on?(e=oe,S_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),qa(e)):S_(oe,a.stateNode));break;case 4:o=oe,h=on,oe=a.stateNode.containerInfo,on=!0,Yi(e,n,a),oe=o,on=h;break;case 0:case 11:case 14:case 15:Dr(2,a,n),we||Dr(4,a,n),Yi(e,n,a);break;case 1:we||(wi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&wy(a,n,o)),Yi(e,n,a);break;case 21:Yi(e,n,a);break;case 22:we=(o=we)||a.memoizedState!==null,Yi(e,n,a),we=o;break;default:Yi(e,n,a)}}function Vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(a){Qt(n,n.return,a)}}}function My(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(a){Qt(n,n.return,a)}}function nb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ny),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ny),n;default:throw Error(s(435,e.tag))}}function dc(e,n){var a=nb(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=hb.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Lr(E.type)){oe=E.stateNode,on=!1;break t}break;case 5:oe=E.stateNode,on=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(oe===null)throw Error(s(160));Oy(f,p,h),oe=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,e),n=n.sibling}var Jn=null;function ky(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Dr(3,e,e.return),hl(3,e),Dr(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(we||a===null||wi(a,a.return)),o&64&&Qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Jn;if(ln(n,e),un(e),o&512&&(we||a===null||wi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[ve]=e,Ee(f),o=f;break t;case"link":var p=k_("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(p=k_("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else U_(h,e.type,e.stateNode);else e.stateNode=M_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?U_(h,e.type,e.stateNode):M_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ad(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(we||a===null||wi(a,a.return)),a!==null&&o&4&&ad(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(we||a===null||wi(a,a.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(ot){Qt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,ad(e,h,a!==null?a.memoizedProps:h)),o&1024&&(ud=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){Qt(e,e.return,ot)}}break;case 3:if(Nc=null,h=Jn,Jn=Ic(n.containerInfo),ln(n,e),Jn=h,un(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(ot){Qt(e,e.return,ot)}ud&&(ud=!1,Uy(e));break;case 4:o=Jn,Jn=Ic(e.stateNode.containerInfo),ln(n,e),un(e),Jn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gc=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Qi,G=we;if(Qi=z||h,we=G||I,ln(n,e),we=G,Qi=z,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Qi||we||js(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Qt(I,I.return,ot)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){Qt(I,I.return,ot)}}}else if(n.tag===18){if(a===null){I=n;try{var F=I.stateNode;h?w_(F,!0):w_(I.stateNode,!1)}catch(ot){Qt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,dc(e,a))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Iy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=od(e);fc(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(an(p,""),a.flags&=-33);var E=od(e);fc(e,E,p);break;case 3:case 4:var I=a.stateNode.containerInfo,z=od(e);ld(e,z,I);break;default:throw Error(s(161))}}catch(G){Qt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dy(e,n.alternate,n),n=n.sibling}function js(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Dr(4,n,n.return),js(n);break;case 1:wi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&wy(n,n.return,a),js(n);break;case 27:Tl(n.stateNode);case 26:case 5:wi(n,n.return),js(n);break;case 22:n.memoizedState===null&&js(n);break;case 30:js(n);break;default:js(n)}e=e.sibling}}function $i(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:$i(h,f,a),hl(4,f);break;case 1:if($i(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Qt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)dp(I[h],E)}catch(z){Qt(o,o.return,z)}}a&&p&64&&Sy(f),fl(f,f.return);break;case 27:Cy(f);case 26:case 5:$i(h,f,a),a&&o===null&&p&4&&Ry(f),fl(f,f.return);break;case 12:$i(h,f,a);break;case 31:$i(h,f,a),a&&p&4&&Vy(h,f);break;case 13:$i(h,f,a),a&&p&4&&My(h,f);break;case 22:f.memoizedState===null&&$i(h,f,a),fl(f,f.return);break;case 30:break;default:$i(h,f,a)}n=n.sibling}}function cd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zo(a))}function hd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zo(e))}function Zn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(e,n,a,o),n=n.sibling}function Ly(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(e,n,a,o),h&2048&&hl(9,n);break;case 1:Zn(e,n,a,o);break;case 3:Zn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zo(e)));break;case 12:if(h&2048){Zn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Qt(n,n.return,I)}}else Zn(e,n,a,o);break;case 31:Zn(e,n,a,o);break;case 13:Zn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(e,n,a,o):dl(e,n):f._visibility&2?Zn(e,n,a,o):(f._visibility|=2,xa(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&cd(p,n);break;case 24:Zn(e,n,a,o),h&2048&&hd(n.alternate,n);break;default:Zn(e,n,a,o)}}function xa(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=a,I=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:xa(f,p,E,I,h),hl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?xa(f,p,E,I,h):dl(f,p):(G._visibility|=2,xa(f,p,E,I,h)),h&&z&2048&&cd(p.alternate,p);break;case 24:xa(f,p,E,I,h),h&&z&2048&&hd(p.alternate,p);break;default:xa(f,p,E,I,h)}n=n.sibling}}function dl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:dl(a,o),h&2048&&cd(o.alternate,o);break;case 24:dl(a,o),h&2048&&hd(o.alternate,o);break;default:dl(a,o)}n=n.sibling}}var ml=8192;function Oa(e,n,a){if(e.subtreeFlags&ml)for(e=e.child;e!==null;)Py(e,n,a),e=e.sibling}function Py(e,n,a){switch(e.tag){case 26:Oa(e,n,a),e.flags&ml&&e.memoizedState!==null&&qb(a,Jn,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,n,a);break;case 3:case 4:var o=Jn;Jn=Ic(e.stateNode.containerInfo),Oa(e,n,a),Jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ml,ml=16777216,Oa(e,n,a),ml=o):Oa(e,n,a));break;default:Oa(e,n,a)}}function zy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function gl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,By(o,e)}zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jy(e),e=e.sibling}function jy(e){switch(e.tag){case 0:case 11:case 15:gl(e),e.flags&2048&&Dr(9,e,e.return);break;case 3:gl(e);break;case 12:gl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,mc(e)):gl(e);break;default:gl(e)}}function mc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,By(o,e)}zy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Dr(8,n,n.return),mc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,mc(n));break;default:mc(n)}e=e.sibling}}function By(e,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Dr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(xy(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var ib={getCacheForType:function(e){var n=He(be),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return He(be).controller.signal}},rb=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Rt=null,Ct=0,Kt=0,Tn=null,xr=!1,Va=!1,fd=!1,Ji=0,ce=0,Or=0,Bs=0,dd=0,bn=0,Ma=0,pl=null,cn=null,md=!1,gc=0,qy=0,pc=1/0,yc=null,Vr=null,Ve=0,Mr=null,ka=null,Zi=0,gd=0,pd=null,Hy=null,yl=0,yd=null;function An(){return(qt&2)!==0&&Ct!==0?Ct&-Ct:K.T!==null?Ad():_u()}function Fy(){if(bn===0)if((Ct&536870912)===0||Vt){var e=ms;ms<<=1,(ms&3932160)===0&&(ms=262144),bn=e}else bn=536870912;return e=vn.current,e!==null&&(e.flags|=32),bn}function hn(e,n,a){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),kr(e,Ct,bn,!1)),gs(e,a),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(Bs|=a),ce===4&&kr(e,Ct,bn,!1)),Ri(e))}function Gy(e,n,a){if((qt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||qn(e,n),h=o?ob(e,n):vd(e,n,!0),f=o;do{if(h===0){Va&&!o&&kr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!sb(a)){h=vd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=pl;var I=E.current.memoizedState.isDehydrated;if(I&&(Ua(E,p).flags|=256),p=vd(E,p,!1),p!==2){if(fd&&!I){E.errorRecoveryDisabledLanes|=f,Bs|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ua(e,0),kr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:kr(o,n,bn,!xr);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=gc+300-en(),10<h)){if(kr(o,n,bn,!xr),li(o,0,!0)!==0)break t;Zi=n,o.timeoutHandle=b_(Ky.bind(null,o,a,cn,yc,md,n,bn,Bs,Ma,xr,f,"Throttled",-0,0),h);break t}Ky(o,a,cn,yc,md,n,bn,Bs,Ma,xr,f,null,-0,0)}}break}while(!0);Ri(e)}function Ky(e,n,a,o,h,f,p,E,I,z,G,X,j,F){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Py(n,f,X);var ot=(f&62914560)===f?gc-en():(f&4194048)===f?qy-en():0;if(ot=Hb(X,ot),ot!==null){Zi=f,e.cancelPendingCommit=ot(t_.bind(null,e,n,f,a,o,h,p,E,I,G,X,null,j,F)),kr(e,f,p,!z);return}}t_(e,n,f,a,o,h,p,E,I)}function sb(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function kr(e,n,a,o){n&=~dd,n&=~Bs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&ps(e,a,n)}function _c(){return(qt&6)===0?(_l(0),!1):!0}function _d(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,Bi=Os=null,Mf(e),Ra=null,tl=0,e=Rt;for(;e!==null;)Ay(e.alternate,e),e=e.return;Rt=null}}function Ua(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,wb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Zi=0,_d(),Wt=e,Rt=a=zi(e.current,null),Ct=n,Kt=0,Tn=null,xr=!1,Va=qn(e,n),fd=!1,Ma=bn=dd=Bs=Or=ce=0,cn=pl=null,md=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Ji=n,zu(),a}function Qy(e,n){bt=null,K.H=ll,n===wa||n===Qu?(n=up(),Kt=3):n===bf?(n=up(),Kt=4):Kt=n===$f?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Rt===null&&(ce=1,oc(e,xn(n,e.current)))}function Yy(){var e=vn.current;return e===null?!0:(Ct&4194048)===Ct?kn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===kn:!1}function Xy(){var e=K.H;return K.H=ll,e===null?ll:e}function $y(){var e=K.A;return K.A=ib,e}function vc(){ce=4,xr||(Ct&4194048)!==Ct&&vn.current!==null||(Va=!0),(Or&134217727)===0&&(Bs&134217727)===0||Wt===null||kr(Wt,Ct,bn,!1)}function vd(e,n,a){var o=qt;qt|=2;var h=Xy(),f=$y();(Wt!==e||Ct!==n)&&(yc=null,Ua(e,n)),n=!1;var p=ce;t:do try{if(Kt!==0&&Rt!==null){var E=Rt,I=Tn;switch(Kt){case 8:_d(),p=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var z=Kt;if(Kt=0,Tn=null,La(e,E,I,z),a&&Va){p=0;break t}break;default:z=Kt,Kt=0,Tn=null,La(e,E,I,z)}}ab(),p=ce;break}catch(G){Qy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Bi=Os=null,qt=o,K.H=h,K.A=f,Rt===null&&(Wt=null,Ct=0,zu()),p}function ab(){for(;Rt!==null;)Jy(Rt)}function ob(e,n){var a=qt;qt|=2;var o=Xy(),h=$y();Wt!==e||Ct!==n?(yc=null,pc=en()+500,Ua(e,n)):Va=qn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=Tn;e:switch(Kt){case 1:Kt=0,Tn=null,La(e,n,f,1);break;case 2:case 9:if(op(f)){Kt=0,Tn=null,Zy(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),Ri(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:op(f)?(Kt=0,Tn=null,Zy(n)):(Kt=0,Tn=null,La(e,n,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var E=Rt;if(p?L_(p):E.stateNode.complete){Kt=0,Tn=null;var I=E.sibling;if(I!==null)Rt=I;else{var z=E.return;z!==null?(Rt=z,Ec(z)):Rt=null}break e}}Kt=0,Tn=null,La(e,n,f,5);break;case 6:Kt=0,Tn=null,La(e,n,f,6);break;case 8:_d(),ce=6;break t;default:throw Error(s(462))}}lb();break}catch(G){Qy(e,G)}while(!0);return Bi=Os=null,K.H=o,K.A=h,qt=a,Rt!==null?0:(Wt=null,Ct=0,zu(),ce)}function lb(){for(;Rt!==null&&!Yh();)Jy(Rt)}function Jy(e){var n=Ty(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,n===null?Ec(e):Rt=n}function Zy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=gy(a,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=gy(a,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:Mf(n);default:Ay(a,n),n=Rt=$g(n,Ji),n=Ty(a,n,Ji)}e.memoizedProps=e.pendingProps,n===null?Ec(e):Rt=n}function La(e,n,a,o){Bi=Os=null,Mf(n),Ra=null,tl=0;var h=n.return;try{if($1(e,h,n,a,Ct)){ce=1,oc(e,xn(a,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ce=1,oc(e,xn(a,e.current)),Rt=null;return}n.flags&32768?(Vt||o===1?e=!0:Va||(Ct&536870912)!==0?e=!1:(xr=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wy(n,e)):Ec(n)}function Ec(e){var n=e;do{if((n.flags&32768)!==0){Wy(n,xr);return}e=n.return;var a=W1(n.alternate,n,Ji);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ce===0&&(ce=5)}function Wy(e,n){do{var a=tb(e.alternate,e);if(a!==null){a.flags&=32767,Rt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=a}while(e!==null);ce=6,Rt=null}function t_(e,n,a,o,h,f,p,E,I){e.cancelPendingCommit=null;do Tc();while(Ve!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=of,Jh(e,a,f,p,E,I),e===Wt&&(Rt=Wt=null,Ct=0),ka=n,Mr=e,Zi=a,gd=f,pd=h,Hy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fb(hr,function(){return s_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=nt.p,nt.p=2,p=qt,qt|=4;try{eb(e,n,a)}finally{qt=p,nt.p=h,K.T=o}}Ve=1,e_(),n_(),i_()}}function e_(){if(Ve===1){Ve=0;var e=Mr,n=ka,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=nt.p;nt.p=2;var h=qt;qt|=4;try{ky(n,e);var f=xd,p=Bg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&jg(E.ownerDocument.documentElement,E)){if(I!==null&&ef(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var F=j.getSelection(),ot=E.textContent.length,mt=Math.min(I.start,ot),Jt=I.end===void 0?mt:Math.min(I.end,ot);!F.extend&&mt>Jt&&(p=Jt,Jt=mt,mt=p);var k=zg(E,mt),x=zg(E,Jt);if(k&&x&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==x.node||F.focusOffset!==x.offset)){var P=X.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),mt>Jt?(F.addRange(P),F.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),F.addRange(P))}}}}for(X=[],F=E;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Vc=!!Dd,xd=Dd=null}finally{qt=h,nt.p=o,K.T=a}}e.current=n,Ve=2}}function n_(){if(Ve===2){Ve=0;var e=Mr,n=ka,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=nt.p;nt.p=2;var h=qt;qt|=4;try{Dy(e,n.alternate,n)}finally{qt=h,nt.p=o,K.T=a}}Ve=3}}function i_(){if(Ve===4||Ve===3){Ve=0,hu();var e=Mr,n=ka,a=Zi,o=Hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,ka=Mr=null,r_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vr=null),ki(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,h=nt.p,nt.p=2,K.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{K.T=n,nt.p=h}}(Zi&3)!==0&&Tc(),Ri(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===yd?yl++:(yl=0,yd=e):yl=0,_l(0)}}function r_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Zo(n)))}function Tc(){return e_(),n_(),i_(),s_()}function s_(){if(Ve!==5)return!1;var e=Mr,n=gd;gd=0;var a=ki(Zi),o=K.T,h=nt.p;try{nt.p=32>a?32:a,K.T=null,a=pd,pd=null;var f=Mr,p=Zi;if(Ve=0,ka=Mr=null,Zi=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,jy(f.current),Ly(f,f.current,p,a),qt=E,_l(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{nt.p=h,K.T=o,r_(e,n)}}function a_(e,n,a){n=xn(a,n),n=Xf(e.stateNode,n,2),e=Ir(e,n,2),e!==null&&(gs(e,2),Ri(e))}function Qt(e,n,a){if(e.tag===3)a_(e,e,a);else for(;n!==null;){if(n.tag===3){a_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vr===null||!Vr.has(o))){e=xn(a,e),a=oy(2),o=Ir(n,a,2),o!==null&&(ly(a,o,n,e),gs(o,2),Ri(o));break}}n=n.return}}function Ed(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new rb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(fd=!0,h.add(a),e=ub.bind(null,e,n,a),n.then(e,e))}function ub(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ct&a)===a&&(ce===4||ce===3&&(Ct&62914560)===Ct&&300>en()-gc?(qt&2)===0&&Ua(e,0):dd|=a,Ma===Ct&&(Ma=0)),Ri(e)}function o_(e,n){n===0&&(n=yu()),e=Ns(e,n),e!==null&&(gs(e,n),Ri(e))}function cb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),o_(e,a)}function hb(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),o_(e,a)}function fb(e,n){return Oe(e,n)}var bc=null,Pa=null,Td=!1,Ac=!1,bd=!1,Ur=0;function Ri(e){e!==Pa&&e.next===null&&(Pa===null?bc=Pa=e:Pa=Pa.next=e),Ac=!0,Td||(Td=!0,mb())}function _l(e,n){if(!bd&&Ac){bd=!0;do for(var a=!1,o=bc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,h_(o,f))}else f=Ct,f=li(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||qn(o,f)||(a=!0,h_(o,f));o=o.next}while(a);bd=!1}}function db(){l_()}function l_(){Ac=Td=!1;var e=0;Ur!==0&&Sb()&&(e=Ur);for(var n=en(),a=null,o=bc;o!==null;){var h=o.next,f=u_(o,n);f===0?(o.next=null,a===null?bc=h:a.next=h,h===null&&(Pa=a)):(a=o,(e!==0||(f&3)!==0)&&(Ac=!0)),o=h}Ve!==0&&Ve!==5||_l(e),Ur!==0&&(Ur=0)}function u_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-fe(f),E=1<<p,I=h[p];I===-1?((E&a)===0||(E&o)!==0)&&(h[p]=$h(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,a=Ct,a=li(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&cr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||qn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&cr(o),ki(a)){case 2:case 8:a=Co;break;case 32:a=hr;break;case 268435456:a=fu;break;default:a=hr}return o=c_.bind(null,e),a=Oe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&cr(o),e.callbackPriority=2,e.callbackNode=null,2}function c_(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Tc()&&e.callbackNode!==a)return null;var o=Ct;return o=li(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Gy(e,o,n),u_(e,en()),e.callbackNode!=null&&e.callbackNode===a?c_.bind(null,e):null)}function h_(e,n){if(Tc())return null;Gy(e,n,!0)}function mb(){Rb(function(){(qt&6)!==0?Oe(Io,db):l_()})}function Ad(){if(Ur===0){var e=Aa;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ur=e}return Ur}function f_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function d_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function gb(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=f_((h[ke]||null).action),p=o.submitter;p&&(n=(n=p[ke]||null)?f_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new vi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ur!==0){var I=p?d_(h,p):new FormData(h);Hf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?d_(h,p):new FormData(h),Hf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Sd=0;Sd<af.length;Sd++){var wd=af[Sd],pb=wd.toLowerCase(),yb=wd[0].toUpperCase()+wd.slice(1);$n(pb,"on"+yb)}$n(Fg,"onAnimationEnd"),$n(Gg,"onAnimationIteration"),$n(Kg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(V1,"onTransitionRun"),$n(M1,"onTransitionStart"),$n(k1,"onTransitionCancel"),$n(Qg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_b=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function m_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Pu(G)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Pu(G)}h.currentTarget=null,f=I}}}}function It(e,n){var a=n[ia];a===void 0&&(a=n[ia]=new Set);var o=e+"__bubble";a.has(o)||(g_(n,e,2,!1),a.add(o))}function Rd(e,n,a){var o=0;n&&(o|=4),g_(a,e,o,n)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Id(e){if(!e[Sc]){e[Sc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(_b.has(a)||Rd(a,!1,e),Rd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Sc]||(n[Sc]=!0,Rd("selectionchange",!1,n))}}function g_(e,n,a,o){switch(F_(n)){case 2:var h=Kb;break;case 8:h=Qb;break;default:h=qd}a=h.bind(null,n,a,e),h=void 0,!Ts||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Cd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=fi(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue t}E=E.parentNode}}o=o.return}yr(function(){var z=f,G=In(a),X=[];t:{var j=Yg.get(e);if(j!==void 0){var F=vi,ot=e;switch(e){case"keypress":if(As(a)===0)break t;case"keydown":case"keyup":F=ku;break;case"focusin":ot="focus",F=ws;break;case"focusout":ot="blur",F=ws;break;case"beforeblur":case"afterblur":F=ws;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Fg:case Gg:case Kg:F=Cu;break;case Qg:F=b;break;case"scroll":case"scrollend":F=Ho;break;case"wheel":F=B;break;case"copy":case"cut":case"paste":F=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Pi;break;case"toggle":case"beforetoggle":F=Tt}var mt=(n&4)!==0,Jt=!mt&&(e==="scroll"||e==="scrollend"),k=mt?j!==null?j+"Capture":null:j;mt=[];for(var x=z,P;x!==null;){var Y=x;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=Kn(x,k),Y!=null&&mt.push(El(x,Y,P))),Jt)break;x=x.return}0<mt.length&&(j=new F(j,ot,null,a,G),X.push({event:j,listeners:mt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",j&&a!==jo&&(ot=a.relatedTarget||a.fromElement)&&(fi(ot)||ot[ci]))break t;if((F||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,F?(ot=a.relatedTarget||a.toElement,F=z,ot=ot?fi(ot):null,ot!==null&&(Jt=c(ot),mt=ot.tag,ot!==Jt||mt!==5&&mt!==27&&mt!==6)&&(ot=null)):(F=null,ot=z),F!==ot)){if(mt=Fo,Y="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Pi,Y="onPointerLeave",k="onPointerEnter",x="pointer"),Jt=F==null?j:gn(F),P=ot==null?j:gn(ot),j=new mt(Y,x+"leave",F,a,G),j.target=Jt,j.relatedTarget=P,Y=null,fi(G)===z&&(mt=new mt(k,x+"enter",ot,a,G),mt.target=P,mt.relatedTarget=Jt,Y=mt),Jt=Y,F&&ot)e:{for(mt=vb,k=F,x=ot,P=0,Y=k;Y;Y=mt(Y))P++;Y=0;for(var ut=x;ut;ut=mt(ut))Y++;for(;0<P-Y;)k=mt(k),P--;for(;0<Y-P;)x=mt(x),Y--;for(;P--;){if(k===x||x!==null&&k===x.alternate){mt=k;break e}k=mt(k),x=mt(x)}mt=null}else mt=null;F!==null&&p_(X,j,F,mt,!1),ot!==null&&Jt!==null&&p_(X,Jt,ot,mt,!0)}}t:{if(j=z?gn(z):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var zt=Vg;else if(xg(j))if(Mg)zt=D1;else{zt=C1;var lt=I1}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&oa(z.elementType)&&(zt=Vg):zt=N1;if(zt&&(zt=zt(e,z))){Og(X,zt,a,G);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Lo(j,"number",j.value)}switch(lt=z?gn(z):window,e){case"focusin":(xg(lt)||lt.contentEditable==="true")&&(ga=lt,nf=z,Xo=null);break;case"focusout":Xo=nf=ga=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,qg(X,a,G);break;case"selectionchange":if(O1)break;case"keydown":case"keyup":qg(X,a,G)}var St;if(Bt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else ma?Rs(e,a)&&(Nt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(bi&&a.locale!=="ko"&&(ma||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ma&&(St=qo()):(_i=G,Bo="value"in _i?_i.value:_i.textContent,ma=!0)),lt=wc(z,Nt),0<lt.length&&(Nt=new Ti(Nt,e,null,a,G),X.push({event:Nt,listeners:lt}),St?Nt.data=St:(St=da(a),St!==null&&(Nt.data=St)))),(St=Nn?A1(e,a):S1(e,a))&&(Nt=wc(z,"onBeforeInput"),0<Nt.length&&(lt=new Ti("onBeforeInput","beforeinput",null,a,G),X.push({event:lt,listeners:Nt}),lt.data=St)),gb(X,e,z,a,G)}m_(X,n)})}function El(e,n,a){return{instance:e,listener:n,currentTarget:a}}function wc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(e,a),h!=null&&o.unshift(El(e,h,f)),h=Kn(e,n),h!=null&&o.push(El(e,h,f))),e.tag===3)return o;e=e.return}return[]}function vb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function p_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var E=a,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Kn(a,f),z!=null&&p.unshift(El(a,z,I))):h||(z=Kn(a,f),z!=null&&p.push(El(a,z,I)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var Eb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function y_(e){return(typeof e=="string"?e:""+e).replace(Eb,`
`).replace(Tb,"")}function __(e,n){return n=y_(n),y_(e)===n}function $t(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,a,o);break;case"style":zo(e,o,f);break;case"data":if(n!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=la(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=la(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=la(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":It("beforetoggle",e),It("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wu.get(a)||a,sa(e,a,o))}}function Nd(e,n,a,o,h,f){switch(a){case"style":zo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):sa(e,a,o)}}}function Ge(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(e,n,f,p,a,null)}}h&&$t(e,n,"srcSet",a.srcSet,a,null),o&&$t(e,n,"src",a.src,a,null);return;case"input":It("invalid",e);var E=f=p=h=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:$t(e,n,o,G,a,null)}}bu(e,f,E,I,z,p,h,!1);return;case"select":It("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:$t(e,n,h,E,a,null)}n=f,a=p,e.multiple=!!o,n!=null?dr(e,!!o,n,!1):a!=null&&dr(e,!!o,a,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$t(e,n,p,E,a,null)}mr(e,o,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,n,I,o,a,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<vl.length;o++)It(vl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(e,n,z,o,a,null)}return;default:if(oa(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Nd(e,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&$t(e,n,E,o,a,null))}function bb(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,z=null,G=null;for(F in a){var X=a[F];if(a.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(F)||$t(e,n,F,null,o,X)}}for(var j in o){var F=o[j];if(X=a[j],o.hasOwnProperty(j)&&(F!=null||X!=null))switch(j){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":G=F;break;case"value":p=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==X&&$t(e,n,j,F,o,X)}}aa(e,p,E,I,z,G,f,h);return;case"select":F=p=E=j=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":F=I;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&$t(e,n,h,f,o,I)}n=E,a=p,o=F,j!=null?dr(e,!!a,j,!1):!!o!=!!a&&(n!=null?dr(e,!!a,n,!0):dr(e,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&$t(e,n,p,h,o,f)}Au(e,j,F);return;case"option":for(var ot in a)j=a[ot],a.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:$t(e,n,ot,null,o,j));for(I in o)j=o[I],F=a[I],o.hasOwnProperty(I)&&j!==F&&(j!=null||F!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":$t(e,n,I,j,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)j=a[mt],a.hasOwnProperty(mt)&&j!=null&&!o.hasOwnProperty(mt)&&$t(e,n,mt,null,o,j);for(z in o)if(j=o[z],F=a[z],o.hasOwnProperty(z)&&j!==F&&(j!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:$t(e,n,z,j,o,F)}return;default:if(oa(n)){for(var Jt in a)j=a[Jt],a.hasOwnProperty(Jt)&&j!==void 0&&!o.hasOwnProperty(Jt)&&Nd(e,n,Jt,void 0,o,j);for(G in o)j=o[G],F=a[G],!o.hasOwnProperty(G)||j===F||j===void 0&&F===void 0||Nd(e,n,G,j,o,F);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&$t(e,n,k,null,o,j);for(X in o)j=o[X],F=a[X],!o.hasOwnProperty(X)||j===F||j==null&&F==null||$t(e,n,X,j,o,F)}function v_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ab(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&v_(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],z=I.startTime;if(z>E)break;var G=I.transferSize,X=I.initiatorType;G&&v_(X)&&(I=I.responseEnd,p+=G*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Dd=null,xd=null;function Rc(e){return e.nodeType===9?e:e.ownerDocument}function E_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Od(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vd=null;function Sb(){var e=window.event;return e&&e.type==="popstate"?e===Vd?!1:(Vd=e,!0):(Vd=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,wb=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,Rb=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(e){return A_.resolve(null).then(e).catch(Ib)}:b_;function Ib(e){setTimeout(function(){throw e})}function Lr(e){return e==="head"}function S_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),qa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Tl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Tl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Tl(e.ownerDocument.body);a=h}while(a);qa(n)}function w_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Md(a),ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Cb(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function Nb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function R_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function kd(e){return e.data==="$?"||e.data==="$~"}function Ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Db(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ld=null;function I_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Un(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function C_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function N_(e,n,a){switch(n=Rc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ra(e)}var Ln=new Map,D_=new Set;function Ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=nt.d;nt.d={f:xb,r:Ob,D:Vb,C:Mb,L:kb,m:Ub,X:Pb,S:Lb,M:zb};function xb(){var e=Wi.f(),n=_c();return e||n}function Ob(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?Qp(n):Wi.r(e)}var za=typeof document>"u"?null:document;function x_(e,n,a){var o=za;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),D_.has(h)||(D_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function Vb(e){Wi.D(e),x_("dns-prefetch",e,null)}function Mb(e,n){Wi.C(e,n),x_("preconnect",e,n)}function kb(e,n,a){Wi.L(e,n,a);var o=za;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=ja(e);break;case"script":f=Ba(e)}Ln.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ln.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(bl(f))||n==="script"&&o.querySelector(Al(f))||(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function Ub(e,n){Wi.m(e,n);var a=za;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(e)}if(!Ln.has(f)&&(e=A({rel:"modulepreload",href:e},n),Ln.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(f)))return}o=a.createElement("link"),Ge(o,"link",e),Ee(o),a.head.appendChild(o)}}}function Lb(e,n,a){Wi.S(e,n,a);var o=za;if(o&&e){var h=di(o).hoistableStyles,f=ja(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(bl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ln.get(f))&&Pd(e,a);var I=p=o.createElement("link");Ee(I),Ge(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function Pb(e,n){Wi.X(e,n);var a=za;if(a&&e){var o=di(a).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=a.querySelector(Al(h)),f||(e=A({src:e,async:!0},n),(n=Ln.get(h))&&zd(e,n),f=a.createElement("script"),Ee(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function zb(e,n){Wi.M(e,n);var a=za;if(a&&e){var o=di(a).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=a.querySelector(Al(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Ln.get(h))&&zd(e,n),f=a.createElement("script"),Ee(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function O_(e,n,a,o){var h=(h=At.current)?Ic(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ja(a.href),a=di(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ja(a.href);var f=di(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(bl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||jb(h,e,a,p.state))),n&&o===null)throw Error(s(528,""));return p}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(a),a=di(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ja(e){return'href="'+sn(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function V_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function jb(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",a),Ee(n),e.head.appendChild(n))}function Ba(e){return'[src="'+sn(e)+'"]'}function Al(e){return"script[async]"+e}function M_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Ge(o,"style",h),Cc(o,a.precedence,e),n.instance=o;case"stylesheet":h=ja(a.href);var f=e.querySelector(bl(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=V_(a),(h=Ln.get(h))&&Pd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Ge(f,"link",o),n.state.loading|=4,Cc(f,a.precedence,e),n.instance=f;case"script":return f=Ba(a.src),(h=e.querySelector(Al(f)))?(n.instance=h,Ee(h),h):(o=a,(h=Ln.get(f))&&(o=A({},a),zd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Cc(o,a.precedence,e));return n.instance}function Cc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function zd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Nc=null;function k_(e,n,a){if(Nc===null){var o=new Map,h=Nc=new Map;h.set(a,o)}else h=Nc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[hi]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function U_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Bb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function qb(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ja(o.href),f=n.querySelector(bl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Dc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,o=V_(o),(h=Ln.get(h))&&Pd(o,h),f=f.createElement("link"),Ee(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Dc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var jd=0;function Hb(e,n){return e.stylesheets&&e.count===0&&Oc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Oc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&jd===0&&(jd=62500*Ab());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Oc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>jd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xc=null;function Oc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xc=new Map,n.forEach(Fb,e),xc=null,Dc.call(e))}function Fb(e,n){if(!(n.state.loading&4)){var a=xc.get(e);if(a)var o=a.get(null);else{a=new Map,xc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Sl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function Gb(e,n,a,o,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function P_(e,n,a,o,h,f,p,E,I,z,G,X){return e=new Gb(e,n,a,p,I,z,G,X,E),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),e.current=f,f.stateNode=e,n=vf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Af(f),e}function z_(e){return e?(e=_a,e):_a}function j_(e,n,a,o,h,f){h=z_(h),o.context===null?o.context=h:o.pendingContext=h,o=Rr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ir(e,o,n),a!==null&&(hn(a,e,n),nl(a,e,n))}function B_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Bd(e,n){B_(e,n),(e=e.alternate)&&B_(e,n)}function q_(e){if(e.tag===13||e.tag===31){var n=Ns(e,67108864);n!==null&&hn(n,e,67108864),Bd(e,67108864)}}function H_(e){if(e.tag===13||e.tag===31){var n=An();n=ys(n);var a=Ns(e,n);a!==null&&hn(a,e,n),Bd(e,n)}}var Vc=!0;function Kb(e,n,a,o){var h=K.T;K.T=null;var f=nt.p;try{nt.p=2,qd(e,n,a,o)}finally{nt.p=f,K.T=h}}function Qb(e,n,a,o){var h=K.T;K.T=null;var f=nt.p;try{nt.p=8,qd(e,n,a,o)}finally{nt.p=f,K.T=h}}function qd(e,n,a,o){if(Vc){var h=Hd(o);if(h===null)Cd(e,n,o,Mc,a),G_(e,o);else if(Xb(h,e,n,a,o))o.stopPropagation();else if(G_(e,o),n&4&&-1<Yb.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=oi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-fe(p);E.entanglements[1]|=I,p&=~I}Ri(f),(qt&6)===0&&(pc=en()+500,_l(0))}}break;case 31:case 13:E=Ns(f,2),E!==null&&hn(E,f,2),_c(),Bd(f,2)}if(f=Hd(o),f===null&&Cd(e,n,o,Mc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Cd(e,n,o,null,a)}}function Hd(e){return e=In(e),Fd(e)}var Mc=null;function Fd(e){if(Mc=null,e=fi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Mc=e,null}function F_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case Io:return 2;case Co:return 8;case hr:case Xh:return 32;case fu:return 268435456;default:return 32}default:return 32}}var Gd=!1,Pr=null,zr=null,jr=null,wl=new Map,Rl=new Map,Br=[],Yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(e,n){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(n.pointerId)}}function Il(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&q_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Xb(e,n,a,o,h){switch(n){case"focusin":return Pr=Il(Pr,e,n,a,o,h),!0;case"dragenter":return zr=Il(zr,e,n,a,o,h),!0;case"mouseover":return jr=Il(jr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return wl.set(f,Il(wl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Rl.set(f,Il(Rl.get(f)||null,e,n,a,o,h)),!0}return!1}function K_(e){var n=fi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Hn(e.priority,function(){H_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,Hn(e.priority,function(){H_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Hd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);jo=o,a.target.dispatchEvent(o),jo=null}else return n=Rn(a),n!==null&&q_(n),e.blockedOn=a,!1;n.shift()}return!0}function Q_(e,n,a){kc(e)&&a.delete(n)}function $b(){Gd=!1,Pr!==null&&kc(Pr)&&(Pr=null),zr!==null&&kc(zr)&&(zr=null),jr!==null&&kc(jr)&&(jr=null),wl.forEach(Q_),Rl.forEach(Q_)}function Uc(e,n){e.blockedOn===n&&(e.blockedOn=null,Gd||(Gd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$b)))}var Lc=null;function Y_(e){Lc!==e&&(Lc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lc===e&&(Lc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Fd(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(n,3),n-=3,Hf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function qa(e){function n(I){return Uc(I,e)}Pr!==null&&Uc(Pr,e),zr!==null&&Uc(zr,e),jr!==null&&Uc(jr,e),wl.forEach(n),Rl.forEach(n);for(var a=0;a<Br.length;a++){var o=Br[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Br.length&&(a=Br[0],a.blockedOn===null);)K_(a),a.blockedOn===null&&Br.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[ke]||null;if(typeof f=="function")p||Y_(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)E=p.formAction;else if(Fd(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Y_(a)}}}function X_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Kd(e){this._internalRoot=e}Pc.prototype.render=Kd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=An();j_(a,o,e,n,null,null)},Pc.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;j_(e.current,2,null,e,null,null),_c(),n[ci]=null}};function Pc(e){this._internalRoot=e}Pc.prototype.unstable_scheduleHydration=function(e){if(e){var n=_u();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Br.length&&n!==0&&n<Br[a].priority;a++);Br.splice(a,0,e),a===0&&K_(e)}};var $_=t.version;if($_!=="19.2.4")throw Error(s(527,$_,"19.2.4"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Jb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Bn=zc.inject(Jb),je=zc}catch{}}return Nl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=iy,f=ry,p=sy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=P_(e,1,!1,null,null,a,o,null,h,f,p,X_),e[ci]=n.current,Id(e),new Kd(n)},Nl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=iy,p=ry,E=sy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=P_(e,1,!0,n,a??null,o,h,I,f,p,E,X_),n.context=z_(null),a=n.current,o=An(),o=ys(o),h=Rr(o),h.callback=null,Ir(a,h,o),a=o,n.current.lanes=a,gs(n,a),Ri(n),e[ci]=n.current,Id(e),new Pc(n)},Nl.version="19.2.4",Nl}var av;function oA(){if(av)return Xd.exports;av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Xd.exports=aA(),Xd.exports}var lA=oA();const uA=()=>{};var ov={};const P0=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},cA=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},z0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,T=c>>2,A=(c&3)<<4|g>>4;let w=(g&15)<<2|y>>6,H=y&63;_||(H=64,d||(w=64)),s.push(i[T],i[A],i[w],i[H])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(P0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):cA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new hA;const w=c<<2|g>>4;if(s.push(w),y!==64){const H=g<<4&240|y>>2;if(s.push(H),A!==64){const q=y<<6&192|A;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class hA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fA=function(r){const t=P0(r);return z0.encodeByteArray(t,!0)},ih=function(r){return fA(r).replace(/\./g,"")},j0=function(r){try{return z0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function dA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const mA=()=>dA().__FIREBASE_DEFAULTS__,gA=()=>{if(typeof process>"u"||typeof ov>"u")return;const r=ov.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&j0(r[1]);return t&&JSON.parse(t)},Ah=()=>{try{return uA()||mA()||gA()||pA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},B0=r=>Ah()?.emulatorHosts?.[r],yA=r=>{const t=B0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},q0=()=>Ah()?.config,H0=r=>Ah()?.[`_${r}`];class _A{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function mo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F0(r){return(await fetch(r,{credentials:"include"})).ok}function vA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ih(JSON.stringify(i)),ih(JSON.stringify(d)),""].join(".")}const Ll={};function EA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ll))Ll[t]?r.emulator.push(t):r.prod.push(t);return r}function TA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let lv=!1;function G0(r,t){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Ll[r]===t||Ll[r]||lv)return;Ll[r]=t;function i(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=EA().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function _(w,H){w.setAttribute("width","24"),w.setAttribute("id",H),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{lv=!0,d()},w}function T(w,H){w.setAttribute("id",H),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=TA(s),H=i("text"),q=document.getElementById(H)||document.createElement("span"),Q=i("learnmore"),Z=document.getElementById(Q)||document.createElement("a"),tt=i("preprendIcon"),ft=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ht=w.element;g(ht),T(Z,Q);const Mt=y();_(ft,tt),ht.append(ft,q,Z,Mt),document.body.appendChild(ht)}c?(q.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function AA(){const r=Ah()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function RA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IA(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function CA(){return!AA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NA(){try{return typeof indexedDB=="object"}catch{return!1}}function DA(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const xA="FirebaseError";class ar extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=xA,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?OA(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ar(l,g,s)}}function OA(r,t){return r.replace(VA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const VA=/\{\$([^}]+)}/g;function MA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function es(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(uv(c)&&uv(d)){if(!es(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function uv(r){return r!==null&&typeof r=="object"}function tu(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function xl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Ol(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function kA(r,t){const i=new UA(r,t);return i.subscribe.bind(i)}class UA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");LA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Wd),l.error===void 0&&(l.error=Wd),l.complete===void 0&&(l.complete=Wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Wd(){}function Ne(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qs="[DEFAULT]";class PA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new _A;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jA(t))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=qs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qs){return this.instances.has(t)}getOptions(t=qs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=qs){return this.component?this.component.multipleInstances?t:qs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zA(r){return r===qs?void 0:r}function jA(r){return r.instantiationMode==="EAGER"}class BA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new PA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const qA={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},HA=Dt.INFO,FA={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},GA=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=FA[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jm{constructor(t){this.name=t,this._logLevel=HA,this._logHandler=GA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const KA=(r,t)=>t.some(i=>r instanceof i);let cv,hv;function QA(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YA(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K0=new WeakMap,hm=new WeakMap,Q0=new WeakMap,tm=new WeakMap,Bm=new WeakMap;function XA(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Xr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&K0.set(i,r)}).catch(()=>{}),Bm.set(t,r),t}function $A(r){if(hm.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});hm.set(r,t)}let fm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return hm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Q0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Xr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function JA(r){fm=r(fm)}function ZA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(em(this),t,...i);return Q0.set(s,t.sort?t.sort():[t]),Xr(s)}:YA().includes(r)?function(...t){return r.apply(em(this),t),Xr(K0.get(this))}:function(...t){return Xr(r.apply(em(this),t))}}function WA(r){return typeof r=="function"?ZA(r):(r instanceof IDBTransaction&&$A(r),KA(r,QA())?new Proxy(r,fm):r)}function Xr(r){if(r instanceof IDBRequest)return XA(r);if(tm.has(r))return tm.get(r);const t=WA(r);return t!==r&&(tm.set(r,t),Bm.set(t,r)),t}const em=r=>Bm.get(r);function tS(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Xr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Xr(d.result),_.oldVersion,_.newVersion,Xr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const eS=["get","getKey","getAll","getAllKeys","count"],nS=["put","add","delete","clear"],nm=new Map;function fv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(nm.get(t))return nm.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=nS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||eS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return nm.set(t,c),c}JA(r=>({...r,get:(t,i,s)=>fv(t,i)||r.get(t,i,s),has:(t,i)=>!!fv(t,i)||r.has(t,i)}));class iS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(rS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function rS(r){return r.getComponent()?.type==="VERSION"}const dm="@firebase/app",dv="0.14.7";const nr=new jm("@firebase/app"),sS="@firebase/app-compat",aS="@firebase/analytics-compat",oS="@firebase/analytics",lS="@firebase/app-check-compat",uS="@firebase/app-check",cS="@firebase/auth",hS="@firebase/auth-compat",fS="@firebase/database",dS="@firebase/data-connect",mS="@firebase/database-compat",gS="@firebase/functions",pS="@firebase/functions-compat",yS="@firebase/installations",_S="@firebase/installations-compat",vS="@firebase/messaging",ES="@firebase/messaging-compat",TS="@firebase/performance",bS="@firebase/performance-compat",AS="@firebase/remote-config",SS="@firebase/remote-config-compat",wS="@firebase/storage",RS="@firebase/storage-compat",IS="@firebase/firestore",CS="@firebase/ai",NS="@firebase/firestore-compat",DS="firebase",xS="12.8.0";const mm="[DEFAULT]",OS={[dm]:"fire-core",[sS]:"fire-core-compat",[oS]:"fire-analytics",[aS]:"fire-analytics-compat",[uS]:"fire-app-check",[lS]:"fire-app-check-compat",[cS]:"fire-auth",[hS]:"fire-auth-compat",[fS]:"fire-rtdb",[dS]:"fire-data-connect",[mS]:"fire-rtdb-compat",[gS]:"fire-fn",[pS]:"fire-fn-compat",[yS]:"fire-iid",[_S]:"fire-iid-compat",[vS]:"fire-fcm",[ES]:"fire-fcm-compat",[TS]:"fire-perf",[bS]:"fire-perf-compat",[AS]:"fire-rc",[SS]:"fire-rc-compat",[wS]:"fire-gcs",[RS]:"fire-gcs-compat",[IS]:"fire-fst",[NS]:"fire-fst-compat",[CS]:"fire-vertex","fire-js":"fire-js",[DS]:"fire-js-all"};const rh=new Map,VS=new Map,gm=new Map;function mv(r,t){try{r.container.addComponent(t)}catch(i){nr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function no(r){const t=r.name;if(gm.has(t))return nr.debug(`There were multiple attempts to register component ${t}.`),!1;gm.set(t,r);for(const i of rh.values())mv(i,r);for(const i of VS.values())mv(i,r);return!0}function qm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function dn(r){return r==null?!1:r.settings!==void 0}const MS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new Wl("app","Firebase",MS);class kS{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}const go=xS;function Y0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:mm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw $r.create("bad-app-name",{appName:String(l)});if(i||(i=q0()),!i)throw $r.create("no-options");const c=rh.get(l);if(c){if(es(i,c.options)&&es(s,c.config))return c;throw $r.create("duplicate-app",{appName:l})}const d=new BA(l);for(const _ of gm.values())d.addComponent(_);const g=new kS(i,s,d);return rh.set(l,g),g}function X0(r=mm){const t=rh.get(r);if(!t&&r===mm&&q0())return Y0();if(!t)throw $r.create("no-app",{appName:r});return t}function Jr(r,t,i){let s=OS[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nr.warn(d.join(" "));return}no(new Gs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const US="firebase-heartbeat-database",LS=1,Hl="firebase-heartbeat-store";let im=null;function $0(){return im||(im=tS(US,LS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Hl)}catch(i){console.warn(i)}}}}).catch(r=>{throw $r.create("idb-open",{originalErrorMessage:r.message})})),im}async function PS(r){try{const i=(await $0()).transaction(Hl),s=await i.objectStore(Hl).get(J0(r));return await i.done,s}catch(t){if(t instanceof ar)nr.warn(t.message);else{const i=$r.create("idb-get",{originalErrorMessage:t?.message});nr.warn(i.message)}}}async function gv(r,t){try{const s=(await $0()).transaction(Hl,"readwrite");await s.objectStore(Hl).put(t,J0(r)),await s.done}catch(i){if(i instanceof ar)nr.warn(i.message);else{const s=$r.create("idb-set",{originalErrorMessage:i?.message});nr.warn(s.message)}}}function J0(r){return`${r.name}!${r.options.appId}`}const zS=1024,jS=30;class BS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new HS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>jS){const l=FS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){nr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pv(),{heartbeatsToSend:i,unsentEntries:s}=qS(this._heartbeatsCache.heartbeats),l=ih(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return nr.warn(t),""}}}function pv(){return new Date().toISOString().substring(0,10)}function qS(r,t=zS){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),yv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),yv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class HS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NA()?DA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await PS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function yv(r){return ih(JSON.stringify({version:2,heartbeats:r})).length}function FS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function GS(r){no(new Gs("platform-logger",t=>new iS(t),"PRIVATE")),no(new Gs("heartbeat",t=>new BS(t),"PRIVATE")),Jr(dm,dv,r),Jr(dm,dv,"esm2020"),Jr("fire-js","")}GS("");var KS="firebase",QS="12.8.0";Jr(KS,QS,"app");function Z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YS=Z0,W0=new Wl("auth","Firebase",Z0());const sh=new jm("@firebase/auth");function XS(r,...t){sh.logLevel<=Dt.WARN&&sh.warn(`Auth (${go}): ${r}`,...t)}function Qc(r,...t){sh.logLevel<=Dt.ERROR&&sh.error(`Auth (${go}): ${r}`,...t)}function ii(r,...t){throw Hm(r,...t)}function Ci(r,...t){return Hm(r,...t)}function tE(r,t,i){const s={...YS(),[t]:i};return new Wl("auth","Firebase",s).create(t,{appName:r.name})}function ti(r){return tE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return W0.create(r,...t)}function gt(r,t,...i){if(!r)throw Hm(t,...i)}function tr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Qc(t),new Error(t)}function ir(r,t){r||tr(t)}function pm(){return typeof self<"u"&&self.location?.href||""}function $S(){return _v()==="http:"||_v()==="https:"}function _v(){return typeof self<"u"&&self.location?.protocol||null}function JS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($S()||wA()||"connection"in navigator)?navigator.onLine:!0}function ZS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class eu{constructor(t,i){this.shortDelay=t,this.longDelay=i,ir(i>t,"Short delay should be less than long delay!"),this.isMobile=bA()||RA()}get(){return JS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fm(r,t){ir(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class eE{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const WS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ew=new eu(3e4,6e4);function or(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function lr(r,t,i,s,l={}){return nE(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=tu({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return SA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&mo(r.emulatorConfig.host)&&(y.credentials="include"),eE.fetch()(await iE(r,r.config.apiHost,i,g),y)})}async function nE(r,t,i){r._canInitEmulator=!1;const s={...WS,...t};try{const l=new iw(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw jc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw jc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw jc(r,"user-disabled",d);const T=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw tE(r,T,y);ii(r,T)}}catch(l){if(l instanceof ar)throw l;ii(r,"network-request-failed",{message:String(l)})}}async function po(r,t,i,s,l={}){const c=await lr(r,t,i,s,l);return"mfaPendingCredential"in c&&ii(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function iE(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?Fm(r.config,l):`${r.config.apiScheme}://${l}`;return tw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function nw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),ew.get())})}}function jc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ci(r,t,s);return l.customData._tokenResponse=i,l}function vv(r){return r!==void 0&&r.enterprise!==void 0}class rw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return nw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sw(r,t){return lr(r,"GET","/v2/recaptchaConfig",or(r,t))}async function aw(r,t){return lr(r,"POST","/v1/accounts:delete",t)}async function ah(r,t){return lr(r,"POST","/v1/accounts:lookup",t)}function Pl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ow(r,t=!1){const i=Ne(r),s=await i.getIdToken(t),l=Gm(s);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Pl(rm(l.auth_time)),issuedAtTime:Pl(rm(l.iat)),expirationTime:Pl(rm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function rm(r){return Number(r)*1e3}function Gm(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const l=j0(i);return l?JSON.parse(l):(Qc("Failed to decode base64 JWT payload"),null)}catch(l){return Qc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Ev(r){const t=Gm(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function io(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof ar&&lw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function lw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class uw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ym{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oh(r){const t=r.auth,i=await r.getIdToken(),s=await io(r,ah(t,{idToken:i}));gt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?rE(l.providerUserInfo):[],d=hw(r.providerData,c),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=g?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function cw(r){const t=Ne(r);await oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hw(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function rE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function fw(r,t){const i=await nE(r,{},async()=>{const s=tu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await iE(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:s};return r.emulatorConfig&&mo(r.emulatorConfig.host)&&(_.credentials="include"),eE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function dw(r,t){return lr(r,"POST","/v2/accounts:revokeToken",or(r,t))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ev(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=Ev(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await fw(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Xa;return s&&(gt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return tr("not implemented")}}function Hr(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new uw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await io(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return ow(this,t)}reload(){return cw(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(ti(this.auth));const t=await this.getIdToken();return await io(this,aw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:H,providerData:q,stsTokenManager:Q}=i;gt(A&&Q,t,"internal-error");const Z=Xa.fromJSON(this.name,Q);gt(typeof A=="string",t,"internal-error"),Hr(s,t.name),Hr(l,t.name),gt(typeof w=="boolean",t,"internal-error"),gt(typeof H=="boolean",t,"internal-error"),Hr(c,t.name),Hr(d,t.name),Hr(g,t.name),Hr(_,t.name),Hr(y,t.name),Hr(T,t.name);const tt=new Wn({uid:A,auth:t,email:l,emailVerified:w,displayName:s,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:y,lastLoginAt:T});return q&&Array.isArray(q)&&(tt.providerData=q.map(ft=>({...ft}))),_&&(tt._redirectEventId=_),tt}static async _fromIdTokenResponse(t,i,s=!1){const l=new Xa;l.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await oh(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?rE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Xa;g.updateFromIdToken(s);const _=new Wn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Tv=new Map;function er(r){ir(r instanceof Function,"Expected a class definition");let t=Tv.get(r);return t?(ir(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Tv.set(r,t),t)}class sE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}sE.type="NONE";const bv=sE;function Yc(r,t,i){return`firebase:${r}:${t}:${i}`}class $a{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Yc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Yc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ah(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new $a(er(bv),t,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||er(bv);const d=Yc(s,t.config.apiKey,t.name);let g=null;for(const y of i)try{const T=await y._get(d);if(T){let A;if(typeof T=="string"){const w=await ah(t,{idToken:T}).catch(()=>{});if(!w)break;A=await Wn._fromGetAccountInfoResponse(t,w,T)}else A=Wn._fromJSON(t,T);y!==c&&(g=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new $a(c,t,s):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new $a(c,t,s))}}function Av(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(uE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(aE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hE(t))return"Blackberry";if(fE(t))return"Webos";if(oE(t))return"Safari";if((t.includes("chrome/")||lE(t))&&!t.includes("edge/"))return"Chrome";if(cE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function aE(r=tn()){return/firefox\//i.test(r)}function oE(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function lE(r=tn()){return/crios\//i.test(r)}function uE(r=tn()){return/iemobile/i.test(r)}function cE(r=tn()){return/android/i.test(r)}function hE(r=tn()){return/blackberry/i.test(r)}function fE(r=tn()){return/webos/i.test(r)}function Km(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mw(r=tn()){return Km(r)&&!!window.navigator?.standalone}function gw(){return IA()&&document.documentMode===10}function dE(r=tn()){return Km(r)||cE(r)||fE(r)||hE(r)||/windows phone/i.test(r)||uE(r)}function mE(r,t=[]){let i;switch(r){case"Browser":i=Av(tn());break;case"Worker":i=`${Av(tn())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${go}/${s}`}class pw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function yw(r,t={}){return lr(r,"GET","/v2/passwordPolicy",or(r,t))}const _w=6;class vw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??_w,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Ew{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sv(this),this.idTokenSubscription=new Sv(this),this.beforeStateQueue=new pw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=er(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ah(this,{idToken:t}),s=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(dn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await oh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(dn(this.app))return Promise.reject(ti(this));const i=t?Ne(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return dn(this.app)?Promise.reject(ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yw(this),i=new vw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Wl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await dw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&er(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[er(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=mE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&XS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ur(r){return Ne(r)}class Sv{constructor(t){this.auth=t,this.observer=null,this.addObserver=kA(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tw(r){Sh=r}function gE(r){return Sh.loadJS(r)}function bw(){return Sh.recaptchaEnterpriseScript}function Aw(){return Sh.gapiScript}function Sw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class ww{constructor(){this.enterprise=new Rw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Rw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Iw="recaptcha-enterprise",pE="NO_RECAPTCHA";class Cw{constructor(t){this.type=Iw,this.auth=ur(t)}async verify(t="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{sw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new rw(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{g(_)})})}function l(c,d,g){const _=window.grecaptcha;vv(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(pE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ww().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(g=>{if(!i&&vv(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=bw();_.length!==0&&(_+=g),gE(_).then(()=>{l(g,c,d)}).catch(y=>{d(y)})}}).catch(g=>{d(g)})})}}async function wv(r,t,i,s=!1,l=!1){const c=new Cw(r);let d;if(l)d=pE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const _=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const _=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function _m(r,t,i,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await wv(r,t,i,i==="getOobCode");return s(r,c)}else return s(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await wv(r,t,i,i==="getOobCode");return s(r,d)}else return Promise.reject(c)})}function Nw(r,t){const i=qm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(es(c,t??{}))return l;ii(l,"already-initialized")}return i.initialize({options:t})}function Dw(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(er);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function xw(r,t,i){const s=ur(r);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=yE(t),{host:d,port:g}=Ow(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt(es(y,s.config.emulator)&&es(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,mo(d)?(F0(`${c}//${d}${_}`),G0("Auth",!0)):Vw()}function yE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Ow(r){const t=yE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Rv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Rv(d)}}}function Rv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Vw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Qm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return tr("not implemented")}_getIdTokenResponse(t){return tr("not implemented")}_linkToIdToken(t,i){return tr("not implemented")}_getReauthenticationResolver(t){return tr("not implemented")}}async function Mw(r,t){return lr(r,"POST","/v1/accounts:signUp",t)}async function kw(r,t){return po(r,"POST","/v1/accounts:signInWithPassword",or(r,t))}async function Uw(r,t){return po(r,"POST","/v1/accounts:signInWithEmailLink",or(r,t))}async function Lw(r,t){return po(r,"POST","/v1/accounts:signInWithEmailLink",or(r,t))}class Fl extends Qm{constructor(t,i,s,l=null){super("password",s),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Fl(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new Fl(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(t,i,"signInWithPassword",kw);case"emailLink":return Uw(t,{email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(t,s,"signUpPassword",Mw);case"emailLink":return Lw(t,{idToken:i,email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ja(r,t){return po(r,"POST","/v1/accounts:signInWithIdp",or(r,t))}const Pw="http://localhost";class Ks extends Qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ks(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ii("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Ks(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ja(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:Pw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=tu(i)}return t}}function zw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jw(r){const t=xl(Ol(r)).link,i=t?xl(Ol(t)).deep_link_id:null,s=xl(Ol(r)).deep_link_id;return(s?xl(Ol(s)).link:null)||s||i||t||r}class Ym{constructor(t){const i=xl(Ol(t)),s=i.apiKey??null,l=i.oobCode??null,c=zw(i.mode??null);gt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=jw(t);try{return new Ym(i)}catch{return null}}}class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(t,i){return Fl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=Ym.parseLink(i);return gt(s,"argument-error"),Fl._fromEmailAndCode(t,s.code,s.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class _E{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class nu extends _E{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Fr extends nu{constructor(){super("facebook.com")}static credential(t){return Ks._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";class Gr extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ks._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Gr.credential(i,s)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";class Kr extends nu{constructor(){super("github.com")}static credential(t){return Ks._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kr.credential(t.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";class Qr extends nu{constructor(){super("twitter.com")}static credential(t,i){return Ks._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Qr.credential(i,s)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";async function vE(r,t){return po(r,"POST","/v1/accounts:signUp",or(r,t))}class Vi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Wn._fromIdTokenResponse(t,s,l),d=Iv(s);return new Vi({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=Iv(s);return new Vi({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function Iv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Bw(r){if(dn(r.app))return Promise.reject(ti(r));const t=ur(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Vi({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await vE(t,{returnSecureToken:!0}),s=await Vi._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(s.user),s}class lh extends ar{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new lh(t,i,s,l)}}function EE(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(r,c,t,s):c})}async function qw(r,t,i=!1){const s=await io(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Vi._forOperation(r,"link",s)}async function Hw(r,t,i=!1){const{auth:s}=r;if(dn(s.app))return Promise.reject(ti(s));const l="reauthenticate";try{const c=await io(r,EE(s,l,t,r),i);gt(c.idToken,s,"internal-error");const d=Gm(c.idToken);gt(d,s,"internal-error");const{sub:g}=d;return gt(r.uid===g,s,"user-mismatch"),Vi._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ii(s,"user-mismatch"),c}}async function TE(r,t,i=!1){if(dn(r.app))return Promise.reject(ti(r));const s="signIn",l=await EE(r,s,t),c=await Vi._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function Fw(r,t){return TE(ur(r),t)}async function Gw(r,t){return po(r,"POST","/v1/accounts:signInWithCustomToken",or(r,t))}async function Kw(r,t){if(dn(r.app))return Promise.reject(ti(r));const i=ur(r),s=await Gw(i,{token:t,returnSecureToken:!0}),l=await Vi._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}async function bE(r){const t=ur(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Qw(r,t,i){if(dn(r.app))return Promise.reject(ti(r));const s=ur(r),d=await _m(s,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vE).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&bE(r),_}),g=await Vi._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(g.user),g}function Yw(r,t,i){return dn(r.app)?Promise.reject(ti(r)):Fw(Ne(r),yo.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bE(r),s})}async function Xw(r,t){return lr(r,"POST","/v1/accounts:update",t)}async function $w(r,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const s=Ne(r),c={idToken:await s.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await io(s,Xw(s.auth,c));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const g=s.providerData.find(({providerId:_})=>_==="password");g&&(g.displayName=s.displayName,g.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function Jw(r,t,i,s){return Ne(r).onIdTokenChanged(t,i,s)}function Zw(r,t,i){return Ne(r).beforeAuthStateChanged(t,i)}function Ww(r,t,i,s){return Ne(r).onAuthStateChanged(t,i,s)}function tR(r){return Ne(r).signOut()}const uh="__sak";class AE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const eR=1e3,nR=10;class SE extends AE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);gw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,nR):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},eR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}SE.type="LOCAL";const iR=SE;class wE extends AE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}wE.type="SESSION";const RE=wE;function rR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class wh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new wh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await rR(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];function Xm(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class sR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Xm("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(w.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function aR(r){Ni().location.href=r}function IE(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function oR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lR(){return navigator?.serviceWorker?.controller||null}function uR(){return IE()?self:null}const CE="firebaseLocalStorageDb",cR=1,ch="firebaseLocalStorage",NE="fbase_key";class iu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Rh(r,t){return r.transaction([ch],t?"readwrite":"readonly").objectStore(ch)}function hR(){const r=indexedDB.deleteDatabase(CE);return new iu(r).toPromise()}function vm(){const r=indexedDB.open(CE,cR);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ch,{keyPath:NE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ch)?t(s):(s.close(),await hR(),t(await vm()))})})}async function Cv(r,t,i){const s=Rh(r,!0).put({[NE]:t,value:i});return new iu(s).toPromise()}async function fR(r,t){const i=Rh(r,!1).get(t),s=await new iu(i).toPromise();return s===void 0?null:s.value}function Nv(r,t){const i=Rh(r,!0).delete(t);return new iu(i).toPromise()}const dR=800,mR=3;class DE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>mR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(uR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oR(),!this.activeServiceWorker)return;this.sender=new sR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vm();return await Cv(t,uh,"1"),await Nv(t,uh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Cv(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>fR(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Rh(l,!1).getAll();return new iu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DE.type="LOCAL";const gR=DE;new eu(3e4,6e4);function pR(r,t){return t?er(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class $m extends Qm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function yR(r){return TE(r.auth,new $m(r),r.bypassAuthState)}function _R(r){const{auth:t,user:i}=r;return gt(i,t,"internal-error"),Hw(i,new $m(r),r.bypassAuthState)}async function vR(r){const{auth:t,user:i}=r;return gt(i,t,"internal-error"),qw(i,new $m(r),r.bypassAuthState)}class xE{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return yR;case"linkViaPopup":case"linkViaRedirect":return vR;case"reauthViaPopup":case"reauthViaRedirect":return _R;default:ii(this.auth,"internal-error")}}resolve(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ER=new eu(2e3,1e4);class Qa extends xE{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const t=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ER.get())};t()}}Qa.currentPopupAction=null;const TR="pendingRedirect",Xc=new Map;class bR extends xE{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Xc.get(this.auth._key());if(!t){try{const s=await AR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Xc.set(this.auth._key(),t)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AR(r,t){const i=RR(t),s=wR(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function SR(r,t){Xc.set(r._key(),t)}function wR(r){return er(r._redirectPersistence)}function RR(r){return Yc(TR,r.config.apiKey,r.name)}async function IR(r,t,i=!1){if(dn(r.app))return Promise.reject(ti(r));const s=ur(r),l=pR(s,t),d=await new bR(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const CR=600*1e3;class NR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!DR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!OE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ci(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=CR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dv(t))}saveEventToCache(t){this.cachedEventUids.add(Dv(t)),this.lastProcessedEventTime=Date.now()}}function Dv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function OE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function DR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OE(r);default:return!1}}async function xR(r,t={}){return lr(r,"GET","/v1/projects",t)}const OR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VR=/^https?/;async function MR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await xR(r);for(const i of t)try{if(kR(i))return}catch{}ii(r,"unauthorized-domain")}function kR(r){const t=pm(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!VR.test(i))return!1;if(OR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const UR=new eu(3e4,6e4);function xv(){const r=Ni().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function LR(r){return new Promise((t,i)=>{function s(){xv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xv(),i(Ci(r,"network-request-failed"))},timeout:UR.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)s();else{const l=Sw("iframefcb");return Ni()[l]=()=>{gapi.load?s():i(Ci(r,"network-request-failed"))},gE(`${Aw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw $c=null,t})}let $c=null;function PR(r){return $c=$c||LR(r),$c}const zR=new eu(5e3,15e3),jR="__/auth/iframe",BR="emulator/auth/iframe",qR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FR(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Fm(t,BR):`https://${r.config.authDomain}/${jR}`,s={apiKey:t.apiKey,appName:r.name,v:go},l=HR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${tu(s).slice(1)}`}async function GR(r){const t=await PR(r),i=Ni().gapi;return gt(i,r,"internal-error"),t.open({where:document.body,url:FR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ci(r,"network-request-failed"),g=Ni().setTimeout(()=>{c(d)},zR.get());function _(){Ni().clearTimeout(g),l(s)}s.ping(_).then(_,()=>{c(d)})}))}const KR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QR=500,YR=600,XR="_blank",$R="http://localhost";class Ov{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JR(r,t,i,s=QR,l=YR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const _={...KR,width:s.toString(),height:l.toString(),top:c,left:d},y=tn().toLowerCase();i&&(g=lE(y)?XR:i),aE(y)&&(t=t||$R,_.scrollbars="yes");const T=Object.entries(_).reduce((w,[H,q])=>`${w}${H}=${q},`,"");if(mw(y)&&g!=="_self")return ZR(t||"",g),new Ov(null);const A=window.open(t||"",g,T);gt(A,r,"popup-blocked");try{A.focus()}catch{}return new Ov(A)}function ZR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const WR="__/auth/handler",t2="emulator/auth/handler",e2=encodeURIComponent("fac");async function Vv(r,t,i,s,l,c){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:go,eventId:l};if(t instanceof _E){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",MA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(t instanceof nu){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await r._getAppCheckToken(),y=_?`#${e2}=${encodeURIComponent(_)}`:"";return`${n2(r)}?${tu(g).slice(1)}${y}`}function n2({config:r}){return r.emulator?Fm(r,t2):`https://${r.authDomain}/${WR}`}const sm="webStorageSupport";class i2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RE,this._completeRedirectFn=IR,this._overrideRedirectResult=SR}async _openPopup(t,i,s,l){ir(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Vv(t,i,s,pm(),l);return JR(t,c,Xm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await Vv(t,i,s,pm(),l);return aR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ir(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await GR(t),s=new NR(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(sm,{type:sm},l=>{const c=l?.[0]?.[sm];c!==void 0&&i(!!c),ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=MR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return dE()||oE()||Km()}}const r2=i2;var Mv="@firebase/auth",kv="1.12.0";class s2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function a2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o2(r){no(new Gs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mE(r)},y=new Ew(s,l,c,_);return Dw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),no(new Gs("auth-internal",t=>{const i=ur(t.getProvider("auth").getImmediate());return(s=>new s2(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(Mv,kv,a2(r)),Jr(Mv,kv,"esm2020")}const l2=300,u2=H0("authIdTokenMaxAge")||l2;let Uv=null;const c2=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>u2)return;const l=i?.token;Uv!==l&&(Uv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function h2(r=X0()){const t=qm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Nw(r,{popupRedirectResolver:r2,persistence:[gR,iR,RE]}),s=H0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=c2(c.toString());Zw(i,d,()=>d(i.currentUser)),Jw(i,g=>d(g))}}const l=B0("auth");return l&&xw(i,`http://${l}`),i}function f2(){return document.getElementsByTagName("head")?.[0]??document}Tw({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Ci("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",f2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o2("Browser");var Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zr,VE;(function(){var r;function t(N,S){function C(){}C.prototype=S.prototype,N.F=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,O,U){for(var R=Array(arguments.length-2),re=2;re<arguments.length;re++)R[re-2]=arguments[re];return S.prototype[O].apply(M,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,C){C||(C=0);const M=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)M[O]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(O=0;O<16;++O)M[O]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],O=N.g[2];let U=N.g[3],R;R=S+(U^C&(O^U))+M[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=U+(O^S&(C^O))+M[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(C^U&(S^C))+M[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(S^O&(U^S))+M[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=S+(U^C&(O^U))+M[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=U+(O^S&(C^O))+M[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(C^U&(S^C))+M[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(S^O&(U^S))+M[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=S+(U^C&(O^U))+M[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=U+(O^S&(C^O))+M[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(C^U&(S^C))+M[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(S^O&(U^S))+M[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=S+(U^C&(O^U))+M[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=U+(O^S&(C^O))+M[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(C^U&(S^C))+M[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(S^O&(U^S))+M[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=S+(O^U&(C^O))+M[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(S^C))+M[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^C&(U^S))+M[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^S&(O^U))+M[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(C^O))+M[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(S^C))+M[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^C&(U^S))+M[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^S&(O^U))+M[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(C^O))+M[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(S^C))+M[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^C&(U^S))+M[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^S&(O^U))+M[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(C^O))+M[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(S^C))+M[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^C&(U^S))+M[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^S&(O^U))+M[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=S+(C^O^U)+M[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=U+(S^C^O)+M[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^C)+M[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^S)+M[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=S+(C^O^U)+M[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=U+(S^C^O)+M[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^C)+M[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^S)+M[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=S+(C^O^U)+M[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=U+(S^C^O)+M[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^C)+M[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^S)+M[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=S+(C^O^U)+M[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=U+(S^C^O)+M[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^C)+M[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^S)+M[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=S+(O^(C|~U))+M[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=U+(C^(S|~O))+M[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~C))+M[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~S))+M[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=S+(O^(C|~U))+M[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=U+(C^(S|~O))+M[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~C))+M[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~S))+M[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=S+(O^(C|~U))+M[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=U+(C^(S|~O))+M[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~C))+M[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~S))+M[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=S+(O^(C|~U))+M[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=U+(C^(S|~O))+M[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~C))+M[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~S))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.v=function(N,S){S===void 0&&(S=N.length);const C=S-this.blockSize,M=this.C;let O=this.h,U=0;for(;U<S;){if(O==0)for(;U<=C;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(M[O++]=N.charCodeAt(U++),O==this.blockSize){l(this,M),O=0;break}}else for(;U<S;)if(M[O++]=N[U++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=S},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[S++]=this.g[C]>>>M&255;return N};function c(N,S){var C=g;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function d(N,S){this.h=S;const C=[];let M=!0;for(let O=N.length-1;O>=0;O--){const U=N[O]|0;M&&U==S||(C[O]=U,M=!1)}this.g=C}var g={};function _(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return Z(y(-N));const S=[];let C=1;for(let M=0;N>=C;M++)S[M]=N/C|0,C*=4294967296;return new d(S,0)}function T(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return Z(T(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let M=A;for(let U=0;U<N.length;U+=8){var O=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+O),S);O<8?(O=y(Math.pow(S,O)),M=M.j(O).add(y(R))):(M=M.j(C),M=M.add(y(R)))}return M}var A=_(0),w=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(Q(this))return-Z(this).m();let N=0,S=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(q(this))return"0";if(Q(this))return"-"+Z(this).toString(N);const S=y(Math.pow(N,6));var C=this;let M="";for(;;){const O=Mt(C,S).g;C=tt(C,O.j(S));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=O,q(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function q(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function Q(N){return N.h==-1}r.l=function(N){return N=tt(this,N),Q(N)?-1:q(N)?0:1};function Z(N){const S=N.g.length,C=[];for(let M=0;M<S;M++)C[M]=~N.g[M];return new d(C,~N.h).add(w)}r.abs=function(){return Q(this)?Z(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let O=0;O<=S;O++){let U=M+(this.i(O)&65535)+(N.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);M=R>>>16,U&=65535,R&=65535,C[O]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function tt(N,S){return N.add(Z(S))}r.j=function(N){if(q(this)||q(N))return A;if(Q(this))return Q(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(Q(N))return Z(this.j(Z(N)));if(this.l(H)<0&&N.l(H)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,C=[];for(var M=0;M<2*S;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<N.g.length;O++){const U=this.i(M)>>>16,R=this.i(M)&65535,re=N.i(O)>>>16,De=N.i(O)&65535;C[2*M+2*O]+=R*De,ft(C,2*M+2*O),C[2*M+2*O+1]+=U*De,ft(C,2*M+2*O+1),C[2*M+2*O+1]+=R*re,ft(C,2*M+2*O+1),C[2*M+2*O+2]+=U*re,ft(C,2*M+2*O+2)}for(N=0;N<S;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=S;N<2*S;N++)C[N]=0;return new d(C,0)};function ft(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ht(N,S){this.g=N,this.h=S}function Mt(N,S){if(q(S))throw Error("division by zero");if(q(N))return new ht(A,A);if(Q(N))return S=Mt(Z(N),S),new ht(Z(S.g),Z(S.h));if(Q(S))return S=Mt(N,Z(S)),new ht(Z(S.g),S.h);if(N.g.length>30){if(Q(N)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var C=w,M=S;M.l(N)<=0;)C=Zt(C),M=Zt(M);var O=kt(C,1),U=kt(M,1);for(M=kt(M,2),C=kt(C,2);!q(M);){var R=U.add(M);R.l(N)<=0&&(O=O.add(C),U=R),M=kt(M,1),C=kt(C,1)}return S=tt(N,O.j(S)),new ht(O,S)}for(O=A;N.l(S)>=0;){for(C=Math.max(1,Math.floor(N.m()/S.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(C),R=U.j(S);Q(R)||R.l(N)>0;)C-=M,U=y(C),R=U.j(S);q(U)&&(U=w),O=O.add(U),N=tt(N,R)}return new ht(O,N)}r.B=function(N){return Mt(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)&N.i(M);return new d(C,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)|N.i(M);return new d(C,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)^N.i(M);return new d(C,this.h^N.h)};function Zt(N){const S=N.g.length+1,C=[];for(let M=0;M<S;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(C,N.h)}function kt(N,S){const C=S>>5;S%=32;const M=N.g.length-C,O=[];for(let U=0;U<M;U++)O[U]=S>0?N.i(U+C)>>>S|N.i(U+C+1)<<32-S:N.i(U+C);return new d(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,VE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Zr=d}).apply(typeof Lv<"u"?Lv:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ME,Vl,kE,Jc,Em,UE,LE,PE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var et=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)et[Tt-2]=arguments[Tt];return m.prototype[L].apply(b,et)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function q(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let et=0;et<B;et++)u[v+et]=L[et]}else u.push(L)}}class Q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function tt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,v){const b=ht.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ht=new Q(()=>new Mt,u=>u.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Zt,kt=!1,N=new ft,S=()=>{const u=Promise.resolve(void 0);Zt=()=>{u.then(C)}};function C(){for(var u;u=tt();){try{u.h.call(u.g)}catch(v){Z(v)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function re(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(re,O),re.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),K=0;function nt(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++K,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<$.length;B++)v=$[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=At(u,m,b,L);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function At(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),xe={};function se(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],v,b,L);return null}return v=Ro(v),u&&u[De]?u.J(m,v,g(b)?!!b.capture:!1,L):hs(u,m,v,!1,b,L)}function hs(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const et=g(L)?!!L.capture:!!L;let Tt=fs(u);if(Tt||(u[Ut]=Tt=new at(u)),v=Tt.add(m,v,b,et,B),v.proxy)return v;if(b=Ws(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(si(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ws(){function u(v){return m.call(u.src,u.listener,v)}const m=So;return u}function ta(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ta(u,m[B],v,b,L);else b=g(b)?!!b.capture:!!b,v=Ro(v),u&&u[De]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=At(m,v,b,L),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=fs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,v,b,L)),(v=u>-1?m[u]:null)&&ea(v))}function ea(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])yt(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(si(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=fs(m))?(yt(v,u),v.h==0&&(v.src=null,m[Ut]=null)):dt(u)}}}function si(u){return u in xe?xe[u]:xe[u]="on"+u}function So(u,m){if(u.da)u=!0;else{m=new re(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&ea(u),u=v.call(b,m)}return u}function fs(u){return u=u[Ut],u instanceof at?u:null}var wo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ro(u){return typeof u=="function"?u:(u[wo]||(u[wo]=function(m){return u.handleEvent(m)}),u[wo])}function ye(){M.call(this),this.i=new at(this),this.M=this,this.G=null}A(ye,M),ye.prototype[De]=!0,ye.prototype.removeEventListener=function(u,m,v,b){ta(this,u,m,v,b)};function Oe(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var L=m;m=new O(b,u),it(m,L)}L=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],L=cr(B,b,!0,m)&&L;if(B=m.g=u,L=cr(B,b,!0,m)&&L,L=cr(B,b,!1,m)&&L,v)for(et=0;et<v.length;et++)B=m.g=v[et],L=cr(B,b,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)dt(v[b]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},ye.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function cr(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const Tt=et.listener,de=et.ha||et.src;et.fa&&yt(u.i,et),L=Tt.call(de,b)!==!1&&L}}return L&&!b.defaultPrevented}function Yh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function hu(u){u.g=Yh(()=>{u.g=null,u.i&&(u.i=!1,hu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(u){M.call(this),this.h=u,this.g={}}A(ds,M);var Io=[];function Co(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ea(m)},u),u.g={}}ds.prototype.N=function(){ds.Z.N.call(this),Co(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hr=d.JSON.stringify,Xh=d.JSON.parse,fu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function du(){}function mu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){O.call(this,"d")}A(je,O);function wn(){O.call(this,"c")}A(wn,O);var fe={},gu=null;function na(){return gu=gu||new ye}fe.Ia="serverreachability";function pu(u){O.call(this,fe.Ia,u)}A(pu,O);function ai(u){const m=na();Oe(m,new pu(m))}fe.STAT_EVENT="statevent";function ms(u,m){O.call(this,fe.STAT_EVENT,u),this.stat=m}A(ms,O);function _e(u){const m=na();Oe(m,new ms(m,u))}fe.Ja="timingevent";function oi(u,m){O.call(this,fe.Ja,u),this.size=m}A(oi,O);function li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function $h(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var et="",Tt=B.split("&");for(let Bt=0;Bt<Tt.length;Bt++){var de=Tt[Bt].split("=");if(de.length>1){const ae=de[0];de=de[1];const Nn=ae.split("_");et=Nn.length>=2&&Nn[1]=="type"?et+(ae+"="+de+"&"):et+(ae+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function yu(u,m,v,b,L,B,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+et})}function ui(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jh(u,v)+(b?" "+b:"")})}function gs(u,m){u.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function Jh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return hr(B)}catch{return m}}var ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Do;function ys(){}A(ys,du),ys.prototype.g=function(){return new XMLHttpRequest},Do=new ys;function ki(u){return encodeURIComponent(String(u))}function _u(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Hn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var ve={},ke={};function ci(u,m,v){u.M=1,u.A=_s(Te(m)),u.u=v,u.R=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),hi(u),u.B=Te(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),oa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Fn,u.g=Vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Io[0]=L.toString()),L=Io);for(let B=0;B<L.length;B++){const et=se(v,L[B],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),$h(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Qn(this.g),de=this.g.ya(),Bt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Tt!=4||de==7||(de==8||Bt<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=Zh(this);if(this.o=m==200,yu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break e}}B=null}if(u=B)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,_e(12),gn(this),Rn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=Eu(this,v),ae==ke){Tt==4&&(this.m=4,_e(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),ui(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,ae,null),di(this,ae);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Go(et),et.P=!0,_e(11))}}else ui(this.i,this.l,v,null),di(this,v);Tt==4&&gn(this),this.o&&!this.K&&(Tt==4?Nu(this.j,this):(this.o=!1,hi(this)))}else Li(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),gn(this),Rn(this)}}}catch{}};function Zh(u){if(!vu(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const b=m.length,L=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function vu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Eu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?ke:(v=Number(m.substring(v,b)),isNaN(v)?ve:(b+=1,b+v>m.length?ke:(m=m.slice(b,b+v),u.C=b+v,m)))}Hn.prototype.cancel=function(){this.K=!0,gn(this)};function hi(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(y(u.aa,u),m)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(gs(this.i,this.B),this.M!=2&&(ai(),_e(17)),gn(this),this.m=2,Rn(this)):ra(this,this.T-u)};function Rn(u){u.j.I==0||u.K||Nu(u.j,u)}function gn(u){fi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Co(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||gi(v.h,u))){if(!u.L&&gi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)fa(v),vr(v);else break t;ws(v),_e(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((u.L||v.g==u)&&fa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];const ae=Bt[0];if(!(ae<=v.K))if(v.K=ae,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const Nn=Bt[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const bi=Bt[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Yn=Bt[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(b=1.5*Yn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Xn=u.g;if(Xn){const Rs=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var B=b.h;B.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Vo(B,B.h),B.h=null))}if(b.G){const da=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(b.wa=da,Gt(b.J,b.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var et=u;if(b.na=Ou(b,b.L?b.ba:null,b.W),et.L){Mo(b.h,et);var Tt=et,de=b.O;de&&(Tt.H=de),Tt.D&&(fi(Tt),hi(Tt)),b.g=et}else Iu(b);v.i.length>0&&Ei(v)}else Bt[0]!="stop"&&Bt[0]!="close"||Ti(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Ti(v,7):Ho(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}ai(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function xo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function gi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vo(u,m){u.g?u.g.add(m):u.h=m}function Mo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}xo.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ko(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,fr(this,u.u),this.h=u.h,Uo(this,wu(u.i)),this.m=u.m):u&&(m=String(u).match(Tu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),fr(this,m[4]),this.h=pi(m[5]||"",!0),Uo(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new mr(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(vs(m,aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vs(m,aa,!0),"@"),u.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(vs(v,v.charAt(0)=="/"?Lo:bu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",vs(v,Au)),u.join("")},pn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)fr(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const Tt=L[et++];Tt=="."?b&&et==L.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&et==L.length&&B.push("")):(B.push(Tt),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Uo(m,wu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new pn(u)}function Ue(u,m,v){u.j=v?pi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function fr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Uo(u,m,v){m instanceof mr?(u.i=m,la(u.i,u.l)):(v||(m=vs(m,dr)),u.i=new mr(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function _s(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function pi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var aa=/[#\/\?@]/g,bu=/[#\?:]/g,Lo=/[#\?]/g,dr=/[#\?@]/g,Au=/#/g;function mr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=mr.prototype,r.add=function(u,m){an(this),this.i=null,u=gr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Su(u,m){an(u),m=gr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Po(u,m){return an(u),m=gr(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function zo(u,m){an(u);let v=[];if(typeof m=="string")Po(u,m)&&(v=v.concat(u.g.get(gr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=gr(this,u),Po(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=zo(this,u),u.length>0?String(u[0]):m):m};function oa(u,m,v){Su(u,m),v.length>0&&(u.i=null,u.g.set(gr(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=ki(v);v=zo(this,v);for(let B=0;B<v.length;B++){let et=L;v[B]!==""&&(et+="="+ki(v[B])),u.push(et)}}return this.i=u.join("&")};function wu(u){const m=new mr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function gr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(Su(this,b),oa(this,L,v))},u)),u.j=m}function Gn(u,m){const v=new qn;if(d.Image){const b=new Image;b.onload=T(In,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(In,v,"TestLoadImage: error",!1,m,b),b.onabort=T(In,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(In,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function jo(u,m){const v=new qn,b=new AbortController,L=setTimeout(()=>{b.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function pr(){this.g=new fu}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(yi,du),yi.prototype.g=function(){return new Es(this.i,this.h)};function Es(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Es,ye),r=Es.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?yr(this):Kn(this),this.readyState==3&&ua(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,yr(this))},r.Na=function(u){this.g&&(this.response=u,yr(this))},r.ga=function(){this.g&&yr(this)};function yr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return Pt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ts(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Cn(v),typeof u=="string"?v!=null&&ki(v):Gt(u,m,v))}function Yt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Yt,ye);var _i=/^https?$/i,Bo=["POST","PUT"];r=Yt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Do.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){bs(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Bo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){bs(this,B)}};function bs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,qo(u),Ui(u)}function qo(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?As(this):this.Xa())},r.Xa=function(){As(this)};function As(u){if(u.h&&typeof c<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let et=String(u.D).match(Tu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!_i.test(et?et.toLowerCase():"")}v=b}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var L=Qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",qo(u)}}finally{Ui(u)}}}}function Ui(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Xh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=_u(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ft(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function _r(u){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(u&&u.concurrentRequestLimit),this.Ba=new pr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=_r.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){_e(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Ou(this,null,this.W),Ei(this)};function Ho(u){if(ca(u),u.I==3){var m=u.V++,v=Te(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),Ss(u,v),m=new Hn(u,u.j,m),m.M=2,m.A=_s(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}xu(u)}function vr(u){u.g&&(Go(u),u.g.cancel(),u.g=null)}function ca(u){vr(u),u.v&&(d.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!Oo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Zt||S(),kt||(Zt(),kt=!0),N.add(m,u),u.D=0}}function ha(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(y(u.Ea,u,m),Du(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Hn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Ru(this,L,m),v=Te(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),Ss(this,v),B&&(this.R?m="headers="+ki(Cn(B))+"&"+m:this.u&&Ts(v,this.u,B)),Vo(this.h,L),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),L.U=!0,ci(L,v,null)):ci(L,v,m),this.I=2}}else this.I==3&&(u?Fo(this,u):this.i.length==0||Oo(this.h)||Fo(this))};function Fo(u,m){var v;m?v=m.l:v=u.V++;const b=Te(u.J);Gt(b,"SID",u.M),Gt(b,"RID",v),Gt(b,"AID",u.K),Ss(u,b),u.u&&u.o&&Ts(b,u.u,u.o),v=new Hn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ru(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vo(u.h,v),ci(v,b,m)}function Ss(u,m){u.H&&Pt(u.H,function(v,b){Gt(m,b,v)}),u.l&&Pt({},function(v,b){Gt(m,b,v)})}function Ru(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Tt=-1;for(;;){const de=["count="+v];Tt==-1?v>0?(Tt=L[0].g,de.push("ofs="+Tt)):Tt=0:de.push("ofs="+Tt);let Bt=!0;for(let ae=0;ae<v;ae++){var B=L[ae].g;const Nn=L[ae].map;if(B-=Tt,B<0)Tt=Math.max(0,L[ae].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var et=Nn instanceof Map?Nn:Object.entries(Nn);for(const[bi,Yn]of et){let Xn=Yn;g(Yn)&&(Xn=hr(Yn)),de.push(B+bi+"="+encodeURIComponent(Xn))}}catch(bi){throw de.push(B+"type="+encodeURIComponent("_badmap")),bi}}catch{b&&b(Nn)}}if(Bt){et=de.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function Iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Zt||S(),kt||(Zt(),kt=!0),N.add(m,u),u.A=0}}function ws(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(y(u.Da,u),Du(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),vr(this),Cu(this))};function Go(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Cu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),Ss(u,m),u.u&&u.o&&Ts(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=_s(Te(m)),v.u=null,v.R=!0,ia(v,u)}r.Va=function(){this.C!=null&&(this.C=null,vr(this),ws(this),_e(19))};function fa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Nu(u,m){var v=null;if(u.g==m){fa(u),Go(u),u.g=null;var b=2}else if(gi(u.h,m))v=m.G,Mo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=na(),Oe(b,new oi(b,v)),Ei(u)}else Iu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&ha(u,m)||b==2&&ws(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function Du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new pn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(b,"https"),_s(b),L?Gn(b.toString(),v):jo(b.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),xu(u),ca(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function xu(u){if(u.I=0,u.ja=[],u.l){const m=ko(u.h);(m.length!=0||u.i.length!=0)&&(q(u.ja,m),q(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Ou(u,m,v){var b=v instanceof pn?Te(v):new pn(v);if(b.g!="")m&&(b.g=m+"."+b.g),fr(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new pn(null);b&&Ue(B,b),m&&(B.g=m),L&&fr(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Gt(b,v,m),Gt(b,"VER",u.ka),Ss(u,b),b}function Vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new yi({ab:v})):new Yt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}r=Mu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Er(){}Er.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){ye.call(this),this.g=new _r(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pi(this)}A(nn,ye),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ho(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=hr(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&Ei(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,nn.Z.N.call(this)};function ku(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(ku,je);function Uu(){wn.call(this),this.status=1}A(Uu,wn);function Pi(u){this.g=u}A(Pi,Mu),Pi.prototype.ra=function(){Oe(this.g,"a")},Pi.prototype.qa=function(u){Oe(this.g,new ku(u))},Pi.prototype.pa=function(u){Oe(this.g,new Uu)},Pi.prototype.oa=function(){Oe(this.g,"b")},Er.prototype.createWebChannel=Er.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,PE=function(){return new Er},LE=function(){return na()},UE=fe,Em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,Jc=ps,No.COMPLETE="complete",kE=No,mu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Vl=mu,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,ME=Yt}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});let Je=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let _o="12.8.0";function d2(r){_o=r}const Qs=new jm("@firebase/firestore");function Ha(){return Qs.logLevel}function st(r,...t){if(Qs.logLevel<=Dt.DEBUG){const i=t.map(Jm);Qs.debug(`Firestore (${_o}): ${r}`,...i)}}function rr(r,...t){if(Qs.logLevel<=Dt.ERROR){const i=t.map(Jm);Qs.error(`Firestore (${_o}): ${r}`,...i)}}function ro(r,...t){if(Qs.logLevel<=Dt.WARN){const i=t.map(Jm);Qs.warn(`Firestore (${_o}): ${r}`,...i)}}function Jm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,zE(r,s,i)}function zE(r,t,i){let s=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw rr(s),new Error(s)}function Ht(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||zE(t,l,s)}function Et(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ar{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class jE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class m2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class g2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class p2{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Wr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Wr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new jE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class y2{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class _2{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new y2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Pv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function E2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=E2(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function Tm(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return am(l)===am(c)?xt(l,c):am(l)?1:-1}return xt(r.length,t.length)}const T2=55296,b2=57343;function am(r){const t=r.charCodeAt(0);return t>=T2&&t<=b2}function so(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const zv="__name__";class Ii{constructor(t,i,s){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&pt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=Ii.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return xt(t.length,i.length)}static compareSegments(t,i){const s=Ii.isNumericId(t),l=Ii.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ii.extractNumericId(t).compare(Ii.extractNumericId(i)):Tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class te extends Ii{construct(t,i,s){return new te(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const A2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ii{construct(t,i,s){return new Qe(t,i,s)}static isValidIdentifier(t){return A2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zv}static keyField(){return new Qe([zv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new rt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new rt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(te.fromString(t))}static fromName(t){return new ct(te.fromString(t).popFirst(5))}static empty(){return new ct(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new te(t.slice()))}}function BE(r,t,i){if(!i)throw new rt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function S2(r,t,i,s){if(t===!0&&s===!0)throw new rt(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function jv(r){if(!ct.isDocumentKey(r))throw new rt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Bv(r){if(ct.isDocumentKey(r))throw new rt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function qE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ih(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function zn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ih(r);throw new rt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function ru(r,t){if(!qE(r))throw new rt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new rt(J.INVALID_ARGUMENT,i);return!0}const qv=-62135596800,Hv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Hv);return new ie(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<qv)throw new rt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ru(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-qv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ie(0,0))}static max(){return new _t(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gl=-1;function w2(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(s===1e9?new ie(i+1,0):new ie(i,s));return new ns(l,ct.empty(),t)}function R2(r){return new ns(r.readTime,r.key,Gl)}class ns{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new ns(_t.min(),ct.empty(),Gl)}static max(){return new ns(_t.max(),ct.empty(),Gl)}}function I2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,t.documentKey),i!==0?i:xt(r.largestBatchId,t.largestBatchId))}const C2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function vo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==C2)throw r;st("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):W.reject(i)}static resolve(t){return new W(((i,s)=>{i(t)}))}static reject(t){return new W(((i,s)=>{s(t)}))}static waitFor(t){return new W(((i,s)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>s(_)))})),d=!0,c===l&&i()}))}static or(t){let i=W.resolve(!1);for(const s of t)i=i.next((l=>l?W.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new W(((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((T=>{d[y]=T,++g,g===c&&s(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new W(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function D2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Eo(r){return r.name==="IndexedDbTransactionError"}class Ch{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ch.ce=-1;const Wm=-1;function Nh(r){return r==null}function hh(r){return r===0&&1/r==-1/0}function x2(r){return typeof r=="number"&&Number.isInteger(r)&&!hh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const HE="";function O2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Fv(t)),t=V2(r.get(i),t);return Fv(t)}function V2(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case HE:i+="";break;default:i+=c}}return i}function Fv(r){return r+HE+""}function Gv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function us(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function FE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Ke.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qc(this.root,t,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qc(this.root,t,this.comparator,!0)}}class qc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Ke.RED,this.left=l??Ke.EMPTY,this.right=c??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Ke(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(t){return new Kv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Kv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new Me(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return so(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class GE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new GE("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const M2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=M2.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rs(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const KE="server_timestamp",QE="__type__",YE="__previous_value__",XE="__local_write_time__";function tg(r){return(r?.mapValue?.fields||{})[QE]?.stringValue===KE}function Dh(r){const t=r.mapValue.fields[YE];return tg(t)?Dh(t):t}function Kl(r){const t=is(r.mapValue.fields[XE].timestampValue);return new ie(t.seconds,t.nanos)}class k2{constructor(t,i,s,l,c,d,g,_,y,T,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=A}}const fh="(default)";class Ql{constructor(t,i){this.projectId=t,this.database=i||fh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===fh}isEqual(t){return t instanceof Ql&&t.projectId===this.projectId&&t.database===this.database}}function U2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new rt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(r.options.projectId,t)}const $E="__type__",L2="__max__",Hc={mapValue:{}},JE="__vector__",dh="value";function ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tg(r)?4:z2(r)?9007199254740991:P2(r)?10:11:pt(28295,{value:r})}function Mi(r,t){if(r===t)return!0;const i=ss(r);if(i!==ss(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Kl(r).isEqual(Kl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=is(l.timestampValue),g=is(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return rs(l.bytesValue).isEqual(rs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return pe(l.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pe(l.integerValue)===pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pe(l.doubleValue),g=pe(c.doubleValue);return d===g?hh(d)===hh(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return so(r.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Gv(d)!==Gv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Mi(d[_],g[_])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function Yl(r,t){return(r.values||[]).find((i=>Mi(i,t)))!==void 0}function ao(r,t){if(r===t)return 0;const i=ss(r),s=ss(t);if(i!==s)return xt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=pe(c.integerValue||c.doubleValue),_=pe(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,t);case 3:return Qv(r.timestampValue,t.timestampValue);case 4:return Qv(Kl(r),Kl(t));case 5:return Tm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=rs(c),_=rs(d);return g.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const T=xt(g[y],_[y]);if(T!==0)return T}return xt(g.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=xt(pe(c.latitude),pe(d.latitude));return g!==0?g:xt(pe(c.longitude),pe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Yv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[dh]?.arrayValue,T=_[dh]?.arrayValue,A=xt(y?.values?.length||0,T?.values?.length||0);return A!==0?A:Yv(y,T)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Hc.mapValue&&d===Hc.mapValue)return 0;if(c===Hc.mapValue)return 1;if(d===Hc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let A=0;A<_.length&&A<T.length;++A){const w=Tm(_[A],T[A]);if(w!==0)return w;const H=ao(g[_[A]],y[T[A]]);if(H!==0)return H}return xt(_.length,T.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function Qv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const i=is(r),s=is(t),l=xt(i.seconds,s.seconds);return l!==0?l:xt(i.nanos,s.nanos)}function Yv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=ao(i[l],s[l]);if(c)return c}return xt(i.length,s.length)}function oo(r){return bm(r)}function bm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=is(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return rs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=bm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${bm(i.fields[d])}`;return l+"}"})(r.mapValue):pt(61005,{value:r})}function Zc(r){switch(ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Dh(r);return t?16+Zc(t):16;case 5:return 2*r.stringValue.length;case 6:return rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Zc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return us(s.fields,((c,d)=>{l+=c.length+Zc(d)})),l})(r.mapValue);default:throw pt(13486,{value:r})}}function Xv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Am(r){return!!r&&"integerValue"in r}function eg(r){return!!r&&"arrayValue"in r}function $v(r){return!!r&&"nullValue"in r}function Jv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wc(r){return!!r&&"mapValue"in r}function P2(r){return(r?.mapValue?.fields||{})[$E]?.stringValue===JE}function zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return us(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=zl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=zl(r.arrayValue.values[i]);return t}return{...r}}function z2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===L2}class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Wc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=zl(i)}setAll(t){let i=Qe.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=zl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Wc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){us(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new mn(zl(this.value))}}function ZE(r){const t=[];return us(r.fields,((i,s)=>{const l=new Qe([i]);if(Wc(s)){const c=ZE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}class Ze{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,_t.min(),_t.min(),_t.min(),mn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ze(t,1,i,_t.min(),s,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,_t.min(),_t.min(),mn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,_t.min(),_t.min(),mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mh{constructor(t,i){this.position=t,this.inclusive=i}}function Zv(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=ao(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Mi(r.position[i],t.position[i]))return!1;return!0}class gh{constructor(t,i="asc"){this.field=t,this.dir=i}}function j2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class WE{}class Ie extends WE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new q2(t,i,s):i==="array-contains"?new G2(t,s):i==="in"?new K2(t,s):i==="not-in"?new Q2(t,s):i==="array-contains-any"?new Y2(t,s):new Ie(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new H2(t,s):new F2(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ao(i,this.value)):i!==null&&ss(this.value)===ss(i)&&this.matchesComparison(ao(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends WE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ri(t,i)}matches(t){return tT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tT(r){return r.op==="and"}function eT(r){return B2(r)&&tT(r)}function B2(r){for(const t of r.filters)if(t instanceof ri)return!1;return!0}function Sm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+oo(r.value);if(eT(r))return r.filters.map((t=>Sm(t))).join(",");{const t=r.filters.map((i=>Sm(i))).join(",");return`${r.op}(${t})`}}function nT(r,t){return r instanceof Ie?(function(s,l){return l instanceof Ie&&s.op===l.op&&s.field.isEqual(l.field)&&Mi(s.value,l.value)})(r,t):r instanceof ri?(function(s,l){return l instanceof ri&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&nT(d,l.filters[g])),!0):!1})(r,t):void pt(19439)}function iT(r){return r instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${oo(i.value)}`})(r):r instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(iT).join(" ,")+"}"})(r):"Filter"}class q2 extends Ie{constructor(t,i,s){super(t,i,s),this.key=ct.fromName(s.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class H2 extends Ie{constructor(t,i){super(t,"in",i),this.keys=rT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class F2 extends Ie{constructor(t,i){super(t,"not-in",i),this.keys=rT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function rT(r,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class G2 extends Ie{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return eg(i)&&Yl(i.arrayValue,this.value)}}class K2 extends Ie{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class Q2 extends Ie{constructor(t,i){super(t,"not-in",i)}matches(t){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yl(this.value.arrayValue,i)}}class Y2 extends Ie{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!eg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Yl(this.value.arrayValue,s)))}}class X2{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function t0(r,t=null,i=[],s=[],l=null,c=null,d=null){return new X2(r,t,i,s,l,c,d)}function ng(r){const t=Et(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Sm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Nh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>oo(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>oo(s))).join(",")),t.Te=i}return t.Te}function ig(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!j2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!nT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Wv(r.startAt,t.startAt)&&Wv(r.endAt,t.endAt)}function wm(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class su{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function $2(r,t,i,s,l,c,d,g){return new su(r,t,i,s,l,c,d,g)}function xh(r){return new su(r)}function e0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function J2(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function sT(r){return r.collectionGroup!==null}function jl(r){const t=Et(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new gh(c,s))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new gh(Qe.keyField(),s))}return t.Ie}function Di(r){const t=Et(r);return t.Ee||(t.Ee=Z2(t,jl(r))),t.Ee}function Z2(r,t){if(r.limitType==="F")return t0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new gh(l.field,c)}));const i=r.endAt?new mh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new mh(r.startAt.position,r.startAt.inclusive):null;return t0(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function Rm(r,t){const i=r.filters.concat([t]);return new su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Im(r,t,i){return new su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Oh(r,t){return ig(Di(r),Di(t))&&r.limitType===t.limitType}function aT(r){return`${ng(Di(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>iT(l))).join(", ")}]`),Nh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>oo(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>oo(l))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function Vh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ct.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of jl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,_){const y=Zv(d,g,_);return d.inclusive?y<=0:y<0})(s.startAt,jl(s),l)||s.endAt&&!(function(d,g,_){const y=Zv(d,g,_);return d.inclusive?y>=0:y>0})(s.endAt,jl(s),l))})(r,t)}function W2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function oT(r){return(t,i)=>{let s=!1;for(const l of jl(r)){const c=tI(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function tI(r,t,i){const s=r.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?ao(_,y):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}class $s{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){us(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return FE(this.inner)}size(){return this.innerSize}}const eI=new le(ct.comparator);function sr(){return eI}const lT=new le(ct.comparator);function Ml(...r){let t=lT;for(const i of r)t=t.insert(i.key,i);return t}function uT(r){let t=lT;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Hs(){return Bl()}function cT(){return Bl()}function Bl(){return new $s((r=>r.toString()),((r,t)=>r.isEqual(t)))}const nI=new le(ct.comparator),iI=new Me(ct.comparator);function Ot(...r){let t=iI;for(const i of r)t=t.add(i);return t}const rI=new Me(xt);function sI(){return rI}function rg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(t)?"-0":t}}function hT(r){return{integerValue:""+r}}function fT(r,t){return x2(t)?hT(t):rg(r,t)}class Mh{constructor(){this._=void 0}}function aI(r,t,i){return r instanceof ph?(function(l,c){const d={fields:{[QE]:{stringValue:KE},[XE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&tg(c)&&(c=Dh(c)),c&&(d.fields[YE]=c),{mapValue:d}})(i,t):r instanceof lo?mT(r,t):r instanceof Xl?gT(r,t):(function(l,c){const d=dT(l,c),g=n0(d)+n0(l.Ae);return Am(d)&&Am(l.Ae)?hT(g):rg(l.serializer,g)})(r,t)}function oI(r,t,i){return r instanceof lo?mT(r,t):r instanceof Xl?gT(r,t):i}function dT(r,t){return r instanceof $l?(function(s){return Am(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class ph extends Mh{}class lo extends Mh{constructor(t){super(),this.elements=t}}function mT(r,t){const i=pT(t);for(const s of r.elements)i.some((l=>Mi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Xl extends Mh{constructor(t){super(),this.elements=t}}function gT(r,t){let i=pT(t);for(const s of r.elements)i=i.filter((l=>!Mi(l,s)));return{arrayValue:{values:i}}}class $l extends Mh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function n0(r){return pe(r.integerValue||r.doubleValue)}function pT(r){return eg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class yT{constructor(t,i){this.field=t,this.transform=i}}function lI(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof lo&&l instanceof lo||s instanceof Xl&&l instanceof Xl?so(s.elements,l.elements,Mi):s instanceof $l&&l instanceof $l?Mi(s.Ae,l.Ae):s instanceof ph&&l instanceof ph})(r.transform,t.transform)}class uI{constructor(t,i){this.version=t,this.transformResults=i}}class jn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new jn}static exists(t){return new jn(void 0,t)}static updateTime(t){return new jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function th(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class kh{}function _T(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new sg(r.key,jn.none()):new au(r.key,r.data,jn.none());{const i=r.data,s=mn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new cs(r.key,s,new Sn(l.toArray()),jn.none())}}function cI(r,t,i){r instanceof au?(function(l,c,d){const g=l.value.clone(),_=r0(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof cs?(function(l,c,d){if(!th(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=r0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(vT(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function ql(r,t,i,s){return r instanceof au?(function(c,d,g,_){if(!th(c.precondition,d))return g;const y=c.value.clone(),T=s0(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,s):r instanceof cs?(function(c,d,g,_){if(!th(c.precondition,d))return g;const y=s0(c.fieldTransforms,_,d),T=d.data;return T.setAll(vT(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,s):(function(c,d,g){return th(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function hI(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=dT(s.transform,l||null);c!=null&&(i===null&&(i=mn.empty()),i.set(s.field,c))}return i||null}function i0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&so(s,l,((c,d)=>lI(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class au extends kh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class cs extends kh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function r0(r,t,i){const s=new Map;Ht(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,oI(d,g,i[l]))}return s}function s0(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,aI(c,d,t))}return s}class sg extends kh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fI extends kh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dI{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&cI(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=ql(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=ql(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=cT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=_T(d,g);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&so(this.mutations,t.mutations,((i,s)=>i0(i,s)))&&so(this.baseMutations,t.baseMutations,((i,s)=>i0(i,s)))}}class ag{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return nI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new ag(t,i,s,l)}}class mI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Lt;function pI(r){switch(r){case J.OK:return pt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function ET(r){if(r===void 0)return rr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Re.OK:return J.OK;case Re.CANCELLED:return J.CANCELLED;case Re.UNKNOWN:return J.UNKNOWN;case Re.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Re.INTERNAL:return J.INTERNAL;case Re.UNAVAILABLE:return J.UNAVAILABLE;case Re.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Re.NOT_FOUND:return J.NOT_FOUND;case Re.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Re.ABORTED:return J.ABORTED;case Re.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Re.DATA_LOSS:return J.DATA_LOSS;default:return pt(39323,{code:r})}}(Lt=Re||(Re={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function yI(){return new TextEncoder}const _I=new Zr([4294967295,4294967295],0);function a0(r){const t=yI().encode(r),i=new VE;return i.update(t),new Uint8Array(i.digest())}function o0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Zr([i,s],0),new Zr([l,c],0)]}class og{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Zr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Zr.fromNumber(s)));return l.compare(_I)===1&&(l=new Zr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=a0(t),[s,l]=o0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new og(c,l,i);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=a0(t),[s,l]=o0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Uh(_t.min(),l,new le(xt),sr(),Ot())}}class ou{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new ou(s,i,Ot(),Ot(),Ot())}}class eh{constructor(t,i,s,l){this.Se=t,this.removedTargetIds=i,this.key=s,this.De=l}}class TT{constructor(t,i){this.targetId=t,this.Ce=i}}class bT{constructor(t,i,s=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class l0{constructor(){this.ve=0,this.Fe=u0(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:pt(38017,{changeType:c})}})),new ou(this.Me,this.xe,t,i,s)}Ke(){this.Oe=!1,this.Fe=u0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class vI{constructor(t){this.Ge=t,this.ze=new Map,this.je=sr(),this.He=Fc(),this.Je=Fc(),this.Ze=new le(xt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(wm(c))if(s===0){const d=new ct(c.path);this.et(i,d,Ze.newNoDocument(d,_t.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=rs(s).toUint8Array()}catch(_){if(_ instanceof GE)return ro("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new og(d,l,c)}catch(_){return ro(_ instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&wm(g.target)){const _=new ct(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=Ot();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Uh(t,i,this.Ze,this.je,s);return this.je=sr(),this.He=Fc(),this.Je=Fc(),this.Ze=new le(xt),l}Ye(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new l0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Me(xt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Me(xt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new l0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Fc(){return new le(ct.comparator)}function u0(){return new le(ct.comparator)}const EI={asc:"ASCENDING",desc:"DESCENDING"},TI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bI={and:"AND",or:"OR"};class AI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Cm(r,t){return r.useProto3Json||Nh(t)?t:{value:t}}function yh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function SI(r,t){return yh(r,t.toTimestamp())}function xi(r){return Ht(!!r,49232),_t.fromTimestamp((function(i){const s=is(i);return new ie(s.seconds,s.nanos)})(r))}function lg(r,t){return Nm(r,t).canonicalString()}function Nm(r,t){const i=(function(l){return new te(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function ST(r){const t=te.fromString(r);return Ht(NT(t),10190,{key:t.toString()}),t}function Dm(r,t){return lg(r.databaseId,t.path)}function om(r,t){const i=ST(t);if(i.get(1)!==r.databaseId.projectId)throw new rt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(RT(i))}function wT(r,t){return lg(r.databaseId,t)}function wI(r){const t=ST(r);return t.length===4?te.emptyPath():RT(t)}function xm(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function RT(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function c0(r,t,i){return{name:Dm(r,t),fields:i.value.mapValue.fields}}function RI(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Ht(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?J.UNKNOWN:ET(y.code);return new rt(T,y.message||"")})(d);i=new bT(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=om(r,s.document.name),c=xi(s.document.updateTime),d=s.document.createTime?xi(s.document.createTime):_t.min(),g=new mn({mapValue:{fields:s.document.fields}}),_=Ze.newFoundDocument(l,c,d,g),y=s.targetIds||[],T=s.removedTargetIds||[];i=new eh(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=om(r,s.document),c=s.readTime?xi(s.readTime):_t.min(),d=Ze.newNoDocument(l,c),g=s.removedTargetIds||[];i=new eh([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=om(r,s.document),c=s.removedTargetIds||[];i=new eh([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new gI(l,c),g=s.targetId;i=new TT(g,d)}}return i}function II(r,t){let i;if(t instanceof au)i={update:c0(r,t.key,t.value)};else if(t instanceof sg)i={delete:Dm(r,t.key)};else if(t instanceof cs)i={update:c0(r,t.key,t.data),updateMask:UI(t.fieldMask)};else{if(!(t instanceof fI))return pt(16599,{dt:t.type});i={verify:Dm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof ph)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof $l)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:SI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function CI(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?xi(l.updateTime):xi(c);return d.isEqual(_t.min())&&(d=xi(c)),new uI(d,l.transformResults||[])})(i,t)))):[]}function NI(r,t){return{documents:[wT(r,t.path)]}}function DI(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=wT(r,l);const c=(function(y){if(y.length!==0)return CT(ri.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(w){return{field:Ga(w.field),direction:VI(w.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Cm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function xI(r){let t=wI(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(A){const w=IT(A);return w instanceof ri&&eT(w)?w.getFilters():[w]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((w=>(function(q){return new gh(Ka(q.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(w)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let w;return w=typeof A=="object"?A.value:A,Nh(w)?null:w})(i.limit));let _=null;i.startAt&&(_=(function(A){const w=!!A.before,H=A.values||[];return new mh(H,w)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const w=!A.before,H=A.values||[];return new mh(H,w)})(i.endAt)),$2(t,l,d,c,g,"F",_,y)}function OI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function IT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ka(i.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return Ie.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ie.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((s=>IT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function VI(r){return EI[r]}function MI(r){return TI[r]}function kI(r){return bI[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Qe.fromServerFormat(r.fieldPath)}function CT(r){return r instanceof Ie?(function(i){if(i.op==="=="){if(Jv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if($v(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Jv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if($v(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:MI(i.op),value:i.value}}})(r):r instanceof ri?(function(i){const s=i.getFilters().map((l=>CT(l)));return s.length===1?s[0]:{compositeFilter:{op:kI(i.op),filters:s}}})(r):pt(54877,{filter:r})}function UI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function NT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function DT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Yr{constructor(t,i,s,l,c=_t.min(),d=_t.min(),g=Ye.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class LI{constructor(t){this.yt=t}}function PI(r){const t=xI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Im(t,t.limit,"L"):t}class zI{constructor(){this.Sn=new jI}addToCollectionParentIndex(t,i){return this.Sn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(ns.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(ns.min())}updateCollectionGroup(t,i,s){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class jI{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Me(te.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(te.comparator)).toArray()}}const h0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xT=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(xT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class uo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new uo(0)}static ar(){return new uo(-1)}}const f0="LruGarbageCollector",BI=1048576;function d0([r,t],[i,s]){const l=xt(r,i);return l===0?xt(t,s):l}class qI{constructor(t){this.Pr=t,this.buffer=new Me(d0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();d0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class HI{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){st(f0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Eo(i)?st(f0,"Ignoring IndexedDB error during garbage collection: ",i):await vo(i)}await this.Ar(3e5)}))}}class FI{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return W.resolve(Ch.ce);const s=new qI(i);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(h0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let s,l,c,d,g,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(s=A,g=Date.now(),this.removeTargets(t,s,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(y=Date.now(),Ha()<=Dt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function GI(r,t){return new FI(r,t)}class KI{constructor(){this.changes=new $s((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?W.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class QI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class YI{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&ql(s.mutation,l,Sn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ot()){const l=Hs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Ml();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Hs();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ot())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,s,l){let c=sr();const d=Bl(),g=(function(){return Bl()})();return i.forEach(((_,y)=>{const T=s.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof cs)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),ql(T.mutation,y,T.mutation.getFieldMask(),ie.now())):d.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>g.set(y,new QI(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const s=Bl();let l=new le(((d,g)=>d-g)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=s.get(_)||Sn.empty();T=g.applyToLocalView(y,T),s.set(_,T);const A=(l.get(g.batchId)||Ot()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,T=_.value,A=cT();T.forEach((w=>{if(!c.has(w)){const H=_T(i.get(w),s.get(w));H!==null&&A.set(w,H),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return W.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return J2(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):sT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):W.resolve(Hs());let g=Gl,_=c;return d.next((y=>W.forEach(y,((T,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(T)?W.resolve():this.remoteDocumentCache.getEntry(t,T).next((w=>{_=_.insert(T,w)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Ot()))).next((T=>({batchId:g,changes:uT(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((s=>{let l=Ml();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(t,c).next((g=>W.forEach(g,(_=>{const y=(function(A,w){return new su(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((T=>{T.forEach(((A,w)=>{d=d.insert(A,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ze.newInvalidDocument(T)))}));let g=Ml();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&ql(T.mutation,y,Sn.empty(),ie.now()),Vh(i,y)&&(g=g.insert(_,y))})),g}))}}class XI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return W.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:xi(l.createTime)}})(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:PI(l.bundledQuery),readTime:xi(l.readTime)}})(i)),W.resolve()}}class $I{constructor(){this.overlays=new le(ct.comparator),this.Lr=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Hs();return W.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.bt(t,i,c)})),W.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),W.resolve()}getOverlaysForCollection(t,i,s){const l=Hs(),c=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>s&&l.set(_.getKey(),_)}return W.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new le(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=Hs(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Hs(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=l)););return W.resolve(g)}bt(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new mI(i,s));let c=this.Lr.get(i);c===void 0&&(c=Ot(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class JI{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}class ug{constructor(){this.kr=new Me(Pe.Kr),this.qr=new Me(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const s=new Pe(t,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Wr(new Pe(t,i))}Qr(t,i){t.forEach((s=>this.removeReference(s,i)))}Gr(t){const i=new ct(new te([])),s=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ct(new te([])),s=new Pe(i,t),l=new Pe(i,t+1);let c=Ot();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ct.comparator(t.key,i.key)||xt(t.Hr,i.Hr)}static Ur(t,i){return xt(t.Hr,i.Hr)||ct.comparator(t.key,i.key)}}class ZI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Pe.Kr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new dI(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,i){return W.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Wm:this.Yn-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Me(xt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{s=s.add(g.Hr)}))})),W.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ct.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new ct(c),0);let g=new Me(xt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Hr)),!0)}),d),W.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return W.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,i){const s=new Pe(i,0),l=this.Jr.firstAfterOrEqual(s);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class WI{constructor(t){this.ti=t,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return W.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let s=sr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),W.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=sr();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||I2(R2(T),s)<=0||(l.has(T.key)||Vh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(t,i,s,l){pt(9500)}ni(t,i){return W.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new tC(this)}getSize(t){return W.resolve(this.size)}}class tC extends KI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),W.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class eC{constructor(t){this.persistence=t,this.ri=new $s((i=>ng(i)),ig),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.ii=0,this.si=new ug,this.targetCount=0,this.oi=uo._r()}forEachTarget(t,i){return this.ri.forEach(((s,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),W.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new uo(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.lr(i),W.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const s=this.ri.get(i)||null;return W.resolve(s)}addMatchingKeys(t,i,s){return this.si.$r(i,s),W.resolve()}removeMatchingKeys(t,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),W.resolve()}getMatchingKeysForTargetId(t,i){const s=this.si.jr(i);return W.resolve(s)}containsKey(t,i){return W.resolve(this.si.containsKey(i))}}class OT{constructor(t,i){this._i={},this.overlays={},this.ai=new Ch(0),this.ui=!1,this.ui=!0,this.ci=new JI,this.referenceDelegate=t(this),this.li=new eC(this),this.indexManager=new zI,this.remoteDocumentCache=(function(l){return new WI(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new LI(i),this.Pi=new XI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new $I,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this._i[t.toKey()];return s||(s=new ZI(i,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,s){st("MemoryPersistence","Starting transaction:",t);const l=new nC(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return W.or(Object.values(this._i).map((s=>()=>s.containsKey(t,i))))}}class nC extends N2{constructor(t){super(),this.currentSequenceNumber=t}}class cg{constructor(t){this.persistence=t,this.Ri=new ug,this.Ai=null}static Vi(t){return new cg(t)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),W.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),W.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(s=>{const l=ct.fromPath(s);return this.mi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class _h{constructor(t,i){this.persistence=t,this.fi=new $s((s=>O2(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=GI(this,i)}static Vi(t,i){return new _h(t,i)}Ti(){}Ii(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}pr(t){let i=0;return this.mr(t,(s=>{i++})).next((()=>i))}mr(t,i){return W.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((c=>c?W.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(s++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),W.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Zc(t.data.value)),i}wr(t,i,s){return W.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return W.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class hg{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Ts=s,this.Is=l}static Es(t,i){let s=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new hg(t,i.fromCache,s,l)}}class iC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class rC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return CA()?8:D2(tn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new iC;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,s,l){return s.documentReadCount<this.Vs?(Ha()<=Dt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(Ha()<=Dt.DEBUG&&st("QueryEngine","Query:",Fa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Ha()<=Dt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(i))):W.resolve())}gs(t,i){if(e0(i))return W.resolve(null);let s=Di(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Im(i,null,"F"),s=Di(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ot(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((_=>{const y=this.bs(i,g);return this.Ss(i,y,d,_.readTime)?this.gs(t,Im(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,s,l){return e0(i)||l.isEqual(_t.min())?W.resolve(null):this.fs.getDocuments(t,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?W.resolve(null):(Ha()<=Dt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(i)),this.Ds(t,d,i,w2(l,Gl)).next((g=>g)))}))}bs(t,i){let s=new Me(oT(t));return i.forEach(((l,c)=>{Vh(t,c)&&(s=s.add(c))})),s}Ss(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,s){return Ha()<=Dt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.fs.getDocumentsMatchingQuery(t,i,ns.min(),s)}Ds(t,i,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const fg="LocalStore",sC=3e8;class aC{constructor(t,i,s,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(xt),this.Fs=new $s((c=>ng(c)),ig),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function oC(r,t,i,s){return new aC(r,t,i,s)}async function VT(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let _=Ot();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(s,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function lC(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,T){const A=y.batch,w=A.keys();let H=W.resolve();return w.forEach((q=>{H=H.next((()=>T.getEntry(_,q))).next((Q=>{const Z=y.docVersions.get(q);Ht(Z!==null,48541),Q.version.compareTo(Z)<0&&(A.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),T.addEntry(Q)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Ot();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function MT(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function uC(r,t){const i=Et(r),s=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((T,A)=>{const w=l.get(A);if(!w)return;g.push(i.li.removeMatchingKeys(c,T.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,A))));let H=w.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?H=H.withResumeToken(Ye.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,s)),l=l.insert(A,H),(function(Q,Z,tt){return Q.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=sC?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0})(w,H,T)&&g.push(i.li.updateTargetData(c,H))}));let _=sr(),y=Ot();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(cC(c,d,t.documentUpdates).next((T=>{_=T.Bs,y=T.Ls}))),!s.isEqual(_t.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(T)}return W.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function cC(r,t,i){let s=Ot(),l=Ot();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=sr();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):st(fg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function hC(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Wm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function fC(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,t).next((c=>c?(l=c,W.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new Yr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(t,s.targetId)),s}))}async function Om(r,t,i){const s=Et(r),l=s.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Eo(d))throw d;st(fg,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function m0(r,t,i){const s=Et(r);let l=_t.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const A=Et(_),w=A.Fs.get(T);return w!==void 0?W.resolve(A.vs.get(w)):A.li.getTargetData(y,T)})(s,d,Di(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Ot()))).next((g=>(dC(s,W2(t),g),{documents:g,ks:c})))))}function dC(r,t,i){let s=r.Ms.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(t,s)}class g0{constructor(){this.activeTargetIds=sI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class mC{constructor(){this.vo=new g0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,s){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new g0,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class gC{Mo(t){}shutdown(){}}const p0="ConnectivityMonitor";class y0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(p0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){st(p0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gc=null;function Vm(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}const lm="RestConnection",pC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class yC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===fh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,i,s,l,c){const d=Vm(),g=this.Qo(t,i.toUriEncodedString());st(lm,`Sending RPC '${t}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(g),T=mo(y);return this.zo(t,g,_,s,T).then((A=>(st(lm,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw ro(lm,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",s),A}))}jo(t,i,s,l,c,d){return this.Wo(t,i,s,l,c)}Go(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const s=pC[t];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class _C{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const $e="WebChannelConnection",Dl=(r,t,i)=>{r.listen(t,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Za extends yC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Za.c_){const t=LE();Dl(t,UE.STAT_EVENT,(i=>{i.stat===Em.PROXY?st($e,"STAT_EVENT: detected buffering proxy"):i.stat===Em.NOPROXY&&st($e,"STAT_EVENT: detected no buffering proxy")})),Za.c_=!0}}zo(t,i,s,l,c){const d=Vm();return new Promise(((g,_)=>{const y=new ME;y.setWithCredentials(!0),y.listenOnce(kE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Jc.NO_ERROR:const A=y.getResponseJson();st($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Jc.TIMEOUT:st($e,`RPC '${t}' ${d} timed out`),_(new rt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const w=y.getStatus();if(st($e,`RPC '${t}' ${d} failed with status:`,w,"response text:",y.getResponseText()),w>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const q=H?.error;if(q&&q.status&&q.message){const Q=(function(tt){const ft=tt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ft)>=0?ft:J.UNKNOWN})(q.status);_(new rt(Q,q.message))}else _(new rt(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new rt(J.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st($e,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);st($e,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,s,15)}))}T_(t,i,s){const l=Vm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const y=c.join("");st($e,`Creating RPC '${t}' stream ${l}: ${y}`,g);const T=d.createWebChannel(y,g);this.I_(T);let A=!1,w=!1;const H=new _C({Ho:q=>{w?st($e,`Not sending because RPC '${t}' stream ${l} is closed:`,q):(A||(st($e,`Opening RPC '${t}' stream ${l} transport.`),T.open(),A=!0),st($e,`RPC '${t}' stream ${l} sending:`,q),T.send(q))},Jo:()=>T.close()});return Dl(T,Vl.EventType.OPEN,(()=>{w||(st($e,`RPC '${t}' stream ${l} transport opened.`),H.i_())})),Dl(T,Vl.EventType.CLOSE,(()=>{w||(w=!0,st($e,`RPC '${t}' stream ${l} transport closed`),H.o_(),this.E_(T))})),Dl(T,Vl.EventType.ERROR,(q=>{w||(w=!0,ro($e,`RPC '${t}' stream ${l} transport errored. Name:`,q.name,"Message:",q.message),H.o_(new rt(J.UNAVAILABLE,"The operation could not be completed")))})),Dl(T,Vl.EventType.MESSAGE,(q=>{if(!w){const Q=q.data[0];Ht(!!Q,16349);const Z=Q,tt=Z?.error||Z[0]?.error;if(tt){st($e,`RPC '${t}' stream ${l} received error:`,tt);const ft=tt.status;let ht=(function(kt){const N=Re[kt];if(N!==void 0)return ET(N)})(ft),Mt=tt.message;ht===void 0&&(ht=J.INTERNAL,Mt="Unknown error status: "+ft+" with message "+tt.message),w=!0,H.o_(new rt(ht,Mt)),T.close()}else st($e,`RPC '${t}' stream ${l} received:`,Q),H.__(Q)}})),Za.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,s){super.Go(t,i,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return PE()}}function vC(r){return new Za(r)}function um(){return typeof document<"u"?document:null}function Lh(r){return new AI(r,!0)}Za.c_=!1;class kT{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const _0="PersistentStream";class UT{constructor(t,i,s,l,c,d,g,_){this.Ci=t,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(rr(i.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new rt(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(_0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(st(_0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EC extends UT{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=RI(this.serializer,t),s=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?xi(d.readTime):_t.min()})(t);return this.listener.J_(i,s)}Z_(t){const i={};i.database=xm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=wm(_)?{documents:NI(c,_)}:{query:DI(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=AT(c,d.resumeToken);const y=Cm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=yh(c,d.snapshotVersion.toTimestamp());const y=Cm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const s=OI(this.serializer,t);s&&(i.labels=s),this.K_(i)}X_(t){const i={};i.database=xm(this.serializer),i.removeTarget=t,this.K_(i)}}class TC extends UT{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=CI(t.writeResults,t.commitTime),s=xi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=xm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>II(this.serializer,s)))};this.K_(i)}}class bC{}class AC extends bC{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,Nm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(J.UNKNOWN,c.toString())}))}jo(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,Nm(i,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function SC(r,t,i,s){return new AC(r,t,i,s)}class wC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ys="RemoteStore";class RC{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Js(this)&&(st(Ys,"Restarting streams for network reachability change."),await(async function(_){const y=Et(_);y.Ea.add(4),await lu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ph(y)})(this))}))})),this.Va=new wC(s,l)}}async function Ph(r){if(Js(r))for(const t of r.Ra)await t(!0)}async function lu(r){for(const t of r.Ra)await t(!1)}function LT(r,t){const i=Et(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),pg(i)?gg(i):To(i).O_()&&mg(i,t))}function dg(r,t){const i=Et(r),s=To(i);i.Ia.delete(t),s.O_()&&PT(i,t),i.Ia.size===0&&(s.O_()?s.L_():Js(i)&&i.Va.set("Unknown"))}function mg(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}To(r).Z_(t)}function PT(r,t){r.da.$e(t),To(r).X_(t)}function gg(r){r.da=new vI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),To(r).start(),r.Va.ua()}function pg(r){return Js(r)&&!To(r).x_()&&r.Ia.size>0}function Js(r){return Et(r).Ea.size===0}function zT(r){r.da=void 0}async function IC(r){r.Va.set("Online")}async function CC(r){r.Ia.forEach(((t,i)=>{mg(r,t)}))}async function NC(r,t){zT(r),pg(r)?(r.Va.ha(t),gg(r)):r.Va.set("Unknown")}async function DC(r,t,i){if(r.Va.set("Online"),t instanceof bT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(r,t)}catch(s){st(Ys,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await vh(r,s)}else if(t instanceof eh?r.da.Xe(t):t instanceof TT?r.da.st(t):r.da.tt(t),!i.isEqual(_t.min()))try{const s=await MT(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),PT(c,_);const A=new Yr(T.target,_,y,T.sequenceNumber);mg(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){st(Ys,"Failed to raise snapshot:",s),await vh(r,s)}}async function vh(r,t,i){if(!Eo(t))throw t;r.Ea.add(1),await lu(r),r.Va.set("Offline"),i||(i=()=>MT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Ys,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ph(r)}))}function jT(r,t){return t().catch((i=>vh(r,i,t)))}async function zh(r){const t=Et(r),i=as(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Wm;for(;xC(t);)try{const l=await hC(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,OC(t,l)}catch(l){await vh(t,l)}BT(t)&&qT(t)}function xC(r){return Js(r)&&r.Ta.length<10}function OC(r,t){r.Ta.push(t);const i=as(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function BT(r){return Js(r)&&!as(r).x_()&&r.Ta.length>0}function qT(r){as(r).start()}async function VC(r){as(r).ra()}async function MC(r){const t=as(r);for(const i of r.Ta)t.ea(i.mutations)}async function kC(r,t,i){const s=r.Ta.shift(),l=ag.from(s,t,i);await jT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await zh(r)}async function UC(r,t){t&&as(r).Y_&&await(async function(s,l){if((function(d){return pI(d)&&d!==J.ABORTED})(l.code)){const c=s.Ta.shift();as(s).B_(),await jT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await zh(s)}})(r,t),BT(r)&&qT(r)}async function v0(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),st(Ys,"RemoteStore received new credentials");const s=Js(i);i.Ea.add(3),await lu(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ph(i)}async function LC(r,t){const i=Et(r);t?(i.Ea.delete(2),await Ph(i)):t||(i.Ea.add(2),await lu(i),i.Va.set("Unknown"))}function To(r){return r.ma||(r.ma=(function(i,s,l){const c=Et(i);return c.sa(),new EC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:IC.bind(null,r),Yo:CC.bind(null,r),t_:NC.bind(null,r),J_:DC.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),pg(r)?gg(r):r.Va.set("Unknown")):(await r.ma.stop(),zT(r))}))),r.ma}function as(r){return r.fa||(r.fa=(function(i,s,l){const c=Et(i);return c.sa(),new TC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:VC.bind(null,r),t_:UC.bind(null,r),ta:MC.bind(null,r),na:kC.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await zh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Ys,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class yg{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new yg(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(r,t){if(rr("AsyncQueue",`${t}: ${r}`),Eo(r))return new rt(J.UNAVAILABLE,`${t}: ${r}`);throw r}class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=Ml(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Wa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class E0{constructor(){this.ga=new le(ct.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class co{constructor(t,i,s,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new co(t,i,Wa.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class PC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class zC{constructor(){this.queries=T0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Et(i),c=l.queries;l.queries=T0(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(s)}))})(this,new rt(J.ABORTED,"Firestore shutting down"))}}function T0(){return new $s((r=>aT(r)),Oh)}async function HT(r,t){const i=Et(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(s=2):(c=new PC,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=_g(d,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&vg(i)}async function FT(r,t){const i=Et(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function jC(r,t){const i=Et(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(s=!0);d.wa=l}}s&&vg(i)}function BC(r,t,i){const s=Et(r),l=s.queries.get(t);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(t)}function vg(r){r.Ca.forEach((t=>{t.next()}))}var Mm,b0;(b0=Mm||(Mm={})).Ma="default",b0.Cache="cache";class GT{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new co(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Mm.Cache}}class KT{constructor(t){this.key=t}}class QT{constructor(t){this.key=t}}class qC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ot(),this.mutatedKeys=Ot(),this.eu=oT(t),this.tu=new Wa(this.eu)}get nu(){return this.Za}ru(t,i){const s=i?i.iu:new E0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,A)=>{const w=l.get(T),H=Vh(this.query,A)?A:null,q=!!w&&this.mutatedKeys.has(w.key),Q=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;w&&H?w.data.isEqual(H.data)?q!==Q&&(s.track({type:3,doc:H}),Z=!0):this.su(w,H)||(s.track({type:2,doc:H}),Z=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(g=!0)):!w&&H?(s.track({type:0,doc:H}),Z=!0):w&&!H&&(s.track({type:1,doc:w}),Z=!0,(_||y)&&(g=!0)),Z&&(H?(d=d.add(H),c=Q?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,A)=>(function(H,q){const Q=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:Z})}};return Q(H)-Q(q)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new co(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return t.forEach((s=>{this.Ya.has(s)||i.push(new QT(s))})),this.Ya.forEach((s=>{t.has(s)||i.push(new KT(s))})),i}cu(t){this.Za=t.ks,this.Ya=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Eg="SyncEngine";class HC{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class FC{constructor(t){this.key=t,this.hu=!1}}class GC{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $s((g=>aT(g)),Oh),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ct.comparator),this.Au=new Map,this.Vu=new ug,this.du={},this.mu=new Map,this.fu=uo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KC(r,t,i=!0){const s=WT(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await YT(s,t,i,!0),l}async function QC(r,t){const i=WT(r);await YT(i,t,!0,!1)}async function YT(r,t,i,s){const l=await fC(r.localStore,Di(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await YC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&LT(r.remoteStore,l),g}async function YC(r,t,i,s,l){r.pu=(A,w,H)=>(async function(Q,Z,tt,ft){let ht=Z.view.ru(tt);ht.Ss&&(ht=await m0(Q.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,ht))));const Mt=ft&&ft.targetChanges.get(Z.targetId),Zt=ft&&ft.targetMismatches.get(Z.targetId)!=null,kt=Z.view.applyChanges(ht,Q.isPrimaryClient,Mt,Zt);return S0(Q,Z.targetId,kt.au),kt.snapshot})(r,A,w,H);const c=await m0(r.localStore,t,!0),d=new qC(t,c.ks),g=d.ru(c.documents),_=ou.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,_);S0(r,i,y.au);const T=new HC(t,i,d);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function XC(r,t,i){const s=Et(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Oh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Om(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&dg(s.remoteStore,l.targetId),km(s,l.targetId)})).catch(vo)):(km(s,l.targetId),await Om(s.localStore,l.targetId,!0))}async function $C(r,t){const i=Et(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),dg(i.remoteStore,s.targetId))}async function JC(r,t,i){const s=rN(r);try{const l=await(function(d,g){const _=Et(d),y=ie.now(),T=g.reduce(((H,q)=>H.add(q.key)),Ot());let A,w;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let q=sr(),Q=Ot();return _.xs.getEntries(H,T).next((Z=>{q=Z,q.forEach(((tt,ft)=>{ft.isValidDocument()||(Q=Q.add(tt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,q))).next((Z=>{A=Z;const tt=[];for(const ft of g){const ht=hI(ft,A.get(ft.key).overlayedDocument);ht!=null&&tt.push(new cs(ft.key,ht,ZE(ht.value.mapValue),jn.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,tt,g)})).next((Z=>{w=Z;const tt=Z.applyToLocalDocumentSet(A,Q);return _.documentOverlayCache.saveOverlays(H,Z.batchId,tt)}))})).then((()=>({batchId:w.batchId,changes:uT(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new le(xt)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(s,l.batchId,i),await uu(s,l.changes),await zh(s.remoteStore)}catch(l){const c=_g(l,"Failed to persist write");i.reject(c)}}async function XT(r,t){const i=Et(r);try{const s=await uC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await uu(i,s,t)}catch(s){await vo(s)}}function A0(r,t,i){const s=Et(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Et(d);_.onlineState=g;let y=!1;_.queries.forEach(((T,A)=>{for(const w of A.ba)w.va(g)&&(y=!0)})),y&&vg(_)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function ZC(r,t,i){const s=Et(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new le(ct.comparator);d=d.insert(c,Ze.newNoDocument(c,_t.min()));const g=Ot().add(c),_=new Uh(_t.min(),new Map,new le(xt),d,g);await XT(s,_),s.Ru=s.Ru.remove(c),s.Au.delete(t),Tg(s)}else await Om(s.localStore,t,!1).then((()=>km(s,t,i))).catch(vo)}async function WC(r,t){const i=Et(r),s=t.batch.batchId;try{const l=await lC(i.localStore,t);JT(i,s,null),$T(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await uu(i,l)}catch(l){await vo(l)}}async function tN(r,t,i){const s=Et(r);try{const l=await(function(d,g){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>(Ht(A!==null,37113),T=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(s.localStore,t);JT(s,t,i),$T(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await uu(s,l)}catch(l){await vo(l)}}function $T(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function JT(r,t,i){const s=Et(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function km(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||ZT(r,s)}))}function ZT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(dg(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),Tg(r))}function S0(r,t,i){for(const s of i)s instanceof KT?(r.Vu.addReference(s.key,t),eN(r,s)):s instanceof QT?(st(Eg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||ZT(r,s.key)):pt(19791,{wu:s})}function eN(r,t){const i=t.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(st(Eg,"New document in limbo: "+i),r.Eu.add(s),Tg(r))}function Tg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ct(te.fromString(t)),s=r.fu.next();r.Au.set(s,new FC(i)),r.Ru=r.Ru.insert(i,s),LT(r.remoteStore,new Yr(Di(xh(i.path)),s,"TargetPurposeLimboResolution",Ch.ce))}}async function uu(r,t,i){const s=Et(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,_)=>{d.push(s.pu(_,t,i).then((y=>{if((y||i)&&s.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=hg.Es(_.targetId,y);c.push(T)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(_,y){const T=Et(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>W.forEach(y,(w=>W.forEach(w.Ts,(H=>T.persistence.referenceDelegate.addReference(A,w.targetId,H))).next((()=>W.forEach(w.Is,(H=>T.persistence.referenceDelegate.removeReference(A,w.targetId,H)))))))))}catch(A){if(!Eo(A))throw A;st(fg,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const H=T.vs.get(w),q=H.snapshotVersion,Q=H.withLastLimboFreeSnapshotVersion(q);T.vs=T.vs.insert(w,Q)}}})(s.localStore,c))}async function nN(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){st(Eg,"User change. New user:",t.toKey());const s=await VT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new rt(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await uu(i,s.Ns)}}function iN(r,t){const i=Et(r),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function WT(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZC.bind(null,t),t.Pu.J_=jC.bind(null,t.eventManager),t.Pu.yu=BC.bind(null,t.eventManager),t}function rN(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tN.bind(null,t),t}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Lh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return oC(this.persistence,new rC,t.initialUser,this.serializer)}Cu(t){return new OT(cg.Vi,this.serializer)}Du(t){return new mC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class sN extends Eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof _h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new HI(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new OT((s=>_h.Vi(s,i)),this.serializer)}}class Um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>A0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nN.bind(null,this.syncEngine),await LC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new zC})()}createDatastore(t){const i=Lh(t.databaseInfo.databaseId),s=vC(t.databaseInfo);return SC(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,g){return new RC(s,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>A0(this.syncEngine,i,0)),(function(){return y0.v()?new y0:new gC})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,T){const A=new GC(l,c,d,g,_,y);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Et(i);st(Ys,"RemoteStore shutting down."),s.Ea.add(5),await lu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};class t1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const os="FirestoreClient";class aN{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{st(os,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st(os,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=_g(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function cm(r,t){r.asyncQueue.verifyOperationInProgress(),st(os,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await VT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function w0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await oN(r);st(os,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>v0(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>v0(t.remoteStore,l))),r._onlineComponents=t}async function oN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(os,"Using user provided OfflineComponentProvider");try{await cm(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ro("Error using user provided cache. Falling back to memory cache: "+i),await cm(r,new Eh)}}else st(os,"Using default OfflineComponentProvider"),await cm(r,new sN(void 0));return r._offlineComponents}async function e1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(os,"Using user provided OnlineComponentProvider"),await w0(r,r._uninitializedComponentsProvider._online)):(st(os,"Using default OnlineComponentProvider"),await w0(r,new Um))),r._onlineComponents}function lN(r){return e1(r).then((t=>t.syncEngine))}async function Lm(r){const t=await e1(r),i=t.eventManager;return i.onListen=KC.bind(null,t.syncEngine),i.onUnlisten=XC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=QC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=$C.bind(null,t.syncEngine),i}function uN(r,t,i,s){const l=new t1(s),c=new GT(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>HT(await Lm(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>FT(await Lm(r),c)))}}function cN(r,t,i={}){const s=new Wr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const T=new t1({next:w=>{T.Nu(),d.enqueueAndForget((()=>FT(c,A)));const H=w.docs.has(g);!H&&w.fromCache?y.reject(new rt(J.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&w.fromCache&&_&&_.source==="server"?y.reject(new rt(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new GT(xh(g.path),T,{includeMetadataChanges:!0,Ka:!0});return HT(c,A)})(await Lm(r),r.asyncQueue,t,i,s))),s.promise}function hN(r,t){const i=new Wr;return r.asyncQueue.enqueueAndForget((async()=>JC(await lN(r),t,i))),i.promise}function n1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const fN="ComponentProvider",R0=new Map;function dN(r,t,i,s,l){return new k2(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,n1(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const i1="firestore.googleapis.com",I0=!0;class C0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i1,this.ssl=I0}else this.host=t.host,this.ssl=t.ssl??I0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=xT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<BI)throw new rt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}S2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new m2;switch(s.type){case"firstParty":return new _2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=R0.get(i);s&&(st(fN,"Removing Datastore"),R0.delete(i),s.terminate())})(this),Promise.resolve()}}function mN(r,t,i,s={}){r=zn(r,jh);const l=mo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(F0(`https://${g}`),G0("Firestore",!0)),c.host!==i1&&c.host!==g&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:s};if(!es(_,d)&&(r._setSettings(_),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Je.MOCK_USER;else{y=vA(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new rt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Je(A)}r._authCredentials=new g2(new jE(y,T))}}class bo{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new bo(this.firestore,t,this._query)}}class he{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new he(this.firestore,t,this._key)}toJSON(){return{type:he._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(ru(i,he._jsonSchema))return new he(t,s||null,new ct(te.fromString(i.referencePath)))}}he._jsonSchemaVersion="firestore/documentReference/1.0",he._jsonSchema={type:Ce("string",he._jsonSchemaVersion),referencePath:Ce("string")};class ts extends bo{constructor(t,i,s){super(t,i,xh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new he(this.firestore,null,new ct(t))}withConverter(t){return new ts(this.firestore,t,this._path)}}function ho(r,t,...i){if(r=Ne(r),BE("collection","path",t),r instanceof jh){const s=te.fromString(t,...i);return Bv(s),new ts(r,null,s)}{if(!(r instanceof he||r instanceof ts))throw new rt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...i));return Bv(s),new ts(r.firestore,null,s)}}function ei(r,t,...i){if(r=Ne(r),arguments.length===1&&(t=Zm.newId()),BE("doc","path",t),r instanceof jh){const s=te.fromString(t,...i);return jv(s),new he(r,null,new ct(s))}{if(!(r instanceof he||r instanceof ts))throw new rt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...i));return jv(s),new he(r.firestore,r instanceof ts?r.converter:null,new ct(s))}}const N0="AsyncQueue";class D0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kT(this,"async_queue_retry"),this._c=()=>{const s=um();s&&st(N0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=um();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=um();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Eo(t))throw t;st(N0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",x0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=yg.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:x0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function x0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class ls extends jh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new D0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new D0(t),this._firestoreClient=void 0,await t}}}function gN(r,t){const i=typeof r=="object"?r:X0(),s=typeof r=="string"?r:fh,l=qm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=yA("firestore");c&&mN(l,...c)}return l}function bg(r){if(r._terminated)throw new rt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pN(r),r._firestoreClient}function pN(r){const t=r._freezeSettings(),i=dN(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new aN(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Ye.fromBase64String(t))}catch(i){throw new rt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Pn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ru(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ce("string",Pn._jsonSchemaVersion),bytes:Ce("string")};class Ag{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cu{constructor(t){this._methodName=t}}class Oi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(ru(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Ce("string",Oi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ru(t,ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ni(t.vectorValues);throw new rt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Ce("string",ni._jsonSchemaVersion),vectorValues:Ce("object")};const yN=/^__.*__$/;class _N{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new cs(t,this.data,this.fieldMask,i,this.fieldTransforms):new au(t,this.data,i,this.fieldTransforms)}}class r1{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new cs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function s1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:r})}}class Bh{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Bh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Th(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(s1(this.dataSource)&&yN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class vN{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Lh(t)}createContext(t,i,s,l=!1){return new Bh({dataSource:t,methodName:i,targetDoc:s,path:Qe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qh(r){const t=r._freezeSettings(),i=Lh(r._databaseId);return new vN(r._databaseId,!!t.ignoreUndefinedProperties,i)}function a1(r,t,i,s,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);Rg("Data must be an object, but it was:",d,s);const g=o1(s,d);let _,y;if(c.merge)_=new Sn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const w=fo(t,A,i);if(!d.contains(w))throw new rt(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);c1(T,w)||T.push(w)}_=new Sn(T),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new _N(new mn(g),_,y)}class Hh extends cu{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Hh}}function EN(r,t,i){return new Bh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:r._methodName,arrayElement:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Sg extends cu{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=EN(this,t,!0),s=this.Ac.map((c=>Ao(c,i))),l=new lo(s);return new yT(t.path,l)}isEqual(t){return t instanceof Sg&&es(this.Ac,t.Ac)}}class wg extends cu{constructor(t,i){super(t),this.Vc=i}_toFieldTransform(t){const i=new $l(t.serializer,fT(t.serializer,this.Vc));return new yT(t.path,i)}isEqual(t){return t instanceof wg&&this.Vc===t.Vc}}function TN(r,t,i,s){const l=r.createContext(1,t,i);Rg("Data must be an object, but it was:",l,s);const c=[],d=mn.empty();us(s,((_,y)=>{const T=u1(t,_,i);y=Ne(y);const A=l.childContextForFieldPath(T);if(y instanceof Hh)c.push(T);else{const w=Ao(y,A);w!=null&&(c.push(T),d.set(T,w))}}));const g=new Sn(c);return new r1(d,g,l.fieldTransforms)}function bN(r,t,i,s,l,c){const d=r.createContext(1,t,i),g=[fo(t,s,i)],_=[l];if(c.length%2!=0)throw new rt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(fo(t,c[w])),_.push(c[w+1]);const y=[],T=mn.empty();for(let w=g.length-1;w>=0;--w)if(!c1(y,g[w])){const H=g[w];let q=_[w];q=Ne(q);const Q=d.childContextForFieldPath(H);if(q instanceof Hh)y.push(H);else{const Z=Ao(q,Q);Z!=null&&(y.push(H),T.set(H,Z))}}const A=new Sn(y);return new r1(T,A,d.fieldTransforms)}function AN(r,t,i,s=!1){return Ao(i,r.createContext(s?4:3,t))}function Ao(r,t){if(l1(r=Ne(r)))return Rg("Unsupported field value:",t,r),o1(r,t);if(r instanceof cu)return(function(s,l){if(!s1(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let _=Ao(g,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=Ne(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fT(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ie.fromDate(s);return{timestampValue:yh(l.serializer,c)}}if(s instanceof ie){const c=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yh(l.serializer,c)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:AT(l.serializer,s._byteString)};if(s instanceof he){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:lg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ni)return(function(d,g){const _=d instanceof ni?d.toArray():d;return{mapValue:{fields:{[$E]:{stringValue:JE},[dh]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return rg(g.serializer,T)}))}}}}}})(s,l);if(DT(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Ih(s)}`)})(r,t)}function o1(r,t){const i={};return FE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):us(r,((s,l)=>{const c=Ao(l,t.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function l1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Oi||r instanceof Pn||r instanceof he||r instanceof cu||r instanceof ni||DT(r))}function Rg(r,t,i){if(!l1(i)||!qE(i)){const s=Ih(i);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function fo(r,t,i){if((t=Ne(t))instanceof Ag)return t._internalPath;if(typeof t=="string")return u1(r,t);throw Th("Field path arguments must be of type string or ",r,!1,void 0,i)}const SN=new RegExp("[~\\*/\\[\\]]");function u1(r,t,i){if(t.search(SN)>=0)throw Th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ag(...t.split("."))._internalPath}catch{throw Th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Th(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new rt(J.INVALID_ARGUMENT,g+r+_)}function c1(r,t){return r.some((i=>i.isEqual(t)))}class wN{convertValue(t,i="none"){switch(ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(rs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return us(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[dh].arrayValue?.values?.map((s=>pe(s.doubleValue)));return new ni(i)}convertGeoPoint(t){return new Oi(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Dh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Kl(t));default:return null}}convertTimestamp(t){const i=is(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=te.fromString(t);Ht(NT(s),9688,{name:t});const l=new Ql(s.get(1),s.get(3)),c=new ct(s.popFirst(5));return l.isEqual(i)||rr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class h1 extends wN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new he(this.firestore,null,i)}}function RN(...r){return new Sg("arrayUnion",r)}function Ya(r){return new wg("increment",r)}const O0="@firebase/firestore",V0="4.10.0";function M0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class f1{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new he(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new IN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(fo("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class IN extends f1{data(){return super.data()}}function CN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class NN extends Ig{}function Jl(r,t,...i){let s=[];t instanceof Ig&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((_=>_ instanceof Ng)).length,g=c.filter((_=>_ instanceof Fh)).length;if(d>1||d>0&&g>0)throw new rt(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Fh extends NN{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Fh(t,i,s)}_apply(t){const i=this._parse(t);return d1(t._query,i),new bo(t.firestore,t.converter,Rm(t._query,i))}_parse(t){const i=qh(t.firestore);return(function(c,d,g,_,y,T,A){let w;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){U0(A,T);const q=[];for(const Q of A)q.push(k0(_,c,Q));w={arrayValue:{values:q}}}else w=k0(_,c,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||U0(A,T),w=AN(g,d,A,T==="in"||T==="not-in");return Ie.create(y,T,w)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Cg(r,t,i){const s=t,l=fo("where",r);return Fh._create(l,s,i)}class Ng extends Ig{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Ng(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const _ of g)d1(d,_),d=Rm(d,_)})(t._query,i),new bo(t.firestore,t.converter,Rm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function k0(r,t,i){if(typeof(i=Ne(i))=="string"){if(i==="")throw new rt(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sT(t)&&i.indexOf("/")!==-1)throw new rt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(te.fromString(i));if(!ct.isDocumentKey(s))throw new rt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Xv(r,new ct(s))}if(i instanceof he)return Xv(r,i._key);throw new rt(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(i)}.`)}function U0(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function d1(r,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function m1(r,t,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,s}class Ul{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fs extends f1{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(fo("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Fs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:Ce("string",Fs._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class nh extends Fs{data(t={}){return super.data(t)}}class to{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ul(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new nh(this._firestore,this._userDataWriter,s.key,s,new Ul(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new nh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ul(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new nh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ul(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:DN(g.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=to._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Ce("string",to._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function xN(r){r=zn(r,he);const t=zn(r.firestore,ls),i=bg(t);return cN(i,r._key).then((s=>g1(t,r,s)))}function Zl(r,t,i){r=zn(r,he);const s=zn(r.firestore,ls),l=m1(r.converter,t,i),c=qh(s);return Gh(s,[a1(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,jn.none())])}function bh(r,t,i,...s){r=zn(r,he);const l=zn(r.firestore,ls),c=qh(l);let d;return d=typeof(t=Ne(t))=="string"||t instanceof Ag?bN(c,"updateDoc",r._key,t,i,s):TN(c,"updateDoc",r._key,t),Gh(l,[d.toMutation(r._key,jn.exists(!0))])}function ON(r){return Gh(zn(r.firestore,ls),[new sg(r._key,jn.none())])}function VN(r,t){const i=zn(r.firestore,ls),s=ei(r),l=m1(r.converter,t),c=qh(r.firestore);return Gh(i,[a1(c,"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,jn.exists(!1))]).then((()=>s))}function Xs(r,...t){r=Ne(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||M0(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(M0(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof he)d=zn(r.firestore,ls),g=xh(r._key.path),c={next:y=>{t[s]&&t[s](g1(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=zn(r,bo);d=zn(y.firestore,ls),g=y._query;const T=new h1(d);c={next:A=>{t[s]&&t[s](new to(d,T,y,A))},error:t[s+1],complete:t[s+2]},CN(r._query)}const _=bg(d);return uN(_,g,l,c)}function Gh(r,t){const i=bg(r);return hN(i,t)}function g1(r,t,i){const s=i.docs.get(t._key),l=new h1(r);return new Fs(r,l,t._key,s,new Ul(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){d2(go),no(new Gs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new ls(new p2(s.getProvider("auth-internal")),new v2(d,s.getProvider("app-check-internal")),U2(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Jr(O0,V0,t),Jr(O0,V0,"esm2020")})();const p1=(...r)=>r.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim();const MN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const kN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase());const L0=r=>{const t=kN(r);return t.charAt(0).toUpperCase()+t.slice(1)};var UN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LN=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const PN=wt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...g},_)=>wt.createElement("svg",{ref:_,...UN,width:t,height:t,stroke:r,strokeWidth:s?Number(i)*24/Number(t):i,className:p1("lucide",l),...!c&&!LN(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,T])=>wt.createElement(y,T)),...Array.isArray(c)?c:[c]]));const ze=(r,t)=>{const i=wt.forwardRef(({className:s,...l},c)=>wt.createElement(PN,{ref:c,iconNode:t,className:p1(`lucide-${MN(L0(r))}`,`lucide-${r}`,s),...l}));return i.displayName=L0(r),i};const zN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jN=ze("calendar",zN);const BN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qN=ze("check",BN);const HN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],FN=ze("circle-alert",HN);const GN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],y1=ze("circle-check",GN);const KN=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Kh=ze("coins",KN);const QN=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Qh=ze("flame",QN);const YN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zs=ze("loader-circle",YN);const XN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$N=ze("log-out",XN);const JN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M7.828 13.07A3 3 0 0 1 12 8.764a3 3 0 0 1 5.004 2.224 3 3 0 0 1-.832 2.083l-3.447 3.62a1 1 0 0 1-1.45-.001z",key:"hoo97p"}]],Dg=ze("message-circle-heart",JN);const ZN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],WN=ze("plus",ZN);const tD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],eD=ze("trending-up",tD);const nD=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],_1=ze("trophy",nD);const iD=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],rD=ze("undo-2",iD);const sD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],aD=ze("user-plus",sD);const oD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],v1=ze("user",oD);const lD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],E1=ze("users",lD);const uD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],T1=ze("x",uD);const cD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hD=ze("zap",cD),fD={apiKey:"AIzaSyBp7mDobIYrVIUkDfuClqqfdm9JIYW3yvs",authDomain:"gate26-mocks.firebaseapp.com",projectId:"gate26-mocks",storageBucket:"gate26-mocks.firebasestorage.app",messagingSenderId:"46444663512",appId:"1:46444663512:web:701e86ce9f47735ae1fdad",measurementId:"G-2JZTZYTEWJ"},b1=Y0(fD),eo=h2(b1),We=gN(b1),Pm=()=>"habit-squad-main",dD=r=>{if(!r||r.length===0)return 0;const t=[...r].sort((g,_)=>new Date(_)-new Date(g)),i=new Date().toISOString().split("T")[0],s=new Date;s.setDate(s.getDate()-1);const l=s.toISOString().split("T")[0];if(t[0]!==i&&t[0]!==l)return 0;let c=1,d=new Date(t[0]);for(let g=1;g<t.length;g++){const _=new Date(t[g]),y=Math.abs(d-_),T=Math.round(y/(1e3*60*60*24));if(T===1)c++,d=_;else{if(T===0)continue;break}}return c},mD=({message:r,type:t,onClose:i})=>{wt.useEffect(()=>{const l=setTimeout(i,3e3);return()=>clearTimeout(l)},[i]);const s={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return D.jsxs("div",{className:`fixed top-4 right-4 z-50 ${s[t]||s.info} text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 animate-in fade-in slide-in-from-top-5`,children:[t==="success"&&D.jsx(qN,{size:20}),t==="error"&&D.jsx(FN,{size:20}),D.jsx("span",{className:"font-medium",children:r}),D.jsx("button",{onClick:i,className:"ml-2 hover:bg-white/20 p-1 rounded-full",children:D.jsx(T1,{size:16})})]})},gD=({isOpen:r,title:t,message:i,onConfirm:s,onCancel:l})=>r?D.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-in fade-in",children:D.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-sm w-full p-6 border border-gray-700 shadow-2xl scale-100",children:[D.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:t}),D.jsx("p",{className:"text-gray-300 mb-6",children:i}),D.jsxs("div",{className:"flex gap-3",children:[D.jsx("button",{onClick:l,className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),D.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors",children:"Confirm"})]})]})}):null,pD=({setUser:r,showToast:t})=>{const[i,s]=wt.useState(!0),[l,c]=wt.useState(""),[d,g]=wt.useState(""),[_,y]=wt.useState(""),[T,A]=wt.useState(!1),w=async()=>{A(!0);const q=Pm();try{const Q=await Bw(eo);await Zl(ei(We,"artifacts",q,"public","data","users",Q.user.uid),{uid:Q.user.uid,displayName:"Mystery Guest",email:"guest@habitsquad.app",coins:50,cheers:0,joinedAt:new Date().toISOString()},{merge:!0}),t("Welcome Guest! You got 50 coins.","success")}catch(Q){console.error(Q),t("Guest login failed.","error")}finally{A(!1)}},H=async q=>{q.preventDefault(),A(!0);const Q=Pm();try{let Z;i?(Z=await Yw(eo,l,d),t("Welcome back!","success")):(Z=await Qw(eo,l,d),await $w(Z.user,{displayName:_}),await Zl(ei(We,"artifacts",Q,"public","data","users",Z.user.uid),{uid:Z.user.uid,displayName:_,email:l,coins:100,cheers:0,joinedAt:new Date().toISOString()},{merge:!0}),t("Account created! Here's 100 coins.","success"))}catch(Z){console.error(Z);let tt=Z.message;tt.includes("auth/email-already-in-use")&&(tt="Email already used."),tt.includes("auth/invalid-email")&&(tt="Invalid email address."),tt.includes("auth/weak-password")&&(tt="Password too weak."),tt.includes("auth/wrong-password")&&(tt="Incorrect password."),tt.includes("auth/user-not-found")&&(tt="No account found."),t(tt,"error")}finally{A(!1)}};return D.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 px-4",children:D.jsx("div",{className:"max-w-md w-full bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-700",children:D.jsxs("div",{className:"p-8",children:[D.jsx("div",{className:"flex justify-center mb-6",children:D.jsx("div",{className:"bg-orange-500 p-3 rounded-full shadow-lg shadow-orange-500/20",children:D.jsx(Qh,{size:32,className:"text-white"})})}),D.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-2",children:"HabitSquad"}),D.jsx("p",{className:"text-center text-gray-400 mb-8",children:i?"Welcome back, legend.":"Join the squad. Build the streak."}),D.jsxs("form",{onSubmit:H,className:"space-y-4",children:[!i&&D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Display Name"}),D.jsx("input",{type:"text",required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-orange-500 transition-colors",placeholder:"HabitHero",value:_,onChange:q=>y(q.target.value)})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),D.jsx("input",{type:"email",required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-orange-500 transition-colors",placeholder:"you@example.com",value:l,onChange:q=>c(q.target.value)})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Password"}),D.jsx("input",{type:"password",required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-orange-500 transition-colors",placeholder:"",value:d,onChange:q=>g(q.target.value)})]}),D.jsx("button",{type:"submit",disabled:T,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 text-white font-bold py-3 rounded-lg hover:opacity-90 transition-opacity flex justify-center items-center disabled:opacity-50",children:T?D.jsx(Zs,{className:"animate-spin",size:20}):i?"Log In":"Sign Up"})]}),D.jsxs("div",{className:"relative my-6",children:[D.jsx("div",{className:"absolute inset-0 flex items-center",children:D.jsx("div",{className:"w-full border-t border-gray-700"})}),D.jsx("div",{className:"relative flex justify-center text-sm",children:D.jsx("span",{className:"px-2 bg-gray-800 text-gray-500",children:"Or"})})]}),D.jsxs("button",{type:"button",onClick:w,disabled:T,className:"w-full bg-gray-700 text-gray-300 font-semibold py-3 rounded-lg hover:bg-gray-600 transition-colors flex justify-center items-center gap-2",children:[D.jsx(v1,{size:18})," Continue as Guest"]}),D.jsx("div",{className:"mt-6 text-center",children:D.jsx("button",{onClick:()=>s(!i),className:"text-gray-400 hover:text-white text-sm transition-colors",children:i?"Need an account? Sign Up":"Already have an account? Log In"})})]})})})};function yD(){const[r,t]=wt.useState(null),[i,s]=wt.useState(!0),[l,c]=wt.useState("habits"),[d,g]=wt.useState(!1),[_,y]=wt.useState(null),T=Pm(),A=(w,H="info")=>{y({message:w,type:H})};return wt.useEffect(()=>{(async()=>{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await Kw(eo,__initial_auth_token)}catch(q){console.error("Token auth failed",q)}})();const H=Ww(eo,async q=>{if(t(q),q)try{const Q=ei(We,"artifacts",T,"public","data","users",q.uid);(await xN(Q)).exists()||await Zl(Q,{uid:q.uid,displayName:q.displayName||"Habit Hero",email:q.email||"hero@habitsquad.app",coins:0,cheers:0,joinedAt:new Date().toISOString()},{merge:!0})}catch(Q){console.error("Profile sync error:",Q)}s(!1)});return()=>H()},[T]),i?D.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:D.jsx(Zs,{className:"animate-spin text-orange-500",size:48})}):r?D.jsxs("div",{className:"min-h-screen bg-gray-900 text-white font-sans selection:bg-orange-500/30 pb-20",children:[_&&D.jsx(mD,{message:_.message,type:_.type,onClose:()=>y(null)}),D.jsx("header",{className:"sticky top-0 z-10 bg-gray-900/95 backdrop-blur-md border-b border-gray-800 px-4 py-3 shadow-sm",children:D.jsxs("div",{className:"max-w-2xl mx-auto flex justify-between items-center",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 p-2 rounded-lg",children:D.jsx(Qh,{size:20,className:"text-white fill-current"})}),D.jsx("h1",{className:"font-bold text-xl tracking-tight hidden sm:block",children:"HabitSquad"})]}),D.jsx(_D,{user:r,appId:T}),D.jsx("button",{onClick:()=>tR(eo),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-full transition-all",title:"Sign Out",children:D.jsx($N,{size:20})})]})}),D.jsxs("main",{className:"max-w-2xl mx-auto px-4 py-6",children:[l==="habits"&&D.jsx(vD,{user:r,appId:T,setShowAddHabit:g,showToast:A}),l==="squad"&&D.jsx(bD,{user:r,appId:T,showToast:A}),l==="leaderboard"&&D.jsx(AD,{user:r,appId:T}),l==="profile"&&D.jsx(ED,{user:r,appId:T})]}),D.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 pb-safe z-20",children:D.jsxs("div",{className:"max-w-2xl mx-auto flex justify-around p-2",children:[D.jsx(Kc,{active:l==="habits",onClick:()=>c("habits"),icon:y1,label:"Habits"}),D.jsx(Kc,{active:l==="squad",onClick:()=>c("squad"),icon:E1,label:"Squad"}),D.jsx(Kc,{active:l==="leaderboard",onClick:()=>c("leaderboard"),icon:_1,label:"Ranks"}),D.jsx(Kc,{active:l==="profile",onClick:()=>c("profile"),icon:v1,label:"Profile"})]})}),d&&D.jsx(TD,{onClose:()=>g(!1),user:r,appId:T,showToast:A})]}):D.jsx(pD,{setUser:t,showToast:A})}const _D=({user:r,appId:t})=>{const[i,s]=wt.useState(null);return wt.useEffect(()=>{const l=Xs(ei(We,"artifacts",t,"public","data","users",r.uid),c=>{c.exists()&&s(c.data())},c=>console.error("Badge fetch error",c));return()=>l()},[r,t]),i?D.jsxs("div",{className:"flex items-center gap-4 bg-gray-800 px-3 py-1.5 rounded-full border border-gray-700",children:[D.jsxs("div",{className:"flex items-center gap-1.5 text-yellow-400",children:[D.jsx(Kh,{size:16,className:"fill-current"}),D.jsx("span",{className:"font-bold font-mono",children:i.coins||0})]}),D.jsx("div",{className:"w-px h-4 bg-gray-700"}),D.jsxs("div",{className:"flex items-center gap-1.5 text-pink-400",children:[D.jsx(Dg,{size:16,className:"fill-current"}),D.jsx("span",{className:"font-bold font-mono",children:i.cheers||0})]})]}):null},Kc=({active:r,onClick:t,icon:i,label:s})=>D.jsxs("button",{onClick:t,className:`flex flex-col items-center p-2 rounded-xl transition-all w-16 sm:w-20 ${r?"text-orange-500 bg-orange-500/10":"text-gray-400 hover:text-gray-200 hover:bg-gray-800"}`,children:[D.jsx(i,{size:24,strokeWidth:r?2.5:2}),D.jsx("span",{className:"text-xs mt-1 font-medium",children:s})]}),vD=({user:r,appId:t,setShowAddHabit:i,showToast:s})=>{const[l,c]=wt.useState([]),[d,g]=wt.useState(!0),[_,y]=wt.useState(null);wt.useEffect(()=>{const w=Jl(ho(We,"artifacts",t,"public","data","habits"),Cg("uid","==",r.uid)),H=Xs(w,q=>{const Q=q.docs.map(Z=>({id:Z.id,...Z.data()}));Q.sort((Z,tt)=>{const ft=Z.createdAt?new Date(Z.createdAt):0;return(tt.createdAt?new Date(tt.createdAt):0)-ft}),c(Q),g(!1)},q=>{console.error("Error fetching habits:",q),g(!1)});return()=>H()},[r,t]);const T=async w=>{const H=new Date().toISOString().split("T")[0],q=w.lastCompleted===H,Q=ei(We,"artifacts",t,"public","data","habits",w.id),Z=ei(We,"artifacts",t,"public","data","users",r.uid);try{if(q){const tt=(w.history||[]).filter(Mt=>Mt!==H);tt.sort((Mt,Zt)=>new Date(Mt)-new Date(Zt));const ft=tt.length>0?tt[tt.length-1]:null,ht=dD(tt);await bh(Q,{lastCompleted:ft,streak:ht,history:tt,totalCompletions:Ya(-1)}),await Zl(Z,{coins:Ya(-10),uid:r.uid},{merge:!0}),s("Habit completion undone.","info")}else{const tt=new Date;tt.setDate(tt.getDate()-1);const ft=tt.toISOString().split("T")[0];let ht=w.streak;w.lastCompleted===ft?ht+=1:w.lastCompleted!==H&&(ht=1),await bh(Q,{lastCompleted:H,streak:ht,history:RN(H),totalCompletions:Ya(1)}),await Zl(Z,{coins:Ya(10),uid:r.uid},{merge:!0}),s(`+10 Coins! Streak: ${ht}`,"success")}}catch(tt){console.error("Error toggling habit",tt),s("Action failed. Try again.","error")}},A=async()=>{if(_)try{await ON(ei(We,"artifacts",t,"public","data","habits",_)),s("Habit deleted.","info")}catch{s("Failed to delete.","error")}finally{y(null)}};return d?D.jsxs("div",{className:"text-center py-10 text-gray-500",children:[D.jsx(Zs,{className:"animate-spin inline mr-2"})," Loading habits..."]}):D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"flex justify-between items-center mb-6",children:[D.jsx("h2",{className:"text-2xl font-bold text-white",children:"My Daily Targets"}),D.jsx("button",{onClick:()=>i(!0),className:"bg-orange-500 hover:bg-orange-600 text-white p-2 rounded-full shadow-lg transition-transform hover:scale-105",children:D.jsx(WN,{size:24})})]}),D.jsx(gD,{isOpen:!!_,title:"Delete Habit?",message:"This will remove your streak and history permanently.",onConfirm:A,onCancel:()=>y(null)}),l.length===0?D.jsxs("div",{className:"text-center py-12 bg-gray-800/50 rounded-2xl border border-gray-700 border-dashed",children:[D.jsx("div",{className:"bg-gray-800 inline-block p-4 rounded-full mb-4",children:D.jsx(eD,{size:32,className:"text-gray-500"})}),D.jsx("p",{className:"text-gray-400 mb-4",children:"No habits being tracked yet."}),D.jsx("button",{onClick:()=>i(!0),className:"text-orange-400 font-medium hover:text-orange-300",children:"Start your first streak"})]}):D.jsx("div",{className:"grid gap-3",children:l.map(w=>{const H=new Date().toISOString().split("T")[0],q=w.lastCompleted===H,Q=new Date;Q.setDate(Q.getDate()-1);const Z=Q.toISOString().split("T")[0],tt=w.lastCompleted===H||w.lastCompleted===Z||w.streak===0;return D.jsxs("div",{className:`group relative bg-gray-800 rounded-xl p-4 border transition-all duration-300 ${q?"border-green-500/30 bg-green-500/5":"border-gray-700 hover:border-gray-600"}`,children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs("div",{className:"flex-1",children:[D.jsx("h3",{className:`font-semibold text-lg ${q?"text-green-400":"text-white"}`,children:w.title}),D.jsx("div",{className:"flex items-center gap-3 mt-1 text-sm",children:D.jsxs("div",{className:`flex items-center gap-1 ${tt&&w.streak>0?"text-orange-500":"text-gray-500"}`,children:[D.jsx(Qh,{size:14,className:tt&&w.streak>0?"fill-current":""}),D.jsxs("span",{className:"font-bold",children:[w.streak||0," day streak"]})]})})]}),D.jsx("button",{onClick:()=>T(w),className:`ml-4 rounded-full p-3 transition-all transform active:scale-95 flex items-center justify-center ${q?"bg-green-500 text-white shadow-[0_0_15px_rgba(34,197,94,0.4)] hover:bg-green-600":"bg-gray-700 text-gray-400 hover:bg-gray-600 hover:text-white"}`,title:q?"Undo Completion":"Complete Habit",children:q?D.jsx(rD,{size:24}):D.jsx(y1,{size:24})})]}),D.jsx("div",{className:"flex gap-1 mt-4 pt-4 border-t border-gray-700/50 justify-end",children:[...Array(5)].map((ft,ht)=>{const Mt=new Date;Mt.setDate(Mt.getDate()-(4-ht));const Zt=Mt.toISOString().split("T")[0],kt=w.history&&w.history.includes(Zt);return D.jsx("div",{className:`w-2 h-2 rounded-full ${kt?"bg-green-500":"bg-gray-700"}`,title:Zt},ht)})}),D.jsx("button",{onClick:ft=>{ft.stopPropagation(),y(w.id)},className:"absolute top-2 right-2 p-1 text-gray-600 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity",children:D.jsx(T1,{size:14})})]},w.id)})})]})},ED=({user:r,appId:t})=>{const[i,s]=wt.useState(null),[l,c]=wt.useState([]),[d,g]=wt.useState(!0);if(wt.useEffect(()=>{const T=ei(We,"artifacts",t,"public","data","users",r.uid),A=Xs(T,q=>{s(q.data())}),w=Jl(ho(We,"artifacts",t,"public","data","habits"),Cg("uid","==",r.uid)),H=Xs(w,q=>{const Q=q.docs.map(Z=>Z.data());c(Q),g(!1)});return()=>{A(),H()}},[r,t]),d||!i)return D.jsxs("div",{className:"text-center py-10 text-gray-500",children:[D.jsx(Zs,{className:"animate-spin inline mr-2"})," Loading profile..."]});const y=(()=>{const T=[];for(let A=27;A>=0;A--){const w=new Date;w.setDate(w.getDate()-A);const H=w.toISOString().split("T")[0],q=l.length,Q=l.filter(tt=>tt.history&&tt.history.includes(H)).length;let Z=0;q>0&&(Q===q?Z=2:Q>0&&(Z=1)),T.push({date:w,dateStr:H,intensity:Z,completedCount:Q,total:q})}return T})();return D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700 shadow-xl",children:[D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsx("div",{className:"w-24 h-24 bg-gradient-to-tr from-orange-500 to-red-600 rounded-full flex items-center justify-center text-4xl font-bold text-white mb-4 shadow-lg shadow-orange-500/30",children:i.displayName?i.displayName[0].toUpperCase():"U"}),D.jsx("h2",{className:"text-2xl font-bold text-white",children:i.displayName}),D.jsx("p",{className:"text-gray-400",children:i.email}),D.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Joined ",new Date(i.joinedAt).toLocaleDateString()]})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[D.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl text-center border border-gray-700",children:[D.jsx("div",{className:"text-gray-400 text-sm mb-1 uppercase tracking-wider font-semibold",children:"Total Coins"}),D.jsxs("div",{className:"text-3xl font-bold text-yellow-500 flex justify-center items-center gap-2",children:[D.jsx(Kh,{size:24})," ",i.coins||0]})]}),D.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl text-center border border-gray-700",children:[D.jsx("div",{className:"text-gray-400 text-sm mb-1 uppercase tracking-wider font-semibold",children:"Total Cheers"}),D.jsxs("div",{className:"text-3xl font-bold text-pink-500 flex justify-center items-center gap-2",children:[D.jsx(Dg,{size:24})," ",i.cheers||0]})]})]})]}),D.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700",children:[D.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[D.jsx(jN,{className:"text-orange-500",size:24}),D.jsx("h3",{className:"text-xl font-bold text-white",children:"Past 28 Days"})]}),D.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["S","M","T","W","T","F","S"].map((T,A)=>D.jsx("div",{className:"text-center text-xs text-gray-500 font-bold mb-1",children:T},A)),y.map((T,A)=>D.jsx("div",{className:`
                 aspect-square rounded-lg flex items-center justify-center text-xs font-medium transition-all
                 ${T.intensity===2?"bg-green-500 text-black shadow-[0_0_10px_rgba(34,197,94,0.4)] scale-105":T.intensity===1?"bg-green-900/60 text-green-200 border border-green-800":"bg-gray-900 text-gray-600 border border-gray-800"}
               `,title:`${T.dateStr}: ${T.completedCount}/${T.total} habits`,children:T.date.getDate()},A))]}),D.jsxs("div",{className:"flex justify-between mt-4 text-xs text-gray-400 px-2",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-3 h-3 bg-gray-900 border border-gray-800 rounded"}),D.jsx("span",{children:"None"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-3 h-3 bg-green-900/60 border border-green-800 rounded"}),D.jsx("span",{children:"Some"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-3 h-3 bg-green-500 rounded shadow-sm"}),D.jsx("span",{children:"All Done!"})]})]})]})]})},TD=({onClose:r,user:t,appId:i,showToast:s})=>{const[l,c]=wt.useState(""),[d,g]=wt.useState(!1),_=async y=>{if(y.preventDefault(),!(!l.trim()||d)){g(!0);try{await VN(ho(We,"artifacts",i,"public","data","habits"),{uid:t.uid,title:l,streak:0,lastCompleted:null,history:[],createdAt:new Date().toISOString(),totalCompletions:0}),s("Habit added successfully!","success"),r()}catch(T){console.error("Error adding habit",T),s("Failed to add habit","error")}finally{g(!1)}}};return D.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-in fade-in",children:D.jsxs("div",{className:"bg-gray-800 rounded-2xl w-full max-w-sm p-6 border border-gray-700 shadow-2xl",children:[D.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"New Habit"}),D.jsxs("form",{onSubmit:_,children:[D.jsx("input",{autoFocus:!0,type:"text",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white mb-4 focus:border-orange-500 focus:outline-none placeholder-gray-500",placeholder:"e.g., Read for 15 mins",value:l,onChange:y=>c(y.target.value),disabled:d}),D.jsxs("div",{className:"flex gap-3",children:[D.jsx("button",{type:"button",onClick:r,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg font-medium transition-colors",disabled:d,children:"Cancel"}),D.jsx("button",{type:"submit",className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-lg font-medium transition-colors flex justify-center items-center",disabled:d,children:d?D.jsx(Zs,{className:"animate-spin",size:20}):"Start Tracking"})]})]})]})})},bD=({user:r,appId:t,showToast:i})=>{const[s,l]=wt.useState([]),[c,d]=wt.useState(null),[g,_]=wt.useState([]),[y,T]=wt.useState(!0);wt.useEffect(()=>{const q=Jl(ho(We,"artifacts",t,"public","data","users")),Q=Xs(q,Z=>{const tt=Z.docs.map(ft=>ft.data()).filter(ft=>ft.uid!==r.uid);l(tt),T(!1)},Z=>{console.error("Squad fetch error",Z),T(!1)});return()=>Q()},[t,r]);const A=q=>{if(c===q){d(null);return}d(q),_([]);const Q=Jl(ho(We,"artifacts",t,"public","data","habits"),Cg("uid","==",q));Xs(Q,Z=>{_(Z.docs.map(tt=>tt.data()))})},w=async(q,Q)=>{q.stopPropagation();try{const Z=ei(We,"artifacts",t,"public","data","users",Q.uid),tt=ei(We,"artifacts",t,"public","data","users",r.uid);await bh(Z,{cheers:Ya(1)}),await bh(tt,{coins:Ya(5)}),i(`Cheered ${Q.displayName}! (+5 coins)`,"success")}catch(Z){console.error(Z),i("Failed to send cheer.","error")}},H=()=>{const q=window.location.href;try{const Q=document.createElement("input");Q.value=q,document.body.appendChild(Q),Q.select(),document.execCommand("copy"),document.body.removeChild(Q),i("Link copied to clipboard!","success")}catch{i("Could not copy link.","error")}};return y?D.jsxs("div",{className:"text-center py-10 text-gray-500",children:[D.jsx(Zs,{className:"animate-spin inline mr-2"})," Finding squad..."]}):D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"flex justify-between items-center mb-6",children:[D.jsx("h2",{className:"text-2xl font-bold text-white",children:"Squad Activity"}),D.jsxs("button",{onClick:H,className:"flex items-center gap-2 text-sm bg-gray-800 hover:bg-gray-700 text-gray-300 px-3 py-2 rounded-lg transition-colors border border-gray-700",children:[D.jsx(aD,{size:16}),D.jsx("span",{children:"Invite"})]})]}),D.jsx("div",{className:"bg-blue-900/20 border border-blue-500/20 p-4 rounded-xl mb-4",children:D.jsxs("div",{className:"flex gap-3",children:[D.jsx(E1,{className:"text-blue-400 flex-shrink-0",size:24}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-bold text-blue-100 text-sm",children:"How Squads Work"}),D.jsx("p",{className:"text-xs text-blue-300 mt-1",children:"Everyone here is in the squad! Compete for coins and send cheers to boost motivation."})]})]})}),s.length===0?D.jsx("p",{className:"text-gray-500 text-center py-8",children:"No one else is here yet. Be the first to invite a friend!"}):s.map(q=>D.jsxs("div",{className:"bg-gray-800 rounded-xl overflow-hidden border border-gray-700 mb-3",children:[D.jsxs("div",{onClick:()=>A(q.uid),className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-750 transition-colors",children:[D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-purple-500 to-indigo-600 flex items-center justify-center font-bold text-lg text-white",children:q.displayName?q.displayName[0].toUpperCase():"?"}),D.jsxs("div",{children:[D.jsx("div",{className:"font-bold text-white",children:q.displayName}),D.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-2",children:[D.jsxs("span",{className:"flex items-center gap-1",children:[D.jsx(Kh,{size:10,className:"text-yellow-500"})," ",q.coins||0]}),D.jsxs("span",{className:"flex items-center gap-1",children:[D.jsx(Dg,{size:10,className:"text-pink-500"})," ",q.cheers||0," cheers"]})]})]})]}),D.jsx("button",{onClick:Q=>w(Q,q),className:"bg-pink-500/10 hover:bg-pink-500/20 text-pink-500 p-2 rounded-full transition-colors active:scale-95 border border-pink-500/20",title:"Send Cheer",children:D.jsx(hD,{size:20})})]}),c===q.uid&&D.jsxs("div",{className:"bg-gray-900/50 p-4 border-t border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[D.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3",children:"Their Habits"}),g.length===0?D.jsx("p",{className:"text-sm text-gray-500 italic",children:"No public habits yet."}):D.jsx("div",{className:"space-y-2",children:g.map((Q,Z)=>D.jsxs("div",{className:"flex justify-between items-center text-sm bg-gray-800 p-2 rounded border border-gray-700",children:[D.jsx("span",{className:"text-gray-300",children:Q.title}),D.jsxs("div",{className:"flex items-center gap-1 text-orange-500 font-mono",children:[D.jsx(Qh,{size:12}),Q.streak]})]},Z))})]})]},q.uid))]})},AD=({user:r,appId:t})=>{const[i,s]=wt.useState([]),[l,c]=wt.useState(!0);return wt.useEffect(()=>{const d=Jl(ho(We,"artifacts",t,"public","data","users")),g=Xs(d,_=>{const y=_.docs.map(T=>T.data());y.sort((T,A)=>(A.coins||0)-(T.coins||0)),s(y),c(!1)},_=>{console.error("Leaderboard error",_),c(!1)});return()=>g()},[t]),l?D.jsxs("div",{className:"text-center py-10 text-gray-500",children:[D.jsx(Zs,{className:"animate-spin inline mr-2"})," Loading ranks..."]}):D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"text-center py-6",children:[D.jsxs("div",{className:"relative inline-block",children:[D.jsx(_1,{size:48,className:"text-yellow-500 mx-auto mb-2"}),D.jsx("div",{className:"absolute -top-1 -right-1 animate-ping h-3 w-3 rounded-full bg-yellow-400 opacity-75"})]}),D.jsx("h2",{className:"text-2xl font-bold text-white",children:"Coin Leaderboard"}),D.jsx("p",{className:"text-gray-400 text-sm",children:"Earn coins by maintaining streaks & cheering squad."})]}),D.jsx("div",{className:"bg-gray-800 rounded-2xl overflow-hidden border border-gray-700 shadow-xl",children:i.length===0?D.jsx("div",{className:"p-8 text-center text-gray-500",children:"No data yet."}):i.map((d,g)=>D.jsxs("div",{className:`flex items-center p-4 border-b border-gray-700 last:border-0 ${d.uid===r.uid?"bg-orange-500/10":""}`,children:[D.jsx("div",{className:`
              w-8 h-8 flex items-center justify-center rounded-full font-bold mr-4
              ${g===0?"bg-yellow-500 text-black shadow-lg shadow-yellow-500/50":g===1?"bg-gray-400 text-black":g===2?"bg-amber-700 text-white":"text-gray-500"}
            `,children:g+1}),D.jsxs("div",{className:"flex-1",children:[D.jsxs("div",{className:"font-bold text-white flex items-center gap-2",children:[d.displayName,d.uid===r.uid&&D.jsx("span",{className:"text-[10px] bg-orange-500 text-white px-1.5 py-0.5 rounded uppercase tracking-wider",children:"You"})]}),D.jsxs("div",{className:"text-xs text-gray-500",children:["Joined ",new Date(d.joinedAt).toLocaleDateString()]})]}),D.jsxs("div",{className:"font-mono font-bold text-yellow-500 flex items-center gap-1",children:[d.coins||0," ",D.jsx(Kh,{size:14})]})]},d.uid))})]})};lA.createRoot(document.getElementById("root")).render(D.jsx(wt.StrictMode,{children:D.jsx(yD,{})}));
